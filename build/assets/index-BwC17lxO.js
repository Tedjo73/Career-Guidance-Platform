function Q1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Y0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vp={exports:{}},vc={},Lp={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function Y1(){if(S_)return Ke;S_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,R={};function P(z,Z,ie){this.props=z,this.context=Z,this.refs=R,this.updater=ie||b}P.prototype.isReactComponent={},P.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=P.prototype;function $(z,Z,ie){this.props=z,this.context=Z,this.refs=R,this.updater=ie||b}var H=$.prototype=new F;H.constructor=$,V(H,P.prototype),H.isPureReactComponent=!0;var W=Array.isArray,J=Object.prototype.hasOwnProperty,ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(z,Z,ie){var he,ve={},be=null,oe=null;if(Z!=null)for(he in Z.ref!==void 0&&(oe=Z.ref),Z.key!==void 0&&(be=""+Z.key),Z)J.call(Z,he)&&!k.hasOwnProperty(he)&&(ve[he]=Z[he]);var ge=arguments.length-2;if(ge===1)ve.children=ie;else if(1<ge){for(var Re=Array(ge),De=0;De<ge;De++)Re[De]=arguments[De+2];ve.children=Re}if(z&&z.defaultProps)for(he in ge=z.defaultProps,ge)ve[he]===void 0&&(ve[he]=ge[he]);return{$$typeof:n,type:z,key:be,ref:oe,props:ve,_owner:ee.current}}function D(z,Z){return{$$typeof:n,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function O(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return Z[ie]})}var j=/\/+/g;function C(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):Z.toString(36)}function ue(z,Z,ie,he,ve){var be=typeof z;(be==="undefined"||be==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(be){case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case n:case e:oe=!0}}if(oe)return oe=z,ve=ve(oe),z=he===""?"."+C(oe,0):he,W(ve)?(ie="",z!=null&&(ie=z.replace(j,"$&/")+"/"),ue(ve,Z,ie,"",function(De){return De})):ve!=null&&(N(ve)&&(ve=D(ve,ie+(!ve.key||oe&&oe.key===ve.key?"":(""+ve.key).replace(j,"$&/")+"/")+z)),Z.push(ve)),1;if(oe=0,he=he===""?".":he+":",W(z))for(var ge=0;ge<z.length;ge++){be=z[ge];var Re=he+C(be,ge);oe+=ue(be,Z,ie,Re,ve)}else if(Re=E(z),typeof Re=="function")for(z=Re.call(z),ge=0;!(be=z.next()).done;)be=be.value,Re=he+C(be,ge++),oe+=ue(be,Z,ie,Re,ve);else if(be==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return oe}function me(z,Z,ie){if(z==null)return z;var he=[],ve=0;return ue(z,he,"","",function(be){return Z.call(ie,be,ve++)}),he}function Q(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var ae={current:null},L={transition:null},se={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:L,ReactCurrentOwner:ee};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:me,forEach:function(z,Z,ie){me(z,function(){Z.apply(this,arguments)},ie)},count:function(z){var Z=0;return me(z,function(){Z++}),Z},toArray:function(z){return me(z,function(Z){return Z})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=P,Ke.Fragment=t,Ke.Profiler=o,Ke.PureComponent=$,Ke.StrictMode=r,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ke.act=te,Ke.cloneElement=function(z,Z,ie){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var he=V({},z.props),ve=z.key,be=z.ref,oe=z._owner;if(Z!=null){if(Z.ref!==void 0&&(be=Z.ref,oe=ee.current),Z.key!==void 0&&(ve=""+Z.key),z.type&&z.type.defaultProps)var ge=z.type.defaultProps;for(Re in Z)J.call(Z,Re)&&!k.hasOwnProperty(Re)&&(he[Re]=Z[Re]===void 0&&ge!==void 0?ge[Re]:Z[Re])}var Re=arguments.length-2;if(Re===1)he.children=ie;else if(1<Re){ge=Array(Re);for(var De=0;De<Re;De++)ge[De]=arguments[De+2];he.children=ge}return{$$typeof:n,type:z.type,key:ve,ref:be,props:he,_owner:oe}},Ke.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ke.createElement=I,Ke.createFactory=function(z){var Z=I.bind(null,z);return Z.type=z,Z},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:f,render:z}},Ke.isValidElement=N,Ke.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:Q}},Ke.memo=function(z,Z){return{$$typeof:m,type:z,compare:Z===void 0?null:Z}},Ke.startTransition=function(z){var Z=L.transition;L.transition={};try{z()}finally{L.transition=Z}},Ke.unstable_act=te,Ke.useCallback=function(z,Z){return ae.current.useCallback(z,Z)},Ke.useContext=function(z){return ae.current.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z){return ae.current.useDeferredValue(z)},Ke.useEffect=function(z,Z){return ae.current.useEffect(z,Z)},Ke.useId=function(){return ae.current.useId()},Ke.useImperativeHandle=function(z,Z,ie){return ae.current.useImperativeHandle(z,Z,ie)},Ke.useInsertionEffect=function(z,Z){return ae.current.useInsertionEffect(z,Z)},Ke.useLayoutEffect=function(z,Z){return ae.current.useLayoutEffect(z,Z)},Ke.useMemo=function(z,Z){return ae.current.useMemo(z,Z)},Ke.useReducer=function(z,Z,ie){return ae.current.useReducer(z,Z,ie)},Ke.useRef=function(z){return ae.current.useRef(z)},Ke.useState=function(z){return ae.current.useState(z)},Ke.useSyncExternalStore=function(z,Z,ie){return ae.current.useSyncExternalStore(z,Z,ie)},Ke.useTransition=function(){return ae.current.useTransition()},Ke.version="18.3.1",Ke}var I_;function eg(){return I_||(I_=1,Lp.exports=Y1()),Lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function X1(){if(C_)return vc;C_=1;var n=eg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var w,_={},E=null,b=null;m!==void 0&&(E=""+m),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(b=p.ref);for(w in p)r.call(p,w)&&!a.hasOwnProperty(w)&&(_[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)_[w]===void 0&&(_[w]=p[w]);return{$$typeof:e,type:f,key:E,ref:b,props:_,_owner:o.current}}return vc.Fragment=t,vc.jsx=c,vc.jsxs=c,vc}var b_;function J1(){return b_||(b_=1,Vp.exports=X1()),Vp.exports}var d=J1(),_d={},Fp={exports:{}},Hn={},Up={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function Z1(){return A_||(A_=1,(function(n){function e(L,se){var te=L.length;L.push(se);e:for(;0<te;){var z=te-1>>>1,Z=L[z];if(0<o(Z,se))L[z]=se,L[te]=Z,te=z;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var se=L[0],te=L.pop();if(te!==se){L[0]=te;e:for(var z=0,Z=L.length,ie=Z>>>1;z<ie;){var he=2*(z+1)-1,ve=L[he],be=he+1,oe=L[be];if(0>o(ve,te))be<Z&&0>o(oe,ve)?(L[z]=oe,L[be]=te,z=be):(L[z]=ve,L[he]=te,z=he);else if(be<Z&&0>o(oe,te))L[z]=oe,L[be]=te,z=be;else break e}}return se}function o(L,se){var te=L.sortIndex-se.sortIndex;return te!==0?te:L.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],w=1,_=null,E=3,b=!1,V=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(L){for(var se=t(m);se!==null;){if(se.callback===null)r(m);else if(se.startTime<=L)r(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(m)}}function W(L){if(R=!1,H(L),!V)if(t(p)!==null)V=!0,Q(J);else{var se=t(m);se!==null&&ae(W,se.startTime-L)}}function J(L,se){V=!1,R&&(R=!1,F(I),I=-1),b=!0;var te=E;try{for(H(se),_=t(p);_!==null&&(!(_.expirationTime>se)||L&&!O());){var z=_.callback;if(typeof z=="function"){_.callback=null,E=_.priorityLevel;var Z=z(_.expirationTime<=se);se=n.unstable_now(),typeof Z=="function"?_.callback=Z:_===t(p)&&r(p),H(se)}else r(p);_=t(p)}if(_!==null)var ie=!0;else{var he=t(m);he!==null&&ae(W,he.startTime-se),ie=!1}return ie}finally{_=null,E=te,b=!1}}var ee=!1,k=null,I=-1,D=5,N=-1;function O(){return!(n.unstable_now()-N<D)}function j(){if(k!==null){var L=n.unstable_now();N=L;var se=!0;try{se=k(!0,L)}finally{se?C():(ee=!1,k=null)}}else ee=!1}var C;if(typeof $=="function")C=function(){$(j)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,me=ue.port2;ue.port1.onmessage=j,C=function(){me.postMessage(null)}}else C=function(){P(j,0)};function Q(L){k=L,ee||(ee=!0,C())}function ae(L,se){I=P(function(){L(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){V||b||(V=!0,Q(J))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(L){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var te=E;E=se;try{return L()}finally{E=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,se){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=E;E=L;try{return se()}finally{E=te}},n.unstable_scheduleCallback=function(L,se,te){var z=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?z+te:z):te=z,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,L={id:w++,callback:se,priorityLevel:L,startTime:te,expirationTime:Z,sortIndex:-1},te>z?(L.sortIndex=te,e(m,L),t(p)===null&&L===t(m)&&(R?(F(I),I=-1):R=!0,ae(W,te-z))):(L.sortIndex=Z,e(p,L),V||b||(V=!0,Q(J))),L},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(L){var se=E;return function(){var te=E;E=se;try{return L.apply(this,arguments)}finally{E=te}}}})(zp)),zp}var R_;function eC(){return R_||(R_=1,Up.exports=Z1()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function tC(){if(P_)return Hn;P_=1;var n=eg(),e=eC();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},_={};function E(s){return p.call(_,s)?!0:p.call(w,s)?!1:m.test(s)?_[s]=!0:(w[s]=!0,!1)}function b(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function V(s,i,l,h){if(i===null||typeof i>"u"||b(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function R(s,i,l,h,g,y,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=S}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];P[i]=new R(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(F,$);P[i]=new R(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(F,$);P[i]=new R(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(F,$);P[i]=new R(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,i,l,h){var g=P.hasOwnProperty(i)?P[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(V(i,l,g,h)&&(l=null),h||g===null?E(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):g.mustUseProperty?s[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,h=g.attributeNamespace,l===null?s.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),L=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,z;function Z(s){if(z===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var ie=!1;function he(s,i){if(!s||ie)return"";ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Y){var h=Y}Reflect.construct(s,[],i)}else{try{i.call()}catch(Y){h=Y}s.call(i.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),y=h.stack.split(`
`),S=g.length-1,M=y.length-1;1<=S&&0<=M&&g[S]!==y[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==y[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==y[M]){var U=`
`+g[S].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=S&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function ve(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case ee:return"Portal";case D:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case j:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case Q:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function oe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(s){var i=Re(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function He(s){s._valueTracker||(s._valueTracker=De(s))}function Ge(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Re(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function At(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function sn(s,i){var l=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Jr(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=ge(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qn(s,i){i=i.checked,i!=null&&H(s,"checked",i,!1)}function pn(s,i){Qn(s,i);var l=ge(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?pt(s,i.type,l):i.hasOwnProperty("defaultValue")&&pt(s,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function ui(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function pt(s,i,l){(i!=="number"||At(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Rt=Array.isArray;function Yn(s,i,l,h){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&h&&(s[l].defaultSelected=!0)}else{for(l=""+ge(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Jt(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fr(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Rt(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:ge(l)}}function ra(s,i){var l=ge(i.value),h=ge(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Zr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function es(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function di(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?es(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Cr,hi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,g){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,g)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Cr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Vn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ar=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(s){Ar.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),br[i]=br[s]})});function ts(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||br.hasOwnProperty(s)&&br[s]?(""+i).trim():i+"px"}function fi(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=ts(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,g):s[l]=g}}var pi=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(s,i){if(i){if(pi[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function mi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function jn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rr=null,Pr=null,Et=null;function gi(s){if(s=rc(s)){if(typeof Rr!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Du(i),Rr(s.stateNode,s.type,i))}}function Oe(s){Pr?Et?Et.push(s):Et=[s]:Pr=s}function yt(){if(Pr){var s=Pr,i=Et;if(Et=Pr=null,gi(s),i)for(s=0;s<i.length;s++)gi(i[s])}}function Lt(s,i){return s(i)}function on(){}var Dn=!1;function jt(s,i,l){if(Dn)return s(i,l);Dn=!0;try{return Lt(s,i,l)}finally{Dn=!1,(Pr!==null||Et!==null)&&(on(),yt())}}function $t(s,i){var l=s.stateNode;if(l===null)return null;var h=Du(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Xn=!1;if(f)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Xn=!1}function En(s,i,l,h,g,y,S,M,U){var Y=Array.prototype.slice.call(arguments,3);try{i.apply(l,Y)}catch(ce){this.onError(ce)}}var mr=!1,an=null,uo=!1,gr=null,hu={onError:function(s){mr=!0,an=s}};function fu(s,i,l,h,g,y,S,M,U){mr=!1,an=null,En.apply(hu,arguments)}function kl(s,i,l,h,g,y,S,M,U){if(fu.apply(this,arguments),mr){if(mr){var Y=an;mr=!1,an=null}else throw Error(t(198));uo||(uo=!0,gr=Y)}}function kr(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Nl(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function pu(s){if(kr(s)!==s)throw Error(t(188))}function mu(s){var i=s.alternate;if(!i){if(i=kr(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return pu(g),s;if(y===h)return pu(g),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=g,h=y;else{for(var S=!1,M=g.child;M;){if(M===l){S=!0,l=g,h=y;break}if(M===h){S=!0,h=g,l=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===l){S=!0,l=y,h=g;break}if(M===h){S=!0,h=y,l=g;break}M=M.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function gu(s){return s=mu(s),s!==null?ho(s):null}function ho(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=ho(s);if(i!==null)return i;s=s.sibling}return null}var jl=e.unstable_scheduleCallback,sa=e.unstable_cancelCallback,fo=e.unstable_shouldYield,Ms=e.unstable_requestPaint,Tt=e.unstable_now,pf=e.unstable_getCurrentPriorityLevel,ia=e.unstable_ImmediatePriority,Dl=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,oa=e.unstable_IdlePriority,mo=null,Jn=null;function yu(s){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(mo,s,void 0,(s.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:go,ns=Math.log,yr=Math.LN2;function go(s){return s>>>=0,s===0?32:31-(ns(s)/yr|0)|0}var rs=64,yi=4194304;function ct(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Vs(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,g=s.suspendedLanes,y=s.pingedLanes,S=l&268435455;if(S!==0){var M=S&~g;M!==0?h=ct(M):(y&=S,y!==0&&(h=ct(y)))}else S=l&~g,S!==0?h=ct(S):y!==0&&(h=ct(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,y=i&-i,g>=y||g===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-Zn(i),g=1<<l,h|=s[l],i&=~g;return h}function yo(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-Zn(y),M=1<<S,U=g[S];U===-1?((M&l)===0||(M&h)!==0)&&(g[S]=yo(M,i)):U<=i&&(s.expiredLanes|=M),y&=~M}}function Ml(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Vl(){var s=rs;return rs<<=1,(rs&4194240)===0&&(rs=64),s}function Ll(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function _o(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Zn(i),s[i]=l}function mf(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var g=31-Zn(l),y=1<<g;i[g]=0,h[g]=-1,s[g]=-1,l&=~y}}function Fl(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-Zn(l),g=1<<h;g&i|s[h]&i&&(s[h]|=i),l&=~g}}var tt=0;function ss(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ul,aa,zl,Bl,$l,is=!1,la=[],os=null,as=null,mn=null,wo=new Map,Ls=new Map,er=[],vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vi(s,i){switch(s){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":wo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(i.pointerId)}}function Nr(s,i,l,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},i!==null&&(i=rc(i),i!==null&&aa(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function _u(s,i,l,h,g){switch(i){case"focusin":return os=Nr(os,s,i,l,h,g),!0;case"dragenter":return as=Nr(as,s,i,l,h,g),!0;case"mouseover":return mn=Nr(mn,s,i,l,h,g),!0;case"pointerover":var y=g.pointerId;return wo.set(y,Nr(wo.get(y)||null,s,i,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ls.set(y,Nr(Ls.get(y)||null,s,i,l,h,g)),!0}return!1}function ca(s){var i=So(s.target);if(i!==null){var l=kr(i);if(l!==null){if(i=l.tag,i===13){if(i=Nl(l),i!==null){s.blockedOn=i,$l(s.priority,function(){zl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vt(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=ua(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);pr=h,l.target.dispatchEvent(h),pr=null}else return i=rc(l),i!==null&&aa(i),s.blockedOn=l,!1;i.shift()}return!0}function wu(s,i,l){vt(s)&&l.delete(i)}function gf(){is=!1,os!==null&&vt(os)&&(os=null),as!==null&&vt(as)&&(as=null),mn!==null&&vt(mn)&&(mn=null),wo.forEach(wu),Ls.forEach(wu)}function _i(s,i){s.blockedOn===i&&(s.blockedOn=null,is||(is=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gf)))}function wi(s){function i(g){return _i(g,s)}if(0<la.length){_i(la[0],s);for(var l=1;l<la.length;l++){var h=la[l];h.blockedOn===s&&(h.blockedOn=null)}}for(os!==null&&_i(os,s),as!==null&&_i(as,s),mn!==null&&_i(mn,s),wo.forEach(i),Ls.forEach(i),l=0;l<er.length;l++)h=er[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<er.length&&(l=er[0],l.blockedOn===null);)ca(l),l.blockedOn===null&&er.shift()}var Fs=W.ReactCurrentBatchConfig,Us=!0;function ls(s,i,l,h){var g=tt,y=Fs.transition;Fs.transition=null;try{tt=1,Hl(s,i,l,h)}finally{tt=g,Fs.transition=y}}function xu(s,i,l,h){var g=tt,y=Fs.transition;Fs.transition=null;try{tt=4,Hl(s,i,l,h)}finally{tt=g,Fs.transition=y}}function Hl(s,i,l,h){if(Us){var g=ua(s,i,l,h);if(g===null)bf(s,i,h,cs,l),vi(s,h);else if(_u(g,s,i,l,h))h.stopPropagation();else if(vi(s,h),i&4&&-1<vu.indexOf(s)){for(;g!==null;){var y=rc(g);if(y!==null&&Ul(y),y=ua(s,i,l,h),y===null&&bf(s,i,h,cs,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else bf(s,i,h,null,l)}}var cs=null;function ua(s,i,l,h){if(cs=null,s=jn(h),s=So(s),s!==null)if(i=kr(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Nl(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return cs=s,null}function da(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case ia:return 1;case Dl:return 4;case po:case Ol:return 16;case oa:return 536870912;default:return 16}default:return 16}}var tr=null,ha=null,zs=null;function Eu(){if(zs)return zs;var s,i=ha,l=i.length,h,g="value"in tr?tr.value:tr.textContent,y=g.length;for(s=0;s<l&&i[s]===g[s];s++);var S=l-s;for(h=1;h<=S&&i[l-h]===g[y-h];h++);return zs=g.slice(s,1<h?1-h:void 0)}function xo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function us(){return!0}function Wl(){return!1}function Tn(s){function i(l,h,g,y,S){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(l=s[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?us:Wl,this.isPropagationStopped=Wl,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),i}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Tn(ds),xi=te({},ds,{view:0,detail:0}),fa=Tn(xi),pa,ma,nr,To=te({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==nr&&(nr&&s.type==="mousemove"?(pa=s.screenX-nr.screenX,ma=s.screenY-nr.screenY):ma=pa=0,nr=s),pa)},movementY:function(s){return"movementY"in s?s.movementY:ma}}),ql=Tn(To),Tu=te({},To,{dataTransfer:0}),Su=Tn(Tu),ga=te({},xi,{relatedTarget:0}),gn=Tn(ga),Iu=te({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Tn(Iu),Ei=te({},ds,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=Tn(Ei),v=te({},ds,{data:0}),x=Tn(v),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=X[s])?!!i[s]:!1}function Be(){return ye}var Ft=te({},xi,{key:function(s){if(s.key){var i=A[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=xo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(s){return s.type==="keypress"?xo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gt=Tn(Ft),Wt=te({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Tn(Wt),Bs=te({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),hs=Tn(Bs),fs=te({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),ya=Tn(fs),Gl=te({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$I=Tn(Gl),HI=[9,13,27,32],yf=f&&"CompositionEvent"in window,Kl=null;f&&"documentMode"in document&&(Kl=document.documentMode);var WI=f&&"TextEvent"in window&&!Kl,gy=f&&(!yf||Kl&&8<Kl&&11>=Kl),yy=" ",vy=!1;function _y(s,i){switch(s){case"keyup":return HI.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var va=!1;function qI(s,i){switch(s){case"compositionend":return wy(i);case"keypress":return i.which!==32?null:(vy=!0,yy);case"textInput":return s=i.data,s===yy&&vy?null:s;default:return null}}function GI(s,i){if(va)return s==="compositionend"||!yf&&_y(s,i)?(s=Eu(),zs=ha=tr=null,va=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gy&&i.locale!=="ko"?null:i.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!KI[s.type]:i==="textarea"}function Ey(s,i,l,h){Oe(h),i=ku(i,"onChange"),0<i.length&&(l=new Eo("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Ql=null,Yl=null;function QI(s){Uy(s,0)}function bu(s){var i=Ta(s);if(Ge(i))return s}function YI(s,i){if(s==="change")return i}var Ty=!1;if(f){var vf;if(f){var _f="oninput"in document;if(!_f){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),_f=typeof Sy.oninput=="function"}vf=_f}else vf=!1;Ty=vf&&(!document.documentMode||9<document.documentMode)}function Iy(){Ql&&(Ql.detachEvent("onpropertychange",Cy),Yl=Ql=null)}function Cy(s){if(s.propertyName==="value"&&bu(Yl)){var i=[];Ey(i,Yl,s,jn(s)),jt(QI,i)}}function XI(s,i,l){s==="focusin"?(Iy(),Ql=i,Yl=l,Ql.attachEvent("onpropertychange",Cy)):s==="focusout"&&Iy()}function JI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bu(Yl)}function ZI(s,i){if(s==="click")return bu(i)}function e1(s,i){if(s==="input"||s==="change")return bu(i)}function t1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var jr=typeof Object.is=="function"?Object.is:t1;function Xl(s,i){if(jr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!p.call(i,g)||!jr(s[g],i[g]))return!1}return!0}function by(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ay(s,i){var l=by(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=by(l)}}function Ry(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Ry(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Py(){for(var s=window,i=At();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=At(s.document)}return i}function wf(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function n1(s){var i=Py(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Ry(l.ownerDocument.documentElement,l)){if(h!==null&&wf(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var g=l.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!s.extend&&y>h&&(g=h,h=y,y=g),g=Ay(l,y);var S=Ay(l,h);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var r1=f&&"documentMode"in document&&11>=document.documentMode,_a=null,xf=null,Jl=null,Ef=!1;function ky(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ef||_a==null||_a!==At(h)||(h=_a,"selectionStart"in h&&wf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Jl&&Xl(Jl,h)||(Jl=h,h=ku(xf,"onSelect"),0<h.length&&(i=new Eo("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=_a)))}function Au(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var wa={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Tf={},Ny={};f&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ru(s){if(Tf[s])return Tf[s];if(!wa[s])return s;var i=wa[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ny)return Tf[s]=i[l];return s}var jy=Ru("animationend"),Dy=Ru("animationiteration"),Oy=Ru("animationstart"),My=Ru("transitionend"),Vy=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(s,i){Vy.set(s,i),a(i,[s])}for(var Sf=0;Sf<Ly.length;Sf++){var If=Ly[Sf],s1=If.toLowerCase(),i1=If[0].toUpperCase()+If.slice(1);Ti(s1,"on"+i1)}Ti(jy,"onAnimationEnd"),Ti(Dy,"onAnimationIteration"),Ti(Oy,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(My,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function Fy(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,kl(h,i,void 0,s),s.currentTarget=null}function Uy(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],g=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var S=h.length-1;0<=S;S--){var M=h[S],U=M.instance,Y=M.currentTarget;if(M=M.listener,U!==y&&g.isPropagationStopped())break e;Fy(g,M,Y),y=U}else for(S=0;S<h.length;S++){if(M=h[S],U=M.instance,Y=M.currentTarget,M=M.listener,U!==y&&g.isPropagationStopped())break e;Fy(g,M,Y),y=U}}}if(uo)throw s=gr,uo=!1,gr=null,s}function St(s,i){var l=i[jf];l===void 0&&(l=i[jf]=new Set);var h=s+"__bubble";l.has(h)||(zy(i,s,2,!1),l.add(h))}function Cf(s,i,l){var h=0;i&&(h|=4),zy(l,s,h,i)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function ec(s){if(!s[Pu]){s[Pu]=!0,r.forEach(function(l){l!=="selectionchange"&&(o1.has(l)||Cf(l,!1,s),Cf(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Pu]||(i[Pu]=!0,Cf("selectionchange",!1,i))}}function zy(s,i,l,h){switch(da(i)){case 1:var g=ls;break;case 4:g=xu;break;default:g=Hl}l=g.bind(null,i,l,s),g=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function bf(s,i,l,h,g){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;S=S.return}for(;M!==null;){if(S=So(M),S===null)return;if(U=S.tag,U===5||U===6){h=y=S;continue e}M=M.parentNode}}h=h.return}jt(function(){var Y=y,ce=jn(l),de=[];e:{var le=Vy.get(s);if(le!==void 0){var we=Eo,Te=s;switch(s){case"keypress":if(xo(l)===0)break e;case"keydown":case"keyup":we=gt;break;case"focusin":Te="focus",we=gn;break;case"focusout":Te="blur",we=gn;break;case"beforeblur":case"afterblur":we=gn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=hs;break;case jy:case Dy:case Oy:we=Cu;break;case My:we=ya;break;case"scroll":we=fa;break;case"wheel":we=$I;break;case"copy":case"cut":case"paste":we=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=rr}var Ce=(i&4)!==0,Ut=!Ce&&s==="scroll",q=Ce?le!==null?le+"Capture":null:le;Ce=[];for(var B=Y,K;B!==null;){K=B;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,q!==null&&(pe=$t(B,q),pe!=null&&Ce.push(tc(B,pe,K)))),Ut)break;B=B.return}0<Ce.length&&(le=new we(le,Te,null,l,ce),de.push({event:le,listeners:Ce}))}}if((i&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",le&&l!==pr&&(Te=l.relatedTarget||l.fromElement)&&(So(Te)||Te[$s]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Te=l.relatedTarget||l.toElement,we=Y,Te=Te?So(Te):null,Te!==null&&(Ut=kr(Te),Te!==Ut||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(we=null,Te=Y),we!==Te)){if(Ce=ql,pe="onMouseLeave",q="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=rr,pe="onPointerLeave",q="onPointerEnter",B="pointer"),Ut=we==null?le:Ta(we),K=Te==null?le:Ta(Te),le=new Ce(pe,B+"leave",we,l,ce),le.target=Ut,le.relatedTarget=K,pe=null,So(ce)===Y&&(Ce=new Ce(q,B+"enter",Te,l,ce),Ce.target=K,Ce.relatedTarget=Ut,pe=Ce),Ut=pe,we&&Te)t:{for(Ce=we,q=Te,B=0,K=Ce;K;K=xa(K))B++;for(K=0,pe=q;pe;pe=xa(pe))K++;for(;0<B-K;)Ce=xa(Ce),B--;for(;0<K-B;)q=xa(q),K--;for(;B--;){if(Ce===q||q!==null&&Ce===q.alternate)break t;Ce=xa(Ce),q=xa(q)}Ce=null}else Ce=null;we!==null&&By(de,le,we,Ce,!1),Te!==null&&Ut!==null&&By(de,Ut,Te,Ce,!0)}}e:{if(le=Y?Ta(Y):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Ae=YI;else if(xy(le))if(Ty)Ae=e1;else{Ae=JI;var ke=XI}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=ZI);if(Ae&&(Ae=Ae(s,Y))){Ey(de,Ae,l,ce);break e}ke&&ke(s,le,Y),s==="focusout"&&(ke=le._wrapperState)&&ke.controlled&&le.type==="number"&&pt(le,"number",le.value)}switch(ke=Y?Ta(Y):window,s){case"focusin":(xy(ke)||ke.contentEditable==="true")&&(_a=ke,xf=Y,Jl=null);break;case"focusout":Jl=xf=_a=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,ky(de,l,ce);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":ky(de,l,ce)}var Ne;if(yf)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else va?_y(s,l)&&(Ue="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(gy&&l.locale!=="ko"&&(va||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&va&&(Ne=Eu()):(tr=ce,ha="value"in tr?tr.value:tr.textContent,va=!0)),ke=ku(Y,Ue),0<ke.length&&(Ue=new x(Ue,s,null,l,ce),de.push({event:Ue,listeners:ke}),Ne?Ue.data=Ne:(Ne=wy(l),Ne!==null&&(Ue.data=Ne)))),(Ne=WI?qI(s,l):GI(s,l))&&(Y=ku(Y,"onBeforeInput"),0<Y.length&&(ce=new x("onBeforeInput","beforeinput",null,l,ce),de.push({event:ce,listeners:Y}),ce.data=Ne))}Uy(de,i)})}function tc(s,i,l){return{instance:s,listener:i,currentTarget:l}}function ku(s,i){for(var l=i+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=$t(s,l),y!=null&&h.unshift(tc(s,y,g)),y=$t(s,i),y!=null&&h.push(tc(s,y,g))),s=s.return}return h}function xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function By(s,i,l,h,g){for(var y=i._reactName,S=[];l!==null&&l!==h;){var M=l,U=M.alternate,Y=M.stateNode;if(U!==null&&U===h)break;M.tag===5&&Y!==null&&(M=Y,g?(U=$t(l,y),U!=null&&S.unshift(tc(l,U,M))):g||(U=$t(l,y),U!=null&&S.push(tc(l,U,M)))),l=l.return}S.length!==0&&s.push({event:i,listeners:S})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function $y(s){return(typeof s=="string"?s:""+s).replace(a1,`
`).replace(l1,"")}function Nu(s,i,l){if(i=$y(i),$y(s)!==i&&l)throw Error(t(425))}function ju(){}var Af=null,Rf=null;function Pf(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,c1=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(s){return Hy.resolve(null).then(s).catch(d1)}:kf;function d1(s){setTimeout(function(){throw s})}function Nf(s,i){var l=i,h=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){s.removeChild(g),wi(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);wi(i)}function Si(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Wy(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),ps="__reactFiber$"+Ea,nc="__reactProps$"+Ea,$s="__reactContainer$"+Ea,jf="__reactEvents$"+Ea,h1="__reactListeners$"+Ea,f1="__reactHandles$"+Ea;function So(s){var i=s[ps];if(i)return i;for(var l=s.parentNode;l;){if(i=l[$s]||l[ps]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Wy(s);s!==null;){if(l=s[ps])return l;s=Wy(s)}return i}s=l,l=s.parentNode}return null}function rc(s){return s=s[ps]||s[$s],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Du(s){return s[nc]||null}var Df=[],Sa=-1;function Ii(s){return{current:s}}function It(s){0>Sa||(s.current=Df[Sa],Df[Sa]=null,Sa--)}function wt(s,i){Sa++,Df[Sa]=s.current,s.current=i}var Ci={},Sn=Ii(Ci),Fn=Ii(!1),Io=Ci;function Ia(s,i){var l=s.type.contextTypes;if(!l)return Ci;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in l)g[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=g),g}function Un(s){return s=s.childContextTypes,s!=null}function Ou(){It(Fn),It(Sn)}function qy(s,i,l){if(Sn.current!==Ci)throw Error(t(168));wt(Sn,i),wt(Fn,l)}function Gy(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(t(108,oe(s)||"Unknown",g));return te({},l,h)}function Mu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,Io=Sn.current,wt(Sn,s),wt(Fn,Fn.current),!0}function Ky(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Gy(s,i,Io),h.__reactInternalMemoizedMergedChildContext=s,It(Fn),It(Sn),wt(Sn,s)):It(Fn),wt(Fn,l)}var Hs=null,Vu=!1,Of=!1;function Qy(s){Hs===null?Hs=[s]:Hs.push(s)}function p1(s){Vu=!0,Qy(s)}function bi(){if(!Of&&Hs!==null){Of=!0;var s=0,i=tt;try{var l=Hs;for(tt=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Hs=null,Vu=!1}catch(g){throw Hs!==null&&(Hs=Hs.slice(s+1)),jl(ia,bi),g}finally{tt=i,Of=!1}}return null}var Ca=[],ba=0,Lu=null,Fu=0,vr=[],_r=0,Co=null,Ws=1,qs="";function bo(s,i){Ca[ba++]=Fu,Ca[ba++]=Lu,Lu=s,Fu=i}function Yy(s,i,l){vr[_r++]=Ws,vr[_r++]=qs,vr[_r++]=Co,Co=s;var h=Ws;s=qs;var g=32-Zn(h)-1;h&=~(1<<g),l+=1;var y=32-Zn(i)+g;if(30<y){var S=g-g%5;y=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Ws=1<<32-Zn(i)+g|l<<g|h,qs=y+s}else Ws=1<<y|l<<g|h,qs=s}function Mf(s){s.return!==null&&(bo(s,1),Yy(s,1,0))}function Vf(s){for(;s===Lu;)Lu=Ca[--ba],Ca[ba]=null,Fu=Ca[--ba],Ca[ba]=null;for(;s===Co;)Co=vr[--_r],vr[_r]=null,qs=vr[--_r],vr[_r]=null,Ws=vr[--_r],vr[_r]=null}var sr=null,ir=null,Ct=!1,Dr=null;function Xy(s,i){var l=Tr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Jy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,sr=s,ir=Si(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,sr=s,ir=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Co!==null?{id:Ws,overflow:qs}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Tr(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,sr=s,ir=null,!0):!1;default:return!1}}function Lf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ff(s){if(Ct){var i=ir;if(i){var l=i;if(!Jy(s,i)){if(Lf(s))throw Error(t(418));i=Si(l.nextSibling);var h=sr;i&&Jy(s,i)?Xy(h,l):(s.flags=s.flags&-4097|2,Ct=!1,sr=s)}}else{if(Lf(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ct=!1,sr=s}}}function Zy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;sr=s}function Uu(s){if(s!==sr)return!1;if(!Ct)return Zy(s),Ct=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Pf(s.type,s.memoizedProps)),i&&(i=ir)){if(Lf(s))throw ev(),Error(t(418));for(;i;)Xy(s,i),i=Si(i.nextSibling)}if(Zy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){ir=Si(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}ir=null}}else ir=sr?Si(s.stateNode.nextSibling):null;return!0}function ev(){for(var s=ir;s;)s=Si(s.nextSibling)}function Aa(){ir=sr=null,Ct=!1}function Uf(s){Dr===null?Dr=[s]:Dr.push(s)}var m1=W.ReactCurrentBatchConfig;function sc(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var g=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(S){var M=g.refs;S===null?delete M[y]:M[y]=S},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function zu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function tv(s){var i=s._init;return i(s._payload)}function nv(s){function i(q,B){if(s){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!s)return null;for(;B!==null;)i(q,B),B=B.sibling;return null}function h(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function g(q,B){return q=Oi(q,B),q.index=0,q.sibling=null,q}function y(q,B,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function S(q){return s&&q.alternate===null&&(q.flags|=2),q}function M(q,B,K,pe){return B===null||B.tag!==6?(B=kp(K,q.mode,pe),B.return=q,B):(B=g(B,K),B.return=q,B)}function U(q,B,K,pe){var Ae=K.type;return Ae===k?ce(q,B,K.props.children,pe,K.key):B!==null&&(B.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&tv(Ae)===B.type)?(pe=g(B,K.props),pe.ref=sc(q,B,K),pe.return=q,pe):(pe=dd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=sc(q,B,K),pe.return=q,pe)}function Y(q,B,K,pe){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Np(K,q.mode,pe),B.return=q,B):(B=g(B,K.children||[]),B.return=q,B)}function ce(q,B,K,pe,Ae){return B===null||B.tag!==7?(B=Oo(K,q.mode,pe,Ae),B.return=q,B):(B=g(B,K),B.return=q,B)}function de(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=kp(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case J:return K=dd(B.type,B.key,B.props,null,q.mode,K),K.ref=sc(q,null,B),K.return=q,K;case ee:return B=Np(B,q.mode,K),B.return=q,B;case Q:var pe=B._init;return de(q,pe(B._payload),K)}if(Rt(B)||se(B))return B=Oo(B,q.mode,K,null),B.return=q,B;zu(q,B)}return null}function le(q,B,K,pe){var Ae=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ae!==null?null:M(q,B,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===Ae?U(q,B,K,pe):null;case ee:return K.key===Ae?Y(q,B,K,pe):null;case Q:return Ae=K._init,le(q,B,Ae(K._payload),pe)}if(Rt(K)||se(K))return Ae!==null?null:ce(q,B,K,pe,null);zu(q,K)}return null}function we(q,B,K,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return q=q.get(K)||null,M(B,q,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case J:return q=q.get(pe.key===null?K:pe.key)||null,U(B,q,pe,Ae);case ee:return q=q.get(pe.key===null?K:pe.key)||null,Y(B,q,pe,Ae);case Q:var ke=pe._init;return we(q,B,K,ke(pe._payload),Ae)}if(Rt(pe)||se(pe))return q=q.get(K)||null,ce(B,q,pe,Ae,null);zu(B,pe)}return null}function Te(q,B,K,pe){for(var Ae=null,ke=null,Ne=B,Ue=B=0,un=null;Ne!==null&&Ue<K.length;Ue++){Ne.index>Ue?(un=Ne,Ne=null):un=Ne.sibling;var ot=le(q,Ne,K[Ue],pe);if(ot===null){Ne===null&&(Ne=un);break}s&&Ne&&ot.alternate===null&&i(q,Ne),B=y(ot,B,Ue),ke===null?Ae=ot:ke.sibling=ot,ke=ot,Ne=un}if(Ue===K.length)return l(q,Ne),Ct&&bo(q,Ue),Ae;if(Ne===null){for(;Ue<K.length;Ue++)Ne=de(q,K[Ue],pe),Ne!==null&&(B=y(Ne,B,Ue),ke===null?Ae=Ne:ke.sibling=Ne,ke=Ne);return Ct&&bo(q,Ue),Ae}for(Ne=h(q,Ne);Ue<K.length;Ue++)un=we(Ne,q,Ue,K[Ue],pe),un!==null&&(s&&un.alternate!==null&&Ne.delete(un.key===null?Ue:un.key),B=y(un,B,Ue),ke===null?Ae=un:ke.sibling=un,ke=un);return s&&Ne.forEach(function(Mi){return i(q,Mi)}),Ct&&bo(q,Ue),Ae}function Ce(q,B,K,pe){var Ae=se(K);if(typeof Ae!="function")throw Error(t(150));if(K=Ae.call(K),K==null)throw Error(t(151));for(var ke=Ae=null,Ne=B,Ue=B=0,un=null,ot=K.next();Ne!==null&&!ot.done;Ue++,ot=K.next()){Ne.index>Ue?(un=Ne,Ne=null):un=Ne.sibling;var Mi=le(q,Ne,ot.value,pe);if(Mi===null){Ne===null&&(Ne=un);break}s&&Ne&&Mi.alternate===null&&i(q,Ne),B=y(Mi,B,Ue),ke===null?Ae=Mi:ke.sibling=Mi,ke=Mi,Ne=un}if(ot.done)return l(q,Ne),Ct&&bo(q,Ue),Ae;if(Ne===null){for(;!ot.done;Ue++,ot=K.next())ot=de(q,ot.value,pe),ot!==null&&(B=y(ot,B,Ue),ke===null?Ae=ot:ke.sibling=ot,ke=ot);return Ct&&bo(q,Ue),Ae}for(Ne=h(q,Ne);!ot.done;Ue++,ot=K.next())ot=we(Ne,q,Ue,ot.value,pe),ot!==null&&(s&&ot.alternate!==null&&Ne.delete(ot.key===null?Ue:ot.key),B=y(ot,B,Ue),ke===null?Ae=ot:ke.sibling=ot,ke=ot);return s&&Ne.forEach(function(K1){return i(q,K1)}),Ct&&bo(q,Ue),Ae}function Ut(q,B,K,pe){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var Ae=K.key,ke=B;ke!==null;){if(ke.key===Ae){if(Ae=K.type,Ae===k){if(ke.tag===7){l(q,ke.sibling),B=g(ke,K.props.children),B.return=q,q=B;break e}}else if(ke.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&tv(Ae)===ke.type){l(q,ke.sibling),B=g(ke,K.props),B.ref=sc(q,ke,K),B.return=q,q=B;break e}l(q,ke);break}else i(q,ke);ke=ke.sibling}K.type===k?(B=Oo(K.props.children,q.mode,pe,K.key),B.return=q,q=B):(pe=dd(K.type,K.key,K.props,null,q.mode,pe),pe.ref=sc(q,B,K),pe.return=q,q=pe)}return S(q);case ee:e:{for(ke=K.key;B!==null;){if(B.key===ke)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=g(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else i(q,B);B=B.sibling}B=Np(K,q.mode,pe),B.return=q,q=B}return S(q);case Q:return ke=K._init,Ut(q,B,ke(K._payload),pe)}if(Rt(K))return Te(q,B,K,pe);if(se(K))return Ce(q,B,K,pe);zu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=g(B,K),B.return=q,q=B):(l(q,B),B=kp(K,q.mode,pe),B.return=q,q=B),S(q)):l(q,B)}return Ut}var Ra=nv(!0),rv=nv(!1),Bu=Ii(null),$u=null,Pa=null,zf=null;function Bf(){zf=Pa=$u=null}function $f(s){var i=Bu.current;It(Bu),s._currentValue=i}function Hf(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function ka(s,i){$u=s,zf=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(zn=!0),s.firstContext=null)}function wr(s){var i=s._currentValue;if(zf!==s)if(s={context:s,memoizedValue:i,next:null},Pa===null){if($u===null)throw Error(t(308));Pa=s,$u.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return i}var Ao=null;function Wf(s){Ao===null?Ao=[s]:Ao.push(s)}function sv(s,i,l,h){var g=i.interleaved;return g===null?(l.next=l,Wf(i)):(l.next=g.next,g.next=l),i.interleaved=l,Gs(s,h)}function Gs(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ai=!1;function qf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ks(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ri(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(it&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,Gs(s,l)}return g=h.interleaved,g===null?(i.next=i,Wf(h)):(i.next=g.next,g.next=i),h.interleaved=i,Gs(s,l)}function Hu(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Fl(s,l)}}function ov(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function Wu(s,i,l,h){var g=s.updateQueue;Ai=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var U=M,Y=U.next;U.next=null,S===null?y=Y:S.next=Y,S=U;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==S&&(M===null?ce.firstBaseUpdate=Y:M.next=Y,ce.lastBaseUpdate=U))}if(y!==null){var de=g.baseState;S=0,ce=Y=U=null,M=y;do{var le=M.lane,we=M.eventTime;if((h&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Te=s,Ce=M;switch(le=i,we=l,Ce.tag){case 1:if(Te=Ce.payload,typeof Te=="function"){de=Te.call(we,de,le);break e}de=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ce.payload,le=typeof Te=="function"?Te.call(we,de,le):Te,le==null)break e;de=te({},de,le);break e;case 2:Ai=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[M]:le.push(M))}else we={eventTime:we,lane:le,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(Y=ce=we,U=de):ce=ce.next=we,S|=le;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;le=M,M=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ce===null&&(U=de),g.baseState=U,g.firstBaseUpdate=Y,g.lastBaseUpdate=ce,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else y===null&&(g.shared.lanes=0);ko|=S,s.lanes=S,s.memoizedState=de}}function av(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var ic={},ms=Ii(ic),oc=Ii(ic),ac=Ii(ic);function Ro(s){if(s===ic)throw Error(t(174));return s}function Gf(s,i){switch(wt(ac,i),wt(oc,s),wt(ms,ic),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:di(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=di(i,s)}It(ms),wt(ms,i)}function Na(){It(ms),It(oc),It(ac)}function lv(s){Ro(ac.current);var i=Ro(ms.current),l=di(i,s.type);i!==l&&(wt(oc,s),wt(ms,l))}function Kf(s){oc.current===s&&(It(ms),It(oc))}var Pt=Ii(0);function qu(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qf=[];function Yf(){for(var s=0;s<Qf.length;s++)Qf[s]._workInProgressVersionPrimary=null;Qf.length=0}var Gu=W.ReactCurrentDispatcher,Xf=W.ReactCurrentBatchConfig,Po=0,kt=null,Zt=null,ln=null,Ku=!1,lc=!1,cc=0,g1=0;function In(){throw Error(t(321))}function Jf(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!jr(s[l],i[l]))return!1;return!0}function Zf(s,i,l,h,g,y){if(Po=y,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gu.current=s===null||s.memoizedState===null?w1:x1,s=l(h,g),lc){y=0;do{if(lc=!1,cc=0,25<=y)throw Error(t(301));y+=1,ln=Zt=null,i.updateQueue=null,Gu.current=E1,s=l(h,g)}while(lc)}if(Gu.current=Xu,i=Zt!==null&&Zt.next!==null,Po=0,ln=Zt=kt=null,Ku=!1,i)throw Error(t(300));return s}function ep(){var s=cc!==0;return cc=0,s}function gs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?kt.memoizedState=ln=s:ln=ln.next=s,ln}function xr(){if(Zt===null){var s=kt.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var i=ln===null?kt.memoizedState:ln.next;if(i!==null)ln=i,Zt=s;else{if(s===null)throw Error(t(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ln===null?kt.memoizedState=ln=s:ln=ln.next=s}return ln}function uc(s,i){return typeof i=="function"?i(s):i}function tp(s){var i=xr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Zt,g=h.baseQueue,y=l.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}h.baseQueue=g=y,l.pending=null}if(g!==null){y=g.next,h=h.baseState;var M=S=null,U=null,Y=y;do{var ce=Y.lane;if((Po&ce)===ce)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var de={lane:ce,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(M=U=de,S=h):U=U.next=de,kt.lanes|=ce,ko|=ce}Y=Y.next}while(Y!==null&&Y!==y);U===null?S=h:U.next=M,jr(h,i.memoizedState)||(zn=!0),i.memoizedState=h,i.baseState=S,i.baseQueue=U,l.lastRenderedState=h}if(s=l.interleaved,s!==null){g=s;do y=g.lane,kt.lanes|=y,ko|=y,g=g.next;while(g!==s)}else g===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function np(s){var i=xr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=s(y,S.action),S=S.next;while(S!==g);jr(y,i.memoizedState)||(zn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function cv(){}function uv(s,i){var l=kt,h=xr(),g=i(),y=!jr(h.memoizedState,g);if(y&&(h.memoizedState=g,zn=!0),h=h.queue,rp(fv.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||ln!==null&&ln.memoizedState.tag&1){if(l.flags|=2048,dc(9,hv.bind(null,l,h,g,i),void 0,null),cn===null)throw Error(t(349));(Po&30)!==0||dv(l,i,g)}return g}function dv(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function hv(s,i,l,h){i.value=l,i.getSnapshot=h,pv(i)&&mv(s)}function fv(s,i,l){return l(function(){pv(i)&&mv(s)})}function pv(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!jr(s,l)}catch{return!0}}function mv(s){var i=Gs(s,1);i!==null&&Lr(i,s,1,-1)}function gv(s){var i=gs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:s},i.queue=s,s=s.dispatch=_1.bind(null,kt,s),[i.memoizedState,s]}function dc(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=kt.updateQueue,i===null?(i={lastEffect:null,stores:null},kt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function yv(){return xr().memoizedState}function Qu(s,i,l,h){var g=gs();kt.flags|=s,g.memoizedState=dc(1|i,l,void 0,h===void 0?null:h)}function Yu(s,i,l,h){var g=xr();h=h===void 0?null:h;var y=void 0;if(Zt!==null){var S=Zt.memoizedState;if(y=S.destroy,h!==null&&Jf(h,S.deps)){g.memoizedState=dc(i,l,y,h);return}}kt.flags|=s,g.memoizedState=dc(1|i,l,y,h)}function vv(s,i){return Qu(8390656,8,s,i)}function rp(s,i){return Yu(2048,8,s,i)}function _v(s,i){return Yu(4,2,s,i)}function wv(s,i){return Yu(4,4,s,i)}function xv(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Ev(s,i,l){return l=l!=null?l.concat([s]):null,Yu(4,4,xv.bind(null,i,s),l)}function sp(){}function Tv(s,i){var l=xr();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Jf(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function Sv(s,i){var l=xr();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Jf(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function Iv(s,i,l){return(Po&21)===0?(s.baseState&&(s.baseState=!1,zn=!0),s.memoizedState=l):(jr(l,i)||(l=Vl(),kt.lanes|=l,ko|=l,s.baseState=!0),i)}function y1(s,i){var l=tt;tt=l!==0&&4>l?l:4,s(!0);var h=Xf.transition;Xf.transition={};try{s(!1),i()}finally{tt=l,Xf.transition=h}}function Cv(){return xr().memoizedState}function v1(s,i,l){var h=ji(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},bv(s))Av(i,l);else if(l=sv(s,i,l,h),l!==null){var g=Mn();Lr(l,s,h,g),Rv(l,i,h)}}function _1(s,i,l){var h=ji(s),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(bv(s))Av(i,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var S=i.lastRenderedState,M=y(S,l);if(g.hasEagerState=!0,g.eagerState=M,jr(M,S)){var U=i.interleaved;U===null?(g.next=g,Wf(i)):(g.next=U.next,U.next=g),i.interleaved=g;return}}catch{}finally{}l=sv(s,i,g,h),l!==null&&(g=Mn(),Lr(l,s,h,g),Rv(l,i,h))}}function bv(s){var i=s.alternate;return s===kt||i!==null&&i===kt}function Av(s,i){lc=Ku=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Rv(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Fl(s,l)}}var Xu={readContext:wr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},w1={readContext:wr,useCallback:function(s,i){return gs().memoizedState=[s,i===void 0?null:i],s},useContext:wr,useEffect:vv,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Qu(4194308,4,xv.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Qu(4194308,4,s,i)},useInsertionEffect:function(s,i){return Qu(4,2,s,i)},useMemo:function(s,i){var l=gs();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=gs();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=v1.bind(null,kt,s),[h.memoizedState,s]},useRef:function(s){var i=gs();return s={current:s},i.memoizedState=s},useState:gv,useDebugValue:sp,useDeferredValue:function(s){return gs().memoizedState=s},useTransition:function(){var s=gv(!1),i=s[0];return s=y1.bind(null,s[1]),gs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=kt,g=gs();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),cn===null)throw Error(t(349));(Po&30)!==0||dv(h,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,vv(fv.bind(null,h,y,s),[s]),h.flags|=2048,dc(9,hv.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=gs(),i=cn.identifierPrefix;if(Ct){var l=qs,h=Ws;l=(h&~(1<<32-Zn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=cc++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=g1++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},x1={readContext:wr,useCallback:Tv,useContext:wr,useEffect:rp,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:Sv,useReducer:tp,useRef:yv,useState:function(){return tp(uc)},useDebugValue:sp,useDeferredValue:function(s){var i=xr();return Iv(i,Zt.memoizedState,s)},useTransition:function(){var s=tp(uc)[0],i=xr().memoizedState;return[s,i]},useMutableSource:cv,useSyncExternalStore:uv,useId:Cv,unstable_isNewReconciler:!1},E1={readContext:wr,useCallback:Tv,useContext:wr,useEffect:rp,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:Sv,useReducer:np,useRef:yv,useState:function(){return np(uc)},useDebugValue:sp,useDeferredValue:function(s){var i=xr();return Zt===null?i.memoizedState=s:Iv(i,Zt.memoizedState,s)},useTransition:function(){var s=np(uc)[0],i=xr().memoizedState;return[s,i]},useMutableSource:cv,useSyncExternalStore:uv,useId:Cv,unstable_isNewReconciler:!1};function Or(s,i){if(s&&s.defaultProps){i=te({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function ip(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:te({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ju={isMounted:function(s){return(s=s._reactInternals)?kr(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=Mn(),g=ji(s),y=Ks(h,g);y.payload=i,l!=null&&(y.callback=l),i=Ri(s,y,g),i!==null&&(Lr(i,s,g,h),Hu(i,s,g))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=Mn(),g=ji(s),y=Ks(h,g);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=Ri(s,y,g),i!==null&&(Lr(i,s,g,h),Hu(i,s,g))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=Mn(),h=ji(s),g=Ks(l,h);g.tag=2,i!=null&&(g.callback=i),i=Ri(s,g,h),i!==null&&(Lr(i,s,h,l),Hu(i,s,h))}};function Pv(s,i,l,h,g,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,S):i.prototype&&i.prototype.isPureReactComponent?!Xl(l,h)||!Xl(g,y):!0}function kv(s,i,l){var h=!1,g=Ci,y=i.contextType;return typeof y=="object"&&y!==null?y=wr(y):(g=Un(i)?Io:Sn.current,h=i.contextTypes,y=(h=h!=null)?Ia(s,g):Ci),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ju,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),i}function Nv(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&Ju.enqueueReplaceState(i,i.state,null)}function op(s,i,l,h){var g=s.stateNode;g.props=l,g.state=s.memoizedState,g.refs={},qf(s);var y=i.contextType;typeof y=="object"&&y!==null?g.context=wr(y):(y=Un(i)?Io:Sn.current,g.context=Ia(s,y)),g.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(ip(s,i,y,l),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Ju.enqueueReplaceState(g,g.state,null),Wu(s,l,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ja(s,i){try{var l="",h=i;do l+=ve(h),h=h.return;while(h);var g=l}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:g,digest:null}}function ap(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function lp(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function jv(s,i,l){l=Ks(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){id||(id=!0,Tp=h),lp(s,i)},l}function Dv(s,i,l){l=Ks(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;l.payload=function(){return h(g)},l.callback=function(){lp(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){lp(s,i),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),l}function Ov(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new T1;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(g.add(l),s=V1.bind(null,s,i,l),i.then(s,s))}function Mv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function Vv(s,i,l,h,g){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Ks(-1,1),i.tag=2,Ri(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var S1=W.ReactCurrentOwner,zn=!1;function On(s,i,l,h){i.child=s===null?rv(i,null,l,h):Ra(i,s.child,l,h)}function Lv(s,i,l,h,g){l=l.render;var y=i.ref;return ka(i,g),h=Zf(s,i,l,h,y,g),l=ep(),s!==null&&!zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Qs(s,i,g)):(Ct&&l&&Mf(i),i.flags|=1,On(s,i,h,g),i.child)}function Fv(s,i,l,h,g){if(s===null){var y=l.type;return typeof y=="function"&&!Pp(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Uv(s,i,y,h,g)):(s=dd(l.type,null,h,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&g)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Xl,l(S,h)&&s.ref===i.ref)return Qs(s,i,g)}return i.flags|=1,s=Oi(y,h),s.ref=i.ref,s.return=i,i.child=s}function Uv(s,i,l,h,g){if(s!==null){var y=s.memoizedProps;if(Xl(y,h)&&s.ref===i.ref)if(zn=!1,i.pendingProps=h=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(zn=!0);else return i.lanes=s.lanes,Qs(s,i,g)}return cp(s,i,l,h,g)}function zv(s,i,l){var h=i.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Oa,or),or|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,wt(Oa,or),or|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(Oa,or),or|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,wt(Oa,or),or|=h;return On(s,i,g,l),i.child}function Bv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function cp(s,i,l,h,g){var y=Un(l)?Io:Sn.current;return y=Ia(i,y),ka(i,g),l=Zf(s,i,l,h,y,g),h=ep(),s!==null&&!zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Qs(s,i,g)):(Ct&&h&&Mf(i),i.flags|=1,On(s,i,l,g),i.child)}function $v(s,i,l,h,g){if(Un(l)){var y=!0;Mu(i)}else y=!1;if(ka(i,g),i.stateNode===null)ed(s,i),kv(i,l,h),op(i,l,h,g),h=!0;else if(s===null){var S=i.stateNode,M=i.memoizedProps;S.props=M;var U=S.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=wr(Y):(Y=Un(l)?Io:Sn.current,Y=Ia(i,Y));var ce=l.getDerivedStateFromProps,de=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function";de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||U!==Y)&&Nv(i,S,h,Y),Ai=!1;var le=i.memoizedState;S.state=le,Wu(i,h,S,g),U=i.memoizedState,M!==h||le!==U||Fn.current||Ai?(typeof ce=="function"&&(ip(i,l,ce,h),U=i.memoizedState),(M=Ai||Pv(i,l,M,h,le,U,Y))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=U),S.props=h,S.state=U,S.context=Y,h=M):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{S=i.stateNode,iv(s,i),M=i.memoizedProps,Y=i.type===i.elementType?M:Or(i.type,M),S.props=Y,de=i.pendingProps,le=S.context,U=l.contextType,typeof U=="object"&&U!==null?U=wr(U):(U=Un(l)?Io:Sn.current,U=Ia(i,U));var we=l.getDerivedStateFromProps;(ce=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==de||le!==U)&&Nv(i,S,h,U),Ai=!1,le=i.memoizedState,S.state=le,Wu(i,h,S,g);var Te=i.memoizedState;M!==de||le!==Te||Fn.current||Ai?(typeof we=="function"&&(ip(i,l,we,h),Te=i.memoizedState),(Y=Ai||Pv(i,l,Y,h,le,Te,U)||!1)?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Te,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Te,U)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Te),S.props=h,S.state=Te,S.context=U,h=Y):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(i.flags|=1024),h=!1)}return up(s,i,l,h,y,g)}function up(s,i,l,h,g,y){Bv(s,i);var S=(i.flags&128)!==0;if(!h&&!S)return g&&Ky(i,l,!1),Qs(s,i,y);h=i.stateNode,S1.current=i;var M=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&S?(i.child=Ra(i,s.child,null,y),i.child=Ra(i,null,M,y)):On(s,i,M,y),i.memoizedState=h.state,g&&Ky(i,l,!0),i.child}function Hv(s){var i=s.stateNode;i.pendingContext?qy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&qy(s,i.context,!1),Gf(s,i.containerInfo)}function Wv(s,i,l,h,g){return Aa(),Uf(g),i.flags|=256,On(s,i,l,h),i.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function qv(s,i,l){var h=i.pendingProps,g=Pt.current,y=!1,S=(i.flags&128)!==0,M;if((M=S)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),wt(Pt,g&1),s===null)return Ff(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=h.children,s=h.fallback,y?(h=i.mode,y=i.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=hd(S,h,0,null),s=Oo(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=hp(l),i.memoizedState=dp,s):fp(i,S));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return I1(s,i,S,h,M,g,l);if(y){y=h.fallback,S=i.mode,g=s.child,M=g.sibling;var U={mode:"hidden",children:h.children};return(S&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=U,i.deletions=null):(h=Oi(g,U),h.subtreeFlags=g.subtreeFlags&14680064),M!==null?y=Oi(M,y):(y=Oo(y,S,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,S=s.child.memoizedState,S=S===null?hp(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~l,i.memoizedState=dp,h}return y=s.child,s=y.sibling,h=Oi(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function fp(s,i){return i=hd({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Zu(s,i,l,h){return h!==null&&Uf(h),Ra(i,s.child,null,l),s=fp(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function I1(s,i,l,h,g,y,S){if(l)return i.flags&256?(i.flags&=-257,h=ap(Error(t(422))),Zu(s,i,S,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,g=i.mode,h=hd({mode:"visible",children:h.children},g,0,null),y=Oo(y,g,S,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Ra(i,s.child,null,S),i.child.memoizedState=hp(S),i.memoizedState=dp,y);if((i.mode&1)===0)return Zu(s,i,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var M=h.dgst;return h=M,y=Error(t(419)),h=ap(y,h,void 0),Zu(s,i,S,h)}if(M=(S&s.childLanes)!==0,zn||M){if(h=cn,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|S))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,Gs(s,g),Lr(h,s,g,-1))}return Rp(),h=ap(Error(t(421))),Zu(s,i,S,h)}return g.data==="$?"?(i.flags|=128,i.child=s.child,i=L1.bind(null,s),g._reactRetry=i,null):(s=y.treeContext,ir=Si(g.nextSibling),sr=i,Ct=!0,Dr=null,s!==null&&(vr[_r++]=Ws,vr[_r++]=qs,vr[_r++]=Co,Ws=s.id,qs=s.overflow,Co=i),i=fp(i,h.children),i.flags|=4096,i)}function Gv(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Hf(s.return,i,l)}function pp(s,i,l,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function Kv(s,i,l){var h=i.pendingProps,g=h.revealOrder,y=h.tail;if(On(s,i,h.children,l),h=Pt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gv(s,l,i);else if(s.tag===19)Gv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(wt(Pt,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&qu(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),pp(i,!1,g,l,y);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&qu(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}pp(i,!0,l,null,y);break;case"together":pp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ed(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Qs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),ko|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Oi(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Oi(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function C1(s,i,l){switch(i.tag){case 3:Hv(i),Aa();break;case 5:lv(i);break;case 1:Un(i.type)&&Mu(i);break;case 4:Gf(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;wt(Bu,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(wt(Pt,Pt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?qv(s,i,l):(wt(Pt,Pt.current&1),s=Qs(s,i,l),s!==null?s.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return Kv(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),wt(Pt,Pt.current),h)break;return null;case 22:case 23:return i.lanes=0,zv(s,i,l)}return Qs(s,i,l)}var Qv,mp,Yv,Xv;Qv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},mp=function(){},Yv=function(s,i,l,h){var g=s.memoizedProps;if(g!==h){s=i.stateNode,Ro(ms.current);var y=null;switch(l){case"input":g=sn(s,g),h=sn(s,h),y=[];break;case"select":g=te({},g,{value:void 0}),h=te({},h,{value:void 0}),y=[];break;case"textarea":g=Jt(s,g),h=Jt(s,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=ju)}Ln(l,h);var S;l=null;for(Y in g)if(!h.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var M=g[Y];for(S in M)M.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var U=h[Y];if(M=g?.[Y],h.hasOwnProperty(Y)&&U!==M&&(U!=null||M!=null))if(Y==="style")if(M){for(S in M)!M.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in U)U.hasOwnProperty(S)&&M[S]!==U[S]&&(l||(l={}),l[S]=U[S])}else l||(y||(y=[]),y.push(Y,l)),l=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,M=M?M.__html:void 0,U!=null&&M!==U&&(y=y||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&St("scroll",s),y||M===U||(y=[])):(y=y||[]).push(Y,U))}l&&(y=y||[]).push("style",l);var Y=y;(i.updateQueue=Y)&&(i.flags|=4)}},Xv=function(s,i,l,h){l!==h&&(i.flags|=4)};function hc(s,i){if(!Ct)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Cn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function b1(s,i,l){var h=i.pendingProps;switch(Vf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(i),null;case 1:return Un(i.type)&&Ou(),Cn(i),null;case 3:return h=i.stateNode,Na(),It(Fn),It(Sn),Yf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Uu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dr!==null&&(Cp(Dr),Dr=null))),mp(s,i),Cn(i),null;case 5:Kf(i);var g=Ro(ac.current);if(l=i.type,s!==null&&i.stateNode!=null)Yv(s,i,l,h,g),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Cn(i),null}if(s=Ro(ms.current),Uu(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[ps]=i,h[nc]=y,s=(i.mode&1)!==0,l){case"dialog":St("cancel",h),St("close",h);break;case"iframe":case"object":case"embed":St("load",h);break;case"video":case"audio":for(g=0;g<Zl.length;g++)St(Zl[g],h);break;case"source":St("error",h);break;case"img":case"image":case"link":St("error",h),St("load",h);break;case"details":St("toggle",h);break;case"input":Jr(h,y),St("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},St("invalid",h);break;case"textarea":fr(h,y),St("invalid",h)}Ln(l,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var M=y[S];S==="children"?typeof M=="string"?h.textContent!==M&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,M,s),g=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&Nu(h.textContent,M,s),g=["children",""+M]):o.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&St("scroll",h)}switch(l){case"input":He(h),ui(h,y,!0);break;case"textarea":He(h),Zr(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ju)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=es(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(l,{is:h.is}):(s=S.createElement(l),l==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,l),s[ps]=i,s[nc]=h,Qv(s,i,!1,!1),i.stateNode=s;e:{switch(S=mi(l,h),l){case"dialog":St("cancel",s),St("close",s),g=h;break;case"iframe":case"object":case"embed":St("load",s),g=h;break;case"video":case"audio":for(g=0;g<Zl.length;g++)St(Zl[g],s);g=h;break;case"source":St("error",s),g=h;break;case"img":case"image":case"link":St("error",s),St("load",s),g=h;break;case"details":St("toggle",s),g=h;break;case"input":Jr(s,h),g=sn(s,h),St("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=te({},h,{value:void 0}),St("invalid",s);break;case"textarea":fr(s,h),g=Jt(s,h),St("invalid",s);break;default:g=h}Ln(l,g),M=g;for(y in M)if(M.hasOwnProperty(y)){var U=M[y];y==="style"?fi(s,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&hi(s,U)):y==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&Vn(s,U):typeof U=="number"&&Vn(s,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?U!=null&&y==="onScroll"&&St("scroll",s):U!=null&&H(s,y,U,S))}switch(l){case"input":He(s),ui(s,h,!1);break;case"textarea":He(s),Zr(s);break;case"option":h.value!=null&&s.setAttribute("value",""+ge(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Yn(s,!!h.multiple,y,!1):h.defaultValue!=null&&Yn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ju)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Cn(i),null;case 6:if(s&&i.stateNode!=null)Xv(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Ro(ac.current),Ro(ms.current),Uu(i)){if(h=i.stateNode,l=i.memoizedProps,h[ps]=i,(y=h.nodeValue!==l)&&(s=sr,s!==null))switch(s.tag){case 3:Nu(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ps]=i,i.stateNode=h}return Cn(i),null;case 13:if(It(Pt),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&ir!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ev(),Aa(),i.flags|=98560,y=!1;else if(y=Uu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ps]=i}else Aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Cn(i),y=!1}else Dr!==null&&(Cp(Dr),Dr=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Pt.current&1)!==0?en===0&&(en=3):Rp())),i.updateQueue!==null&&(i.flags|=4),Cn(i),null);case 4:return Na(),mp(s,i),s===null&&ec(i.stateNode.containerInfo),Cn(i),null;case 10:return $f(i.type._context),Cn(i),null;case 17:return Un(i.type)&&Ou(),Cn(i),null;case 19:if(It(Pt),y=i.memoizedState,y===null)return Cn(i),null;if(h=(i.flags&128)!==0,S=y.rendering,S===null)if(h)hc(y,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(S=qu(s),S!==null){for(i.flags|=128,hc(y,!1),h=S.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return wt(Pt,Pt.current&1|2),i.child}s=s.sibling}y.tail!==null&&Tt()>Ma&&(i.flags|=128,h=!0,hc(y,!1),i.lanes=4194304)}else{if(!h)if(s=qu(S),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),hc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Ct)return Cn(i),null}else 2*Tt()-y.renderingStartTime>Ma&&l!==1073741824&&(i.flags|=128,h=!0,hc(y,!1),i.lanes=4194304);y.isBackwards?(S.sibling=i.child,i.child=S):(l=y.last,l!==null?l.sibling=S:i.child=S,y.last=S)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Tt(),i.sibling=null,l=Pt.current,wt(Pt,h?l&1|2:l&1),i):(Cn(i),null);case 22:case 23:return Ap(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(or&1073741824)!==0&&(Cn(i),i.subtreeFlags&6&&(i.flags|=8192)):Cn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function A1(s,i){switch(Vf(i),i.tag){case 1:return Un(i.type)&&Ou(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Na(),It(Fn),It(Sn),Yf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Kf(i),null;case 13:if(It(Pt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Aa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return It(Pt),null;case 4:return Na(),null;case 10:return $f(i.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var td=!1,bn=!1,R1=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Da(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Dt(s,i,h)}else l.current=null}function gp(s,i,l){try{l()}catch(h){Dt(s,i,h)}}var Jv=!1;function P1(s,i){if(Af=Us,s=Py(),wf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,M=-1,U=-1,Y=0,ce=0,de=s,le=null;t:for(;;){for(var we;de!==l||g!==0&&de.nodeType!==3||(M=S+g),de!==y||h!==0&&de.nodeType!==3||(U=S+h),de.nodeType===3&&(S+=de.nodeValue.length),(we=de.firstChild)!==null;)le=de,de=we;for(;;){if(de===s)break t;if(le===l&&++Y===g&&(M=S),le===y&&++ce===h&&(U=S),(we=de.nextSibling)!==null)break;de=le,le=de.parentNode}de=we}l=M===-1||U===-1?null:{start:M,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rf={focusedElem:s,selectionRange:l},Us=!1,Ee=i;Ee!==null;)if(i=Ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ee=s;else for(;Ee!==null;){i=Ee;try{var Te=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ce=Te.memoizedProps,Ut=Te.memoizedState,q=i.stateNode,B=q.getSnapshotBeforeUpdate(i.elementType===i.type?Ce:Or(i.type,Ce),Ut);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=i.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Dt(i,i.return,pe)}if(s=i.sibling,s!==null){s.return=i.return,Ee=s;break}Ee=i.return}return Te=Jv,Jv=!1,Te}function fc(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&gp(i,l,y)}g=g.next}while(g!==h)}}function nd(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function yp(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Zv(s){var i=s.alternate;i!==null&&(s.alternate=null,Zv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[ps],delete i[nc],delete i[jf],delete i[h1],delete i[f1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function e_(s){return s.tag===5||s.tag===3||s.tag===4}function t_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vp(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ju));else if(h!==4&&(s=s.child,s!==null))for(vp(s,i,l),s=s.sibling;s!==null;)vp(s,i,l),s=s.sibling}function _p(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_p(s,i,l),s=s.sibling;s!==null;)_p(s,i,l),s=s.sibling}var yn=null,Mr=!1;function Pi(s,i,l){for(l=l.child;l!==null;)n_(s,i,l),l=l.sibling}function n_(s,i,l){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(mo,l)}catch{}switch(l.tag){case 5:bn||Da(l,i);case 6:var h=yn,g=Mr;yn=null,Pi(s,i,l),yn=h,Mr=g,yn!==null&&(Mr?(s=yn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):yn.removeChild(l.stateNode));break;case 18:yn!==null&&(Mr?(s=yn,l=l.stateNode,s.nodeType===8?Nf(s.parentNode,l):s.nodeType===1&&Nf(s,l),wi(s)):Nf(yn,l.stateNode));break;case 4:h=yn,g=Mr,yn=l.stateNode.containerInfo,Mr=!0,Pi(s,i,l),yn=h,Mr=g;break;case 0:case 11:case 14:case 15:if(!bn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&gp(l,i,S),g=g.next}while(g!==h)}Pi(s,i,l);break;case 1:if(!bn&&(Da(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){Dt(l,i,M)}Pi(s,i,l);break;case 21:Pi(s,i,l);break;case 22:l.mode&1?(bn=(h=bn)||l.memoizedState!==null,Pi(s,i,l),bn=h):Pi(s,i,l);break;default:Pi(s,i,l)}}function r_(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new R1),i.forEach(function(h){var g=F1.bind(null,s,h);l.has(h)||(l.add(h),h.then(g,g))})}}function Vr(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var y=s,S=i,M=S;e:for(;M!==null;){switch(M.tag){case 5:yn=M.stateNode,Mr=!1;break e;case 3:yn=M.stateNode.containerInfo,Mr=!0;break e;case 4:yn=M.stateNode.containerInfo,Mr=!0;break e}M=M.return}if(yn===null)throw Error(t(160));n_(y,S,g),yn=null,Mr=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(Y){Dt(g,i,Y)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)s_(i,s),i=i.sibling}function s_(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vr(i,s),ys(s),h&4){try{fc(3,s,s.return),nd(3,s)}catch(Ce){Dt(s,s.return,Ce)}try{fc(5,s,s.return)}catch(Ce){Dt(s,s.return,Ce)}}break;case 1:Vr(i,s),ys(s),h&512&&l!==null&&Da(l,l.return);break;case 5:if(Vr(i,s),ys(s),h&512&&l!==null&&Da(l,l.return),s.flags&32){var g=s.stateNode;try{Vn(g,"")}catch(Ce){Dt(s,s.return,Ce)}}if(h&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,S=l!==null?l.memoizedProps:y,M=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&Qn(g,y),mi(M,S);var Y=mi(M,y);for(S=0;S<U.length;S+=2){var ce=U[S],de=U[S+1];ce==="style"?fi(g,de):ce==="dangerouslySetInnerHTML"?hi(g,de):ce==="children"?Vn(g,de):H(g,ce,de,Y)}switch(M){case"input":pn(g,y);break;case"textarea":ra(g,y);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?Yn(g,!!y.multiple,we,!1):le!==!!y.multiple&&(y.defaultValue!=null?Yn(g,!!y.multiple,y.defaultValue,!0):Yn(g,!!y.multiple,y.multiple?[]:"",!1))}g[nc]=y}catch(Ce){Dt(s,s.return,Ce)}}break;case 6:if(Vr(i,s),ys(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(Ce){Dt(s,s.return,Ce)}}break;case 3:if(Vr(i,s),ys(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{wi(i.containerInfo)}catch(Ce){Dt(s,s.return,Ce)}break;case 4:Vr(i,s),ys(s);break;case 13:Vr(i,s),ys(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(Ep=Tt())),h&4&&r_(s);break;case 22:if(ce=l!==null&&l.memoizedState!==null,s.mode&1?(bn=(Y=bn)||ce,Vr(i,s),bn=Y):Vr(i,s),ys(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ce&&(s.mode&1)!==0)for(Ee=s,ce=s.child;ce!==null;){for(de=Ee=ce;Ee!==null;){switch(le=Ee,we=le.child,le.tag){case 0:case 11:case 14:case 15:fc(4,le,le.return);break;case 1:Da(le,le.return);var Te=le.stateNode;if(typeof Te.componentWillUnmount=="function"){h=le,l=le.return;try{i=h,Te.props=i.memoizedProps,Te.state=i.memoizedState,Te.componentWillUnmount()}catch(Ce){Dt(h,l,Ce)}}break;case 5:Da(le,le.return);break;case 22:if(le.memoizedState!==null){a_(de);continue}}we!==null?(we.return=le,Ee=we):a_(de)}ce=ce.sibling}e:for(ce=null,de=s;;){if(de.tag===5){if(ce===null){ce=de;try{g=de.stateNode,Y?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=de.stateNode,U=de.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,M.style.display=ts("display",S))}catch(Ce){Dt(s,s.return,Ce)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=Y?"":de.memoizedProps}catch(Ce){Dt(s,s.return,Ce)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Vr(i,s),ys(s),h&4&&r_(s);break;case 21:break;default:Vr(i,s),ys(s)}}function ys(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(e_(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Vn(g,""),h.flags&=-33);var y=t_(s);_p(s,y,g);break;case 3:case 4:var S=h.stateNode.containerInfo,M=t_(s);vp(s,M,S);break;default:throw Error(t(161))}}catch(U){Dt(s,s.return,U)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function k1(s,i,l){Ee=s,i_(s)}function i_(s,i,l){for(var h=(s.mode&1)!==0;Ee!==null;){var g=Ee,y=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||td;if(!S){var M=g.alternate,U=M!==null&&M.memoizedState!==null||bn;M=td;var Y=bn;if(td=S,(bn=U)&&!Y)for(Ee=g;Ee!==null;)S=Ee,U=S.child,S.tag===22&&S.memoizedState!==null?l_(g):U!==null?(U.return=S,Ee=U):l_(g);for(;y!==null;)Ee=y,i_(y),y=y.sibling;Ee=g,td=M,bn=Y}o_(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,Ee=y):o_(s)}}function o_(s){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bn||nd(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!bn)if(l===null)h.componentDidMount();else{var g=i.elementType===i.type?l.memoizedProps:Or(i.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&av(i,y,h);break;case 3:var S=i.updateQueue;if(S!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}av(i,S,l)}break;case 5:var M=i.stateNode;if(l===null&&i.flags&4){l=M;var U=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var Y=i.alternate;if(Y!==null){var ce=Y.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&wi(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bn||i.flags&512&&yp(i)}catch(le){Dt(i,i.return,le)}}if(i===s){Ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function a_(s){for(;Ee!==null;){var i=Ee;if(i===s){Ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function l_(s){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{nd(4,i)}catch(U){Dt(i,l,U)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch(U){Dt(i,g,U)}}var y=i.return;try{yp(i)}catch(U){Dt(i,y,U)}break;case 5:var S=i.return;try{yp(i)}catch(U){Dt(i,S,U)}}}catch(U){Dt(i,i.return,U)}if(i===s){Ee=null;break}var M=i.sibling;if(M!==null){M.return=i.return,Ee=M;break}Ee=i.return}}var N1=Math.ceil,rd=W.ReactCurrentDispatcher,wp=W.ReactCurrentOwner,Er=W.ReactCurrentBatchConfig,it=0,cn=null,qt=null,vn=0,or=0,Oa=Ii(0),en=0,pc=null,ko=0,sd=0,xp=0,mc=null,Bn=null,Ep=0,Ma=1/0,Ys=null,id=!1,Tp=null,ki=null,od=!1,Ni=null,ad=0,gc=0,Sp=null,ld=-1,cd=0;function Mn(){return(it&6)!==0?Tt():ld!==-1?ld:ld=Tt()}function ji(s){return(s.mode&1)===0?1:(it&2)!==0&&vn!==0?vn&-vn:m1.transition!==null?(cd===0&&(cd=Vl()),cd):(s=tt,s!==0||(s=window.event,s=s===void 0?16:da(s.type)),s)}function Lr(s,i,l,h){if(50<gc)throw gc=0,Sp=null,Error(t(185));_o(s,l,h),((it&2)===0||s!==cn)&&(s===cn&&((it&2)===0&&(sd|=l),en===4&&Di(s,vn)),$n(s,h),l===1&&it===0&&(i.mode&1)===0&&(Ma=Tt()+500,Vu&&bi()))}function $n(s,i){var l=s.callbackNode;vo(s,i);var h=Vs(s,s===cn?vn:0);if(h===0)l!==null&&sa(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&sa(l),i===1)s.tag===0?p1(u_.bind(null,s)):Qy(u_.bind(null,s)),u1(function(){(it&6)===0&&bi()}),l=null;else{switch(ss(h)){case 1:l=ia;break;case 4:l=Dl;break;case 16:l=po;break;case 536870912:l=oa;break;default:l=po}l=v_(l,c_.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function c_(s,i){if(ld=-1,cd=0,(it&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Va()&&s.callbackNode!==l)return null;var h=Vs(s,s===cn?vn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=ud(s,h);else{i=h;var g=it;it|=2;var y=h_();(cn!==s||vn!==i)&&(Ys=null,Ma=Tt()+500,jo(s,i));do try{O1();break}catch(M){d_(s,M)}while(!0);Bf(),rd.current=y,it=g,qt!==null?i=0:(cn=null,vn=0,i=en)}if(i!==0){if(i===2&&(g=Ml(s),g!==0&&(h=g,i=Ip(s,g))),i===1)throw l=pc,jo(s,0),Di(s,h),$n(s,Tt()),l;if(i===6)Di(s,h);else{if(g=s.current.alternate,(h&30)===0&&!j1(g)&&(i=ud(s,h),i===2&&(y=Ml(s),y!==0&&(h=y,i=Ip(s,y))),i===1))throw l=pc,jo(s,0),Di(s,h),$n(s,Tt()),l;switch(s.finishedWork=g,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Do(s,Bn,Ys);break;case 3:if(Di(s,h),(h&130023424)===h&&(i=Ep+500-Tt(),10<i)){if(Vs(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Mn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=kf(Do.bind(null,s,Bn,Ys),i);break}Do(s,Bn,Ys);break;case 4:if(Di(s,h),(h&4194240)===h)break;for(i=s.eventTimes,g=-1;0<h;){var S=31-Zn(h);y=1<<S,S=i[S],S>g&&(g=S),h&=~y}if(h=g,h=Tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*N1(h/1960))-h,10<h){s.timeoutHandle=kf(Do.bind(null,s,Bn,Ys),h);break}Do(s,Bn,Ys);break;case 5:Do(s,Bn,Ys);break;default:throw Error(t(329))}}}return $n(s,Tt()),s.callbackNode===l?c_.bind(null,s):null}function Ip(s,i){var l=mc;return s.current.memoizedState.isDehydrated&&(jo(s,i).flags|=256),s=ud(s,i),s!==2&&(i=Bn,Bn=l,i!==null&&Cp(i)),s}function Cp(s){Bn===null?Bn=s:Bn.push.apply(Bn,s)}function j1(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!jr(y(),g))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(s,i){for(i&=~xp,i&=~sd,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Zn(i),h=1<<l;s[l]=-1,i&=~h}}function u_(s){if((it&6)!==0)throw Error(t(327));Va();var i=Vs(s,0);if((i&1)===0)return $n(s,Tt()),null;var l=ud(s,i);if(s.tag!==0&&l===2){var h=Ml(s);h!==0&&(i=h,l=Ip(s,h))}if(l===1)throw l=pc,jo(s,0),Di(s,i),$n(s,Tt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Do(s,Bn,Ys),$n(s,Tt()),null}function bp(s,i){var l=it;it|=1;try{return s(i)}finally{it=l,it===0&&(Ma=Tt()+500,Vu&&bi())}}function No(s){Ni!==null&&Ni.tag===0&&(it&6)===0&&Va();var i=it;it|=1;var l=Er.transition,h=tt;try{if(Er.transition=null,tt=1,s)return s()}finally{tt=h,Er.transition=l,it=i,(it&6)===0&&bi()}}function Ap(){or=Oa.current,It(Oa)}function jo(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,c1(l)),qt!==null)for(l=qt.return;l!==null;){var h=l;switch(Vf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:Na(),It(Fn),It(Sn),Yf();break;case 5:Kf(h);break;case 4:Na();break;case 13:It(Pt);break;case 19:It(Pt);break;case 10:$f(h.type._context);break;case 22:case 23:Ap()}l=l.return}if(cn=s,qt=s=Oi(s.current,null),vn=or=i,en=0,pc=null,xp=sd=ko=0,Bn=mc=null,Ao!==null){for(i=0;i<Ao.length;i++)if(l=Ao[i],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=g,h.next=S}l.pending=h}Ao=null}return s}function d_(s,i){do{var l=qt;try{if(Bf(),Gu.current=Xu,Ku){for(var h=kt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ku=!1}if(Po=0,ln=Zt=kt=null,lc=!1,cc=0,wp.current=null,l===null||l.return===null){en=1,pc=i,qt=null;break}e:{var y=s,S=l.return,M=l,U=i;if(i=vn,M.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,ce=M,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=Mv(S);if(we!==null){we.flags&=-257,Vv(we,S,M,y,i),we.mode&1&&Ov(y,Y,i),i=we,U=Y;var Te=i.updateQueue;if(Te===null){var Ce=new Set;Ce.add(U),i.updateQueue=Ce}else Te.add(U);break e}else{if((i&1)===0){Ov(y,Y,i),Rp();break e}U=Error(t(426))}}else if(Ct&&M.mode&1){var Ut=Mv(S);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Vv(Ut,S,M,y,i),Uf(ja(U,M));break e}}y=U=ja(U,M),en!==4&&(en=2),mc===null?mc=[y]:mc.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var q=jv(y,U,i);ov(y,q);break e;case 1:M=U;var B=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ki===null||!ki.has(K)))){y.flags|=65536,i&=-i,y.lanes|=i;var pe=Dv(y,M,i);ov(y,pe);break e}}y=y.return}while(y!==null)}p_(l)}catch(Ae){i=Ae,qt===l&&l!==null&&(qt=l=l.return);continue}break}while(!0)}function h_(){var s=rd.current;return rd.current=Xu,s===null?Xu:s}function Rp(){(en===0||en===3||en===2)&&(en=4),cn===null||(ko&268435455)===0&&(sd&268435455)===0||Di(cn,vn)}function ud(s,i){var l=it;it|=2;var h=h_();(cn!==s||vn!==i)&&(Ys=null,jo(s,i));do try{D1();break}catch(g){d_(s,g)}while(!0);if(Bf(),it=l,rd.current=h,qt!==null)throw Error(t(261));return cn=null,vn=0,en}function D1(){for(;qt!==null;)f_(qt)}function O1(){for(;qt!==null&&!fo();)f_(qt)}function f_(s){var i=y_(s.alternate,s,or);s.memoizedProps=s.pendingProps,i===null?p_(s):qt=i,wp.current=null}function p_(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=b1(l,i,or),l!==null){qt=l;return}}else{if(l=A1(l,i),l!==null){l.flags&=32767,qt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{en=6,qt=null;return}}if(i=i.sibling,i!==null){qt=i;return}qt=i=s}while(i!==null);en===0&&(en=5)}function Do(s,i,l){var h=tt,g=Er.transition;try{Er.transition=null,tt=1,M1(s,i,l,h)}finally{Er.transition=g,tt=h}return null}function M1(s,i,l,h){do Va();while(Ni!==null);if((it&6)!==0)throw Error(t(327));l=s.finishedWork;var g=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(mf(s,y),s===cn&&(qt=cn=null,vn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||od||(od=!0,v_(po,function(){return Va(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Er.transition,Er.transition=null;var S=tt;tt=1;var M=it;it|=4,wp.current=null,P1(s,l),s_(l,s),n1(Rf),Us=!!Af,Rf=Af=null,s.current=l,k1(l),Ms(),it=M,tt=S,Er.transition=y}else s.current=l;if(od&&(od=!1,Ni=s,ad=g),y=s.pendingLanes,y===0&&(ki=null),yu(l.stateNode),$n(s,Tt()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)g=i[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(id)throw id=!1,s=Tp,Tp=null,s;return(ad&1)!==0&&s.tag!==0&&Va(),y=s.pendingLanes,(y&1)!==0?s===Sp?gc++:(gc=0,Sp=s):gc=0,bi(),null}function Va(){if(Ni!==null){var s=ss(ad),i=Er.transition,l=tt;try{if(Er.transition=null,tt=16>s?16:s,Ni===null)var h=!1;else{if(s=Ni,Ni=null,ad=0,(it&6)!==0)throw Error(t(331));var g=it;for(it|=4,Ee=s.current;Ee!==null;){var y=Ee,S=y.child;if((Ee.flags&16)!==0){var M=y.deletions;if(M!==null){for(var U=0;U<M.length;U++){var Y=M[U];for(Ee=Y;Ee!==null;){var ce=Ee;switch(ce.tag){case 0:case 11:case 15:fc(8,ce,y)}var de=ce.child;if(de!==null)de.return=ce,Ee=de;else for(;Ee!==null;){ce=Ee;var le=ce.sibling,we=ce.return;if(Zv(ce),ce===Y){Ee=null;break}if(le!==null){le.return=we,Ee=le;break}Ee=we}}}var Te=y.alternate;if(Te!==null){var Ce=Te.child;if(Ce!==null){Te.child=null;do{var Ut=Ce.sibling;Ce.sibling=null,Ce=Ut}while(Ce!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,Ee=S;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:fc(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Ee=q;break e}Ee=y.return}}var B=s.current;for(Ee=B;Ee!==null;){S=Ee;var K=S.child;if((S.subtreeFlags&2064)!==0&&K!==null)K.return=S,Ee=K;else e:for(S=B;Ee!==null;){if(M=Ee,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:nd(9,M)}}catch(Ae){Dt(M,M.return,Ae)}if(M===S){Ee=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,Ee=pe;break e}Ee=M.return}}if(it=g,bi(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(mo,s)}catch{}h=!0}return h}finally{tt=l,Er.transition=i}}return!1}function m_(s,i,l){i=ja(l,i),i=jv(s,i,1),s=Ri(s,i,1),i=Mn(),s!==null&&(_o(s,1,i),$n(s,i))}function Dt(s,i,l){if(s.tag===3)m_(s,s,l);else for(;i!==null;){if(i.tag===3){m_(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ki===null||!ki.has(h))){s=ja(l,s),s=Dv(i,s,1),i=Ri(i,s,1),s=Mn(),i!==null&&(_o(i,1,s),$n(i,s));break}}i=i.return}}function V1(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=Mn(),s.pingedLanes|=s.suspendedLanes&l,cn===s&&(vn&l)===l&&(en===4||en===3&&(vn&130023424)===vn&&500>Tt()-Ep?jo(s,0):xp|=l),$n(s,i)}function g_(s,i){i===0&&((s.mode&1)===0?i=1:(i=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var l=Mn();s=Gs(s,i),s!==null&&(_o(s,i,l),$n(s,l))}function L1(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),g_(s,l)}function F1(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),g_(s,l)}var y_;y_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||Fn.current)zn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return zn=!1,C1(s,i,l);zn=(s.flags&131072)!==0}else zn=!1,Ct&&(i.flags&1048576)!==0&&Yy(i,Fu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;ed(s,i),s=i.pendingProps;var g=Ia(i,Sn.current);ka(i,l),g=Zf(null,i,h,s,g,l);var y=ep();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Un(h)?(y=!0,Mu(i)):y=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qf(i),g.updater=Ju,i.stateNode=g,g._reactInternals=i,op(i,h,s,l),i=up(null,i,h,!0,y,l)):(i.tag=0,Ct&&y&&Mf(i),On(null,i,g,l),i=i.child),i;case 16:h=i.elementType;e:{switch(ed(s,i),s=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=z1(h),s=Or(h,s),g){case 0:i=cp(null,i,h,s,l);break e;case 1:i=$v(null,i,h,s,l);break e;case 11:i=Lv(null,i,h,s,l);break e;case 14:i=Fv(null,i,h,Or(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Or(h,g),cp(s,i,h,g,l);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Or(h,g),$v(s,i,h,g,l);case 3:e:{if(Hv(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,g=y.element,iv(s,i),Wu(i,h,null,l);var S=i.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){g=ja(Error(t(423)),i),i=Wv(s,i,h,l,g);break e}else if(h!==g){g=ja(Error(t(424)),i),i=Wv(s,i,h,l,g);break e}else for(ir=Si(i.stateNode.containerInfo.firstChild),sr=i,Ct=!0,Dr=null,l=rv(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Aa(),h===g){i=Qs(s,i,l);break e}On(s,i,h,l)}i=i.child}return i;case 5:return lv(i),s===null&&Ff(i),h=i.type,g=i.pendingProps,y=s!==null?s.memoizedProps:null,S=g.children,Pf(h,g)?S=null:y!==null&&Pf(h,y)&&(i.flags|=32),Bv(s,i),On(s,i,S,l),i.child;case 6:return s===null&&Ff(i),null;case 13:return qv(s,i,l);case 4:return Gf(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Ra(i,null,h,l):On(s,i,h,l),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Or(h,g),Lv(s,i,h,g,l);case 7:return On(s,i,i.pendingProps,l),i.child;case 8:return On(s,i,i.pendingProps.children,l),i.child;case 12:return On(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,y=i.memoizedProps,S=g.value,wt(Bu,h._currentValue),h._currentValue=S,y!==null)if(jr(y.value,S)){if(y.children===g.children&&!Fn.current){i=Qs(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var M=y.dependencies;if(M!==null){S=y.child;for(var U=M.firstContext;U!==null;){if(U.context===h){if(y.tag===1){U=Ks(-1,l&-l),U.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ce=Y.pending;ce===null?U.next=U:(U.next=ce.next,ce.next=U),Y.pending=U}}y.lanes|=l,U=y.alternate,U!==null&&(U.lanes|=l),Hf(y.return,l,i),M.lanes|=l;break}U=U.next}}else if(y.tag===10)S=y.type===i.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,M=S.alternate,M!==null&&(M.lanes|=l),Hf(S,l,i),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===i){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}On(s,i,g.children,l),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,ka(i,l),g=wr(g),h=h(g),i.flags|=1,On(s,i,h,l),i.child;case 14:return h=i.type,g=Or(h,i.pendingProps),g=Or(h.type,g),Fv(s,i,h,g,l);case 15:return Uv(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:Or(h,g),ed(s,i),i.tag=1,Un(h)?(s=!0,Mu(i)):s=!1,ka(i,l),kv(i,h,g),op(i,h,g,l),up(null,i,h,!0,s,l);case 19:return Kv(s,i,l);case 22:return zv(s,i,l)}throw Error(t(156,i.tag))};function v_(s,i){return jl(s,i)}function U1(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(s,i,l,h){return new U1(s,i,l,h)}function Pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function z1(s){if(typeof s=="function")return Pp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===me)return 14}return 2}function Oi(s,i){var l=s.alternate;return l===null?(l=Tr(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function dd(s,i,l,h,g,y){var S=2;if(h=s,typeof s=="function")Pp(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case k:return Oo(l.children,g,y,i);case I:S=8,g|=8;break;case D:return s=Tr(12,l,i,g|2),s.elementType=D,s.lanes=y,s;case C:return s=Tr(13,l,i,g),s.elementType=C,s.lanes=y,s;case ue:return s=Tr(19,l,i,g),s.elementType=ue,s.lanes=y,s;case ae:return hd(l,g,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:S=10;break e;case O:S=9;break e;case j:S=11;break e;case me:S=14;break e;case Q:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Tr(S,l,i,g),i.elementType=s,i.type=h,i.lanes=y,i}function Oo(s,i,l,h){return s=Tr(7,s,h,i),s.lanes=l,s}function hd(s,i,l,h){return s=Tr(22,s,h,i),s.elementType=ae,s.lanes=l,s.stateNode={isHidden:!1},s}function kp(s,i,l){return s=Tr(6,s,null,i),s.lanes=l,s}function Np(s,i,l){return i=Tr(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function B1(s,i,l,h,g){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function jp(s,i,l,h,g,y,S,M,U){return s=new B1(s,i,l,M,U),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Tr(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(y),s}function $1(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function __(s){if(!s)return Ci;s=s._reactInternals;e:{if(kr(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Un(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Un(l))return Gy(s,l,i)}return i}function w_(s,i,l,h,g,y,S,M,U){return s=jp(l,h,!0,s,g,y,S,M,U),s.context=__(null),l=s.current,h=Mn(),g=ji(l),y=Ks(h,g),y.callback=i??null,Ri(l,y,g),s.current.lanes=g,_o(s,g,h),$n(s,h),s}function fd(s,i,l,h){var g=i.current,y=Mn(),S=ji(g);return l=__(l),i.context===null?i.context=l:i.pendingContext=l,i=Ks(y,S),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Ri(g,i,S),s!==null&&(Lr(s,g,S,y),Hu(s,g,S)),S}function pd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function x_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Dp(s,i){x_(s,i),(s=s.alternate)&&x_(s,i)}function H1(){return null}var E_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Op(s){this._internalRoot=s}md.prototype.render=Op.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));fd(s,i,null,null)},md.prototype.unmount=Op.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;No(function(){fd(null,s,null,null)}),i[$s]=null}};function md(s){this._internalRoot=s}md.prototype.unstable_scheduleHydration=function(s){if(s){var i=Bl();s={blockedOn:null,target:s,priority:i};for(var l=0;l<er.length&&i!==0&&i<er[l].priority;l++);er.splice(l,0,s),l===0&&ca(s)}};function Mp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function T_(){}function W1(s,i,l,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var Y=pd(S);y.call(Y)}}var S=w_(i,h,s,0,null,!1,!1,"",T_);return s._reactRootContainer=S,s[$s]=S.current,ec(s.nodeType===8?s.parentNode:s),No(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var M=h;h=function(){var Y=pd(U);M.call(Y)}}var U=jp(s,0,!1,null,null,!1,!1,"",T_);return s._reactRootContainer=U,s[$s]=U.current,ec(s.nodeType===8?s.parentNode:s),No(function(){fd(i,U,l,h)}),U}function yd(s,i,l,h,g){var y=l._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var M=g;g=function(){var U=pd(S);M.call(U)}}fd(i,S,s,g)}else S=W1(l,i,s,g,h);return pd(S)}Ul=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=ct(i.pendingLanes);l!==0&&(Fl(i,l|1),$n(i,Tt()),(it&6)===0&&(Ma=Tt()+500,bi()))}break;case 13:No(function(){var h=Gs(s,1);if(h!==null){var g=Mn();Lr(h,s,1,g)}}),Dp(s,1)}},aa=function(s){if(s.tag===13){var i=Gs(s,134217728);if(i!==null){var l=Mn();Lr(i,s,134217728,l)}Dp(s,134217728)}},zl=function(s){if(s.tag===13){var i=ji(s),l=Gs(s,i);if(l!==null){var h=Mn();Lr(l,s,i,h)}Dp(s,i)}},Bl=function(){return tt},$l=function(s,i){var l=tt;try{return tt=s,i()}finally{tt=l}},Rr=function(s,i,l){switch(i){case"input":if(pn(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var g=Du(h);if(!g)throw Error(t(90));Ge(h),pn(h,g)}}}break;case"textarea":ra(s,l);break;case"select":i=l.value,i!=null&&Yn(s,!!l.multiple,i,!1)}},Lt=bp,on=No;var q1={usingClientEntryPoint:!1,Events:[rc,Ta,Du,Oe,yt,bp]},yc={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G1={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gu(s),s===null?null:s.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||H1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{mo=vd.inject(G1),Jn=vd}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1,Hn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mp(i))throw Error(t(200));return $1(s,i,null,l)},Hn.createRoot=function(s,i){if(!Mp(s))throw Error(t(299));var l=!1,h="",g=E_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=jp(s,1,!1,null,null,l,!1,h,g),s[$s]=i.current,ec(s.nodeType===8?s.parentNode:s),new Op(i)},Hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=gu(i),s=s===null?null:s.stateNode,s},Hn.flushSync=function(s){return No(s)},Hn.hydrate=function(s,i,l){if(!gd(i))throw Error(t(200));return yd(null,s,i,!0,l)},Hn.hydrateRoot=function(s,i,l){if(!Mp(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,g=!1,y="",S=E_;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),i=w_(i,null,s,1,l??null,g,!1,y,S),s[$s]=i.current,ec(s),h)for(s=0;s<h.length;s++)l=h[s],g=l._getVersion,g=g(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,g]:i.mutableSourceEagerHydrationData.push(l,g);return new md(i)},Hn.render=function(s,i,l){if(!gd(i))throw Error(t(200));return yd(null,s,i,!1,l)},Hn.unmountComponentAtNode=function(s){if(!gd(s))throw Error(t(40));return s._reactRootContainer?(No(function(){yd(null,null,s,!1,function(){s._reactRootContainer=null,s[$s]=null})}),!0):!1},Hn.unstable_batchedUpdates=bp,Hn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!gd(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yd(s,i,l,!1,h)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var k_;function X0(){if(k_)return Fp.exports;k_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=tC(),Fp.exports}var N_;function nC(){if(N_)return _d;N_=1;var n=X0();return _d.createRoot=n.createRoot,_d.hydrateRoot=n.hydrateRoot,_d}var rC=nC(),T=eg();const fe=Y0(T),tg=Q1({__proto__:null,default:fe},[T]),sC=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,w=a>>2,_=(a&3)<<4|f>>4;let E=(f&15)<<2|m>>6,b=m&63;p||(b=64,c||(E=64)),r.push(t[w],t[_],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(J0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||_==null)throw new oC;const E=a<<2|f>>4;if(r.push(E),m!==64){const b=f<<4&240|m>>2;if(r.push(b),_!==64){const V=m<<6&192|_;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(n){const e=J0(n);return Z0.encodeByteArray(e,!0)},Yd=function(n){return aC(n).replace(/\./g,"")},ex=function(n){try{return Z0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>lC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof j_>"u")return;const n=j_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ex(n[1]);return e&&JSON.parse(e)},Ph=()=>{try{return sC()||cC()||uC()||dC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tx=n=>Ph()?.emulatorHosts?.[n],nx=n=>{const e=tx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rx=()=>Ph()?.config,sx=n=>Ph()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yd(JSON.stringify(t)),Yd(JSON.stringify(c)),""].join(".")}const bc={};function fC(){const n={prod:[],emulator:[]};for(const e of Object.keys(bc))bc[e]?n.emulator.push(e):n.prod.push(e);return n}function pC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let D_=!1;function rg(n,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||bc[n]===e||bc[n]||D_)return;bc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=fC().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{D_=!0,c()},E}function w(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=pC(r),b=t("text"),V=document.getElementById(b)||document.createElement("span"),R=t("learnmore"),P=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;f(H),w(P,R);const W=m();p($,F),H.append($,V,P,W),document.body.appendChild(H)}a?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function gC(){const n=Ph()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xC(){return!gC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class js extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SC,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?IC(a,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new js(o,f,r)}}function IC(n,e){return n.replace(CC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const CC=/\{\$([^}]+)}/g;function bC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],c=e[o];if(O_(a)&&O_(c)){if(!Uo(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function O_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function xc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function AC(n,e){const t=new RC(n,e);return t.subscribe.bind(t)}class RC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Bp),o.error===void 0&&(o.error=Bp),o.complete===void 0&&(o.complete=Bp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n){return n&&n._delegate?n._delegate:n}class Yi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NC(n){return n===Vo?void 0:n}function jC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const OC={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},MC=Je.INFO,VC={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},LC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=VC[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let M_,V_;function UC(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ox=new WeakMap,fm=new WeakMap,ax=new WeakMap,$p=new WeakMap,ig=new WeakMap;function BC(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Wi(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ox.set(t,n)}).catch(()=>{}),ig.set(e,n),e}function $C(n){if(fm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});fm.set(n,e)}let pm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ax.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HC(n){pm=n(pm)}function WC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Hp(this),e,...t);return ax.set(r,e.sort?e.sort():[e]),Wi(r)}:zC().includes(n)?function(...e){return n.apply(Hp(this),e),Wi(ox.get(this))}:function(...e){return Wi(n.apply(Hp(this),e))}}function qC(n){return typeof n=="function"?WC(n):(n instanceof IDBTransaction&&$C(n),FC(n,UC())?new Proxy(n,pm):n)}function Wi(n){if(n instanceof IDBRequest)return BC(n);if($p.has(n))return $p.get(n);const e=qC(n);return e!==n&&($p.set(n,e),ig.set(e,n)),e}const Hp=n=>ig.get(n);function GC(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),f=Wi(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Wi(c.result),p.oldVersion,p.newVersion,Wi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const KC=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],Wp=new Map;function L_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=QC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||KC.includes(t)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&p.done]))[0]};return Wp.set(e,a),a}HC(n=>({...n,get:(e,t,r)=>L_(e,t)||n.get(e,t,r),has:(e,t)=>!!L_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function XC(n){return n.getComponent()?.type==="VERSION"}const mm="@firebase/app",F_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new sg("@firebase/app"),JC="@firebase/app-compat",ZC="@firebase/analytics-compat",eb="@firebase/analytics",tb="@firebase/app-check-compat",nb="@firebase/app-check",rb="@firebase/auth",sb="@firebase/auth-compat",ib="@firebase/database",ob="@firebase/data-connect",ab="@firebase/database-compat",lb="@firebase/functions",cb="@firebase/functions-compat",ub="@firebase/installations",db="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",pb="@firebase/performance",mb="@firebase/performance-compat",gb="@firebase/remote-config",yb="@firebase/remote-config-compat",vb="@firebase/storage",_b="@firebase/storage-compat",wb="@firebase/firestore",xb="@firebase/ai",Eb="@firebase/firestore-compat",Tb="firebase",Sb="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",Ib={[mm]:"fire-core",[JC]:"fire-core-compat",[eb]:"fire-analytics",[ZC]:"fire-analytics-compat",[nb]:"fire-app-check",[tb]:"fire-app-check-compat",[rb]:"fire-auth",[sb]:"fire-auth-compat",[ib]:"fire-rtdb",[ob]:"fire-data-connect",[ab]:"fire-rtdb-compat",[lb]:"fire-fn",[cb]:"fire-fn-compat",[ub]:"fire-iid",[db]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[pb]:"fire-perf",[mb]:"fire-perf-compat",[gb]:"fire-rc",[yb]:"fire-rc-compat",[vb]:"fire-gcs",[_b]:"fire-gcs-compat",[wb]:"fire-fst",[Eb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,Cb=new Map,ym=new Map;function U_(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zo(n){const e=n.name;if(ym.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,n);for(const t of Xd.values())U_(t,n);for(const t of Cb.values())U_(t,n);return!0}function kh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Kc("app","Firebase",bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=Sb;function lx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(t||(t=rx()),!t)throw qi.create("no-options");const a=Xd.get(o);if(a){if(Uo(t,a.options)&&Uo(r,a.config))return a;throw qi.create("duplicate-app",{appName:o})}const c=new DC(o);for(const p of ym.values())c.addComponent(p);const f=new Ab(t,r,c);return Xd.set(o,f),f}function og(n=gm){const e=Xd.get(n);if(!e&&n===gm&&rx())return lx();if(!e)throw qi.create("no-app",{appName:n});return e}function Es(n,e,t){let r=Ib[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(c.join(" "));return}zo(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Pb=1,Dc="firebase-heartbeat-store";let qp=null;function cx(){return qp||(qp=GC(Rb,Pb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dc)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),qp}async function kb(n){try{const t=(await cx()).transaction(Dc),r=await t.objectStore(Dc).get(ux(n));return await t.done,r}catch(e){if(e instanceof js)ni.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}}async function z_(n,e){try{const r=(await cx()).transaction(Dc,"readwrite");await r.objectStore(Dc).put(e,ux(n)),await r.done}catch(t){if(t instanceof js)ni.warn(t.message);else{const r=qi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}}function ux(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=1024,jb=30;class Db{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>jb){const o=Vb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B_(),{heartbeatsToSend:t,unsentEntries:r}=Ob(this._heartbeatsCache.heartbeats),o=Yd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ni.warn(e),""}}}function B_(){return new Date().toISOString().substring(0,10)}function Ob(n,e=Nb){const t=[];let r=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),$_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Mb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kb(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $_(n){return Yd(JSON.stringify({version:2,heartbeats:n})).length}function Vb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){zo(new Yi("platform-logger",e=>new YC(e),"PRIVATE")),zo(new Yi("heartbeat",e=>new Db(e),"PRIVATE")),Es(mm,F_,n),Es(mm,F_,"esm2020"),Es("fire-js","")}Lb("");function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fb=dx,hx=new Kc("auth","Firebase",dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new sg("@firebase/auth");function Ub(n,...e){Jd.logLevel<=Je.WARN&&Jd.warn(`Auth (${Xo}): ${n}`,...e)}function Vd(n,...e){Jd.logLevel<=Je.ERROR&&Jd.error(`Auth (${Xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,...e){throw ag(n,...e)}function Ts(n,...e){return ag(n,...e)}function fx(n,e,t){const r={...Fb(),[e]:t};return new Kc("auth","Firebase",r).create(e,{appName:n.name})}function ei(n){return fx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hx.create(n,...e)}function Le(n,e,...t){if(!n)throw ag(e,...t)}function Js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vd(e),new Error(e)}function ri(n,e){n||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function zb(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zb()||vC()||"connection"in navigator)?navigator.onLine:!0}function $b(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=mC()||_C()}get(){return Bb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qb=new Yc(3e4,6e4);function li(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ci(n,e,t,r,o={}){return mx(n,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const f=Qc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...a};return yC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(m.credentials="include"),px.fetch()(await gx(n,n.config.apiHost,t,f),m)})}async function mx(n,e,t){n._canInitEmulator=!1;const r={...Hb,...e};try{const o=new Kb(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw wd(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wd(n,"user-disabled",c);const w=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fx(n,w,m);qr(n,w)}}catch(o){if(o instanceof js)throw o;qr(n,"network-request-failed",{message:String(o)})}}async function Xc(n,e,t,r,o={}){const a=await ci(n,e,t,r,o);return"mfaPendingCredential"in a&&qr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function gx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,c=a.config.emulator?lg(n.config,o):`${n.config.apiScheme}://${o}`;return Wb.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function Gb(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ts(this.auth,"network-request-failed")),qb.get())})}}function wd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ts(n,e,r);return o.customData._tokenResponse=t,o}function W_(n){return n!==void 0&&n.enterprise!==void 0}class Qb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Gb(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yb(n,e){return ci(n,"GET","/v2/recaptchaConfig",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function Zd(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jb(n,e=!1){const t=Yt(n),r=await t.getIdToken(e),o=cg(r);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Ac(Gp(o.auth_time)),issuedAtTime:Ac(Gp(o.iat)),expirationTime:Ac(Gp(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Gp(n){return Number(n)*1e3}function cg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=ex(t);return o?JSON.parse(o):(Vd("Failed to decode base64 JWT payload"),null)}catch(o){return Vd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function q_(n){const e=cg(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof js&&Zb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Zb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(n){const e=n.auth,t=await n.getIdToken(),r=await Oc(n,Zd(e,{idToken:t}));Le(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?yx(o.providerUserInfo):[],c=nA(n.providerData,a),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,m=f?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,w)}async function tA(n){const e=Yt(n);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nA(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function yx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(n,e){const t=await mx(n,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await gx(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return n.emulatorConfig&&Yo(n.emulatorConfig.host)&&(p.credentials="include"),px.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sA(n,e){return ci(n,"POST","/v2/accounts:revokeToken",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=q_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await rA(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,c=new Ga;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Le(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Le(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new eA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Oc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Jb(this,e)}reload(){return tA(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await Oc(this,Xb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:b,providerData:V,stsTokenManager:R}=t;Le(_&&R,e,"internal-error");const P=Ga.fromJSON(this.name,R);Le(typeof _=="string",e,"internal-error"),Vi(r,e.name),Vi(o,e.name),Le(typeof E=="boolean",e,"internal-error"),Le(typeof b=="boolean",e,"internal-error"),Vi(a,e.name),Vi(c,e.name),Vi(f,e.name),Vi(p,e.name),Vi(m,e.name),Vi(w,e.name);const F=new $r({uid:_,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:a,tenantId:f,stsTokenManager:P,createdAt:m,lastLoginAt:w});return V&&Array.isArray(V)&&(F.providerData=V.map($=>({...$}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ga;o.updateFromServerResponse(t);const a=new $r({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await eh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?yx(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,f=new Ga;f.updateFromIdToken(r);const p=new $r({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function Zs(n){ri(n instanceof Function,"Expected a class definition");let e=G_.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vx.type="NONE";const K_=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n,e,t){return`firebase:${n}:${e}:${t}`}class Ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Ld(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ld("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zd(this.auth,{idToken:e}).catch(()=>{});return t?$r._fromGetAccountInfoResponse(this.auth,t,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ka(Zs(K_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Zs(K_);const c=Ld(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const w=await m._get(c);if(w){let _;if(typeof w=="string"){const E=await Zd(e,{idToken:w}).catch(()=>{});if(!E)break;_=await $r._fromGetAccountInfoResponse(e,E,w)}else _=$r._fromJSON(e,w);m!==a&&(f=_),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ka(a,e,r):(a=p[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sx(e))return"Blackberry";if(Ix(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||xx(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _x(n=kn()){return/firefox\//i.test(n)}function wx(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xx(n=kn()){return/crios\//i.test(n)}function Ex(n=kn()){return/iemobile/i.test(n)}function Tx(n=kn()){return/android/i.test(n)}function Sx(n=kn()){return/blackberry/i.test(n)}function Ix(n=kn()){return/webos/i.test(n)}function ug(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iA(n=kn()){return ug(n)&&!!window.navigator?.standalone}function oA(){return wC()&&document.documentMode===10}function Cx(n=kn()){return ug(n)||Tx(n)||Ix(n)||Sx(n)||/windows phone/i.test(n)||Ex(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(n,e=[]){let t;switch(n){case"Browser":t=Q_(kn());break;case"Worker":t=`${Q_(kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,f)=>{try{const p=e(a);c(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,e={}){return ci(n,"GET","/v2/passwordPolicy",li(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=6;class uA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??cA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new aA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zd(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!a||a===c)&&f?.user&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$b()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(ei(this));const t=e?Yt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lA(this),t=new uA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Zs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ub(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jo(n){return Yt(n)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=AC(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hA(n){Nh=n}function Ax(n){return Nh.loadJS(n)}function fA(){return Nh.recaptchaEnterpriseScript}function pA(){return Nh.gapiScript}function mA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gA{constructor(){this.enterprise=new yA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vA="recaptcha-enterprise",Rx="NO_RECAPTCHA";class _A{constructor(e){this.type=vA,this.auth=Jo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{Yb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new Qb(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function o(a,c,f){const p=window.grecaptcha;W_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(Rx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gA().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(f=>{if(!t&&W_(window.grecaptcha))o(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fA();p.length!==0&&(p+=f),Ax(p).then(()=>{o(f,a,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function X_(n,e,t,r=!1,o=!1){const a=new _A(n);let c;if(o)c=Rx;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function wm(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await X_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await X_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e){const t=kh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Uo(a,e??{}))return o;qr(o,"already-initialized")}return t.initialize({options:e})}function xA(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function EA(n,e,t){const r=Jo(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Px(e),{host:c,port:f}=TA(e),p=f===null?"":`:${f}`,m={url:`${a}//${c}${p}/`},w=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Uo(m,r.config.emulator)&&Uo(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Yo(c)?(ng(`${a}//${c}${p}`),rg("Auth",!0)):SA()}function Px(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TA(n){const e=Px(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:J_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:J_(c)}}}function J_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function IA(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e){return Xc(n,"POST","/v1/accounts:signInWithPassword",li(n,e))}async function bA(n,e){return ci(n,"POST","/v1/accounts:sendOobCode",li(n,e))}async function AA(n,e){return bA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(n,e){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}async function PA(n,e){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends dg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Mc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,t,"signInWithPassword",CA);case"emailLink":return RA(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,r,"signUpPassword",IA);case"emailLink":return PA(e,{idToken:t,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(n,e){return Xc(n,"POST","/v1/accounts:signInWithIdp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="http://localhost";class Bo extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const c=new Bo(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Qa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qa(e,t)}buildRequest(){const e={requestUri:kA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jA(n){const e=wc(xc(n)).link,t=e?wc(xc(e)).deep_link_id:null,r=wc(xc(n)).deep_link_id;return(r?wc(xc(r)).link:null)||r||t||e||n}class hg{constructor(e){const t=wc(xc(e)),r=t.apiKey??null,o=t.oobCode??null,a=NA(t.mode??null);Le(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=jA(e);try{return new hg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return Mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hg.parseLink(t);return Le(r,"argument-error"),Mc._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Jc{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Jc{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Jc{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(n,e){return Xc(n,"POST","/v1/accounts:signUp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await $r._fromIdTokenResponse(e,r,o),c=Z_(r);return new $o({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Z_(r);return new $o({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Z_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends js{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new th(e,t,r,o)}}function Nx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(n,a,e,r):a})}async function OA(n,e,t=!1){const r=await Oc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $o._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e,t=!1){const{auth:r}=n;if(lr(r.app))return Promise.reject(ei(r));const o="reauthenticate";try{const a=await Oc(n,Nx(r,o,e,n),t);Le(a.idToken,r,"internal-error");const c=cg(a.idToken);Le(c,r,"internal-error");const{sub:f}=c;return Le(n.uid===f,r,"user-mismatch"),$o._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&qr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(n,e,t=!1){if(lr(n.app))return Promise.reject(ei(n));const r="signIn",o=await Nx(n,r,e),a=await $o._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function VA(n,e){return jx(Jo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n){const e=Jo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LA(n,e,t){if(lr(n.app))return Promise.reject(ei(n));const r=Jo(n),c=await wm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Dx(n),p}),f=await $o._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function FA(n,e,t){return lr(n.app)?Promise.reject(ei(n)):VA(Yt(n),vl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dx(n),r})}async function UA(n,e){const t=Yt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await AA(t.auth,o);a!==n.email&&await n.reload()}function zA(n,e,t,r){return Yt(n).onIdTokenChanged(e,t,r)}function BA(n,e,t){return Yt(n).beforeAuthStateChanged(e,t)}function $A(n,e,t,r){return Yt(n).onAuthStateChanged(e,t,r)}function HA(n){return Yt(n).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1e3,qA=10;class Mx extends Ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);oA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qA):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},WA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mx.type="LOCAL";const GA=Mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Vx.type="SESSION";const Lx=Vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(c).map(async m=>m(t.origin,a)),p=await KA(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,p)=>{const m=fg("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function YA(n){Ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function XA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JA(){return navigator?.serviceWorker?.controller||null}function ZA(){return Fx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebaseLocalStorageDb",eR=1,rh="firebaseLocalStorage",zx="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dh(n,e){return n.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function tR(){const n=indexedDB.deleteDatabase(Ux);return new Zc(n).toPromise()}function xm(){const n=indexedDB.open(Ux,eR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rh,{keyPath:zx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await tR(),e(await xm()))})})}async function ew(n,e,t){const r=Dh(n,!0).put({[zx]:e,value:t});return new Zc(r).toPromise()}async function nR(n,e){const t=Dh(n,!1).get(e),r=await new Zc(t).toPromise();return r===void 0?null:r.value}function tw(n,e){const t=Dh(n,!0).delete(e);return new Zc(t).toPromise()}const rR=800,sR=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(ZA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XA(),!this.activeServiceWorker)return;this.sender=new QA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await ew(e,nh,"1"),await tw(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ew(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Dh(o,!1).getAll();return new Zc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const iR=Bx;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n,e){return e?Zs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aR(n){return jx(n.auth,new pg(n),n.bypassAuthState)}function lR(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),MA(t,new pg(n),n.bypassAuthState)}async function cR(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),OA(t,new pg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:qr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Yc(2e3,1e4);class qa extends $x{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uR.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="pendingRedirect",Fd=new Map;class hR extends $x{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await fR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fR(n,e){const t=gR(e),r=mR(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function pR(n,e){Fd.set(n._key(),e)}function mR(n){return Zs(n._redirectPersistence)}function gR(n){return Ld(dR,n.config.apiKey,n.name)}async function yR(n,e,t=!1){if(lr(n.app))return Promise.reject(ei(n));const r=Jo(n),o=oR(r,e),c=await new hR(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=600*1e3;class _R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Hx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ts(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(nw(e))}saveEventToCache(e){this.cachedEventUids.add(nw(e)),this.lastProcessedEventTime=Date.now()}}function nw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^https?/;async function SR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xR(n);for(const t of e)try{if(IR(t))return}catch{}qr(n,"unauthorized-domain")}function IR(n){const e=vm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!TR.test(t))return!1;if(ER.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Yc(3e4,6e4);function rw(){const n=Ss().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bR(n){return new Promise((e,t)=>{function r(){rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rw(),t(Ts(n,"network-request-failed"))},timeout:CR.get()})}if(Ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ss().gapi?.load)r();else{const o=mA("iframefcb");return Ss()[o]=()=>{gapi.load?r():t(Ts(n,"network-request-failed"))},Ax(`${pA()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function AR(n){return Ud=Ud||bR(n),Ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Yc(5e3,15e3),PR="__/auth/iframe",kR="emulator/auth/iframe",NR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DR(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lg(e,kR):`https://${n.config.authDomain}/${PR}`,r={apiKey:e.apiKey,appName:n.name,v:Xo},o=jR.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Qc(r).slice(1)}`}async function OR(n){const e=await AR(n),t=Ss().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:DR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NR,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=Ts(n,"network-request-failed"),f=Ss().setTimeout(()=>{a(c)},RR.get());function p(){Ss().clearTimeout(f),o(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,LR=600,FR="_blank",UR="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zR(n,e,t,r=VR,o=LR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p={...MR,width:r.toString(),height:o.toString(),top:a,left:c},m=kn().toLowerCase();t&&(f=xx(m)?FR:t),_x(m)&&(e=e||UR,p.scrollbars="yes");const w=Object.entries(p).reduce((E,[b,V])=>`${E}${b}=${V},`,"");if(iA(m)&&f!=="_self")return BR(e||"",f),new sw(null);const _=window.open(e||"",f,w);Le(_,n,"popup-blocked");try{_.focus()}catch{}return new sw(_)}function BR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="__/auth/handler",HR="emulator/auth/handler",WR=encodeURIComponent("fac");async function iw(n,e,t,r,o,a){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xo,eventId:o};if(e instanceof kx){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",bC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,_]of Object.entries({}))c[w]=_}if(e instanceof Jc){const w=e.getScopes().filter(_=>_!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),m=p?`#${WR}=${encodeURIComponent(p)}`:"";return`${qR(n)}?${Qc(f).slice(1)}${m}`}function qR({config:n}){return n.emulator?lg(n,HR):`https://${n.authDomain}/${$R}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class GR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=yR,this._overrideRedirectResult=pR}async _openPopup(e,t,r,o){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await iw(e,t,r,vm(),o);return zR(e,a,fg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await iw(e,t,r,vm(),o);return YA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await OR(e),r=new _R(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kp,{type:Kp},o=>{const a=o?.[0]?.[Kp];a!==void 0&&t(!!a),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cx()||wx()||ug()}}const KR=GR;var ow="@firebase/auth",aw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XR(n){zo(new Yi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bx(n)},m=new dA(r,o,a,p);return xA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Yi("auth-internal",e=>{const t=Jo(e.getProvider("auth").getImmediate());return(r=>new QR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(ow,aw,YR(n)),Es(ow,aw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=300,ZR=sx("authIdTokenMaxAge")||JR;let lw=null;const eP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZR)return;const o=t?.token;lw!==o&&(lw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tP(n=og()){const e=kh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wA(n,{popupRedirectResolver:KR,persistence:[iR,GA,Lx]}),r=sx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=eP(a.toString());BA(t,c,()=>c(t.currentUser)),zA(t,f=>c(f))}}const o=tx("auth");return o&&EA(t,`http://${o}`),t}function nP(){return document.getElementsByTagName("head")?.[0]??document}hA({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Ts("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",nP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XR("Browser");var rP="firebase",sP="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(rP,sP,"app");var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Wx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function D(){}D.prototype=I.prototype,k.F=I.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(N,O,j){for(var C=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)C[ue-2]=arguments[ue];return I.prototype[O].apply(N,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,D){D||(D=0);const N=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)N[O]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(O=0;O<16;++O)N[O]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=k.g[0],D=k.g[1],O=k.g[2];let j=k.g[3],C;C=I+(j^D&(O^j))+N[0]+3614090360&4294967295,I=D+(C<<7&4294967295|C>>>25),C=j+(O^I&(D^O))+N[1]+3905402710&4294967295,j=I+(C<<12&4294967295|C>>>20),C=O+(D^j&(I^D))+N[2]+606105819&4294967295,O=j+(C<<17&4294967295|C>>>15),C=D+(I^O&(j^I))+N[3]+3250441966&4294967295,D=O+(C<<22&4294967295|C>>>10),C=I+(j^D&(O^j))+N[4]+4118548399&4294967295,I=D+(C<<7&4294967295|C>>>25),C=j+(O^I&(D^O))+N[5]+1200080426&4294967295,j=I+(C<<12&4294967295|C>>>20),C=O+(D^j&(I^D))+N[6]+2821735955&4294967295,O=j+(C<<17&4294967295|C>>>15),C=D+(I^O&(j^I))+N[7]+4249261313&4294967295,D=O+(C<<22&4294967295|C>>>10),C=I+(j^D&(O^j))+N[8]+1770035416&4294967295,I=D+(C<<7&4294967295|C>>>25),C=j+(O^I&(D^O))+N[9]+2336552879&4294967295,j=I+(C<<12&4294967295|C>>>20),C=O+(D^j&(I^D))+N[10]+4294925233&4294967295,O=j+(C<<17&4294967295|C>>>15),C=D+(I^O&(j^I))+N[11]+2304563134&4294967295,D=O+(C<<22&4294967295|C>>>10),C=I+(j^D&(O^j))+N[12]+1804603682&4294967295,I=D+(C<<7&4294967295|C>>>25),C=j+(O^I&(D^O))+N[13]+4254626195&4294967295,j=I+(C<<12&4294967295|C>>>20),C=O+(D^j&(I^D))+N[14]+2792965006&4294967295,O=j+(C<<17&4294967295|C>>>15),C=D+(I^O&(j^I))+N[15]+1236535329&4294967295,D=O+(C<<22&4294967295|C>>>10),C=I+(O^j&(D^O))+N[1]+4129170786&4294967295,I=D+(C<<5&4294967295|C>>>27),C=j+(D^O&(I^D))+N[6]+3225465664&4294967295,j=I+(C<<9&4294967295|C>>>23),C=O+(I^D&(j^I))+N[11]+643717713&4294967295,O=j+(C<<14&4294967295|C>>>18),C=D+(j^I&(O^j))+N[0]+3921069994&4294967295,D=O+(C<<20&4294967295|C>>>12),C=I+(O^j&(D^O))+N[5]+3593408605&4294967295,I=D+(C<<5&4294967295|C>>>27),C=j+(D^O&(I^D))+N[10]+38016083&4294967295,j=I+(C<<9&4294967295|C>>>23),C=O+(I^D&(j^I))+N[15]+3634488961&4294967295,O=j+(C<<14&4294967295|C>>>18),C=D+(j^I&(O^j))+N[4]+3889429448&4294967295,D=O+(C<<20&4294967295|C>>>12),C=I+(O^j&(D^O))+N[9]+568446438&4294967295,I=D+(C<<5&4294967295|C>>>27),C=j+(D^O&(I^D))+N[14]+3275163606&4294967295,j=I+(C<<9&4294967295|C>>>23),C=O+(I^D&(j^I))+N[3]+4107603335&4294967295,O=j+(C<<14&4294967295|C>>>18),C=D+(j^I&(O^j))+N[8]+1163531501&4294967295,D=O+(C<<20&4294967295|C>>>12),C=I+(O^j&(D^O))+N[13]+2850285829&4294967295,I=D+(C<<5&4294967295|C>>>27),C=j+(D^O&(I^D))+N[2]+4243563512&4294967295,j=I+(C<<9&4294967295|C>>>23),C=O+(I^D&(j^I))+N[7]+1735328473&4294967295,O=j+(C<<14&4294967295|C>>>18),C=D+(j^I&(O^j))+N[12]+2368359562&4294967295,D=O+(C<<20&4294967295|C>>>12),C=I+(D^O^j)+N[5]+4294588738&4294967295,I=D+(C<<4&4294967295|C>>>28),C=j+(I^D^O)+N[8]+2272392833&4294967295,j=I+(C<<11&4294967295|C>>>21),C=O+(j^I^D)+N[11]+1839030562&4294967295,O=j+(C<<16&4294967295|C>>>16),C=D+(O^j^I)+N[14]+4259657740&4294967295,D=O+(C<<23&4294967295|C>>>9),C=I+(D^O^j)+N[1]+2763975236&4294967295,I=D+(C<<4&4294967295|C>>>28),C=j+(I^D^O)+N[4]+1272893353&4294967295,j=I+(C<<11&4294967295|C>>>21),C=O+(j^I^D)+N[7]+4139469664&4294967295,O=j+(C<<16&4294967295|C>>>16),C=D+(O^j^I)+N[10]+3200236656&4294967295,D=O+(C<<23&4294967295|C>>>9),C=I+(D^O^j)+N[13]+681279174&4294967295,I=D+(C<<4&4294967295|C>>>28),C=j+(I^D^O)+N[0]+3936430074&4294967295,j=I+(C<<11&4294967295|C>>>21),C=O+(j^I^D)+N[3]+3572445317&4294967295,O=j+(C<<16&4294967295|C>>>16),C=D+(O^j^I)+N[6]+76029189&4294967295,D=O+(C<<23&4294967295|C>>>9),C=I+(D^O^j)+N[9]+3654602809&4294967295,I=D+(C<<4&4294967295|C>>>28),C=j+(I^D^O)+N[12]+3873151461&4294967295,j=I+(C<<11&4294967295|C>>>21),C=O+(j^I^D)+N[15]+530742520&4294967295,O=j+(C<<16&4294967295|C>>>16),C=D+(O^j^I)+N[2]+3299628645&4294967295,D=O+(C<<23&4294967295|C>>>9),C=I+(O^(D|~j))+N[0]+4096336452&4294967295,I=D+(C<<6&4294967295|C>>>26),C=j+(D^(I|~O))+N[7]+1126891415&4294967295,j=I+(C<<10&4294967295|C>>>22),C=O+(I^(j|~D))+N[14]+2878612391&4294967295,O=j+(C<<15&4294967295|C>>>17),C=D+(j^(O|~I))+N[5]+4237533241&4294967295,D=O+(C<<21&4294967295|C>>>11),C=I+(O^(D|~j))+N[12]+1700485571&4294967295,I=D+(C<<6&4294967295|C>>>26),C=j+(D^(I|~O))+N[3]+2399980690&4294967295,j=I+(C<<10&4294967295|C>>>22),C=O+(I^(j|~D))+N[10]+4293915773&4294967295,O=j+(C<<15&4294967295|C>>>17),C=D+(j^(O|~I))+N[1]+2240044497&4294967295,D=O+(C<<21&4294967295|C>>>11),C=I+(O^(D|~j))+N[8]+1873313359&4294967295,I=D+(C<<6&4294967295|C>>>26),C=j+(D^(I|~O))+N[15]+4264355552&4294967295,j=I+(C<<10&4294967295|C>>>22),C=O+(I^(j|~D))+N[6]+2734768916&4294967295,O=j+(C<<15&4294967295|C>>>17),C=D+(j^(O|~I))+N[13]+1309151649&4294967295,D=O+(C<<21&4294967295|C>>>11),C=I+(O^(D|~j))+N[4]+4149444226&4294967295,I=D+(C<<6&4294967295|C>>>26),C=j+(D^(I|~O))+N[11]+3174756917&4294967295,j=I+(C<<10&4294967295|C>>>22),C=O+(I^(j|~D))+N[2]+718787259&4294967295,O=j+(C<<15&4294967295|C>>>17),C=D+(j^(O|~I))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.v=function(k,I){I===void 0&&(I=k.length);const D=I-this.blockSize,N=this.C;let O=this.h,j=0;for(;j<I;){if(O==0)for(;j<=D;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<I;)if(N[O++]=k.charCodeAt(j++),O==this.blockSize){o(this,N),O=0;break}}else for(;j<I;)if(N[O++]=k[j++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=I},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)k[I++]=this.g[D]>>>N&255;return k};function a(k,I){var D=f;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=I(k)}function c(k,I){this.h=I;const D=[];let N=!0;for(let O=k.length-1;O>=0;O--){const j=k[O]|0;N&&j==I||(D[O]=j,N=!1)}this.g=D}var f={};function p(k){return-128<=k&&k<128?a(k,function(I){return new c([I|0],I<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return _;if(k<0)return P(m(-k));const I=[];let D=1;for(let N=0;k>=D;N++)I[N]=k/D|0,D*=4294967296;return new c(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return P(w(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(I,8));let N=_;for(let j=0;j<k.length;j+=8){var O=Math.min(8,k.length-j);const C=parseInt(k.substring(j,j+O),I);O<8?(O=m(Math.pow(I,O)),N=N.j(O).add(m(C))):(N=N.j(D),N=N.add(m(C)))}return N}var _=p(0),E=p(1),b=p(16777216);n=c.prototype,n.m=function(){if(R(this))return-P(this).m();let k=0,I=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);k+=(N>=0?N:4294967296+N)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(R(this))return"-"+P(this).toString(k);const I=m(Math.pow(k,6));var D=this;let N="";for(;;){const O=W(D,I).g;D=F(D,O.j(I));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=O,V(D))return j+N;for(;j.length<6;)j="0"+j;N=j+N}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function R(k){return k.h==-1}n.l=function(k){return k=F(this,k),R(k)?-1:V(k)?0:1};function P(k){const I=k.g.length,D=[];for(let N=0;N<I;N++)D[N]=~k.g[N];return new c(D,~k.h).add(E)}n.abs=function(){return R(this)?P(this):this},n.add=function(k){const I=Math.max(this.g.length,k.g.length),D=[];let N=0;for(let O=0;O<=I;O++){let j=N+(this.i(O)&65535)+(k.i(O)&65535),C=(j>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);N=C>>>16,j&=65535,C&=65535,D[O]=C<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function F(k,I){return k.add(P(I))}n.j=function(k){if(V(this)||V(k))return _;if(R(this))return R(k)?P(this).j(P(k)):P(P(this).j(k));if(R(k))return P(this.j(P(k)));if(this.l(b)<0&&k.l(b)<0)return m(this.m()*k.m());const I=this.g.length+k.g.length,D=[];for(var N=0;N<2*I;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<k.g.length;O++){const j=this.i(N)>>>16,C=this.i(N)&65535,ue=k.i(O)>>>16,me=k.i(O)&65535;D[2*N+2*O]+=C*me,$(D,2*N+2*O),D[2*N+2*O+1]+=j*me,$(D,2*N+2*O+1),D[2*N+2*O+1]+=C*ue,$(D,2*N+2*O+1),D[2*N+2*O+2]+=j*ue,$(D,2*N+2*O+2)}for(k=0;k<I;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=I;k<2*I;k++)D[k]=0;return new c(D,0)};function $(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function H(k,I){this.g=k,this.h=I}function W(k,I){if(V(I))throw Error("division by zero");if(V(k))return new H(_,_);if(R(k))return I=W(P(k),I),new H(P(I.g),P(I.h));if(R(I))return I=W(k,P(I)),new H(P(I.g),I.h);if(k.g.length>30){if(R(k)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var D=E,N=I;N.l(k)<=0;)D=J(D),N=J(N);var O=ee(D,1),j=ee(N,1);for(N=ee(N,2),D=ee(D,2);!V(N);){var C=j.add(N);C.l(k)<=0&&(O=O.add(D),j=C),N=ee(N,1),D=ee(D,1)}return I=F(k,O.j(I)),new H(O,I)}for(O=_;k.l(I)>=0;){for(D=Math.max(1,Math.floor(k.m()/I.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),j=m(D),C=j.j(I);R(C)||C.l(k)>0;)D-=N,j=m(D),C=j.j(I);V(j)&&(j=E),O=O.add(j),k=F(k,C)}return new H(O,k)}n.B=function(k){return W(this,k).h},n.and=function(k){const I=Math.max(this.g.length,k.g.length),D=[];for(let N=0;N<I;N++)D[N]=this.i(N)&k.i(N);return new c(D,this.h&k.h)},n.or=function(k){const I=Math.max(this.g.length,k.g.length),D=[];for(let N=0;N<I;N++)D[N]=this.i(N)|k.i(N);return new c(D,this.h|k.h)},n.xor=function(k){const I=Math.max(this.g.length,k.g.length),D=[];for(let N=0;N<I;N++)D[N]=this.i(N)^k.i(N);return new c(D,this.h^k.h)};function J(k){const I=k.g.length+1,D=[];for(let N=0;N<I;N++)D[N]=k.i(N)<<1|k.i(N-1)>>>31;return new c(D,k.h)}function ee(k,I){const D=I>>5;I%=32;const N=k.g.length-D,O=[];for(let j=0;j<N;j++)O[j]=I>0?k.i(j+D)>>>I|k.i(j+D+1)<<32-I:k.i(j+D);return new c(O,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Wx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=w,Gi=c}).apply(typeof cw<"u"?cw:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qx,Ec,Gx,zd,Em,Kx,Qx,Yx;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function o(u,v){if(v)e:{var x=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var G=u[A];if(!(G in x))break e;x=x[G]}u=u[u.length-1],A=x[u],v=v(A),v!=A&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var x=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&x.push([A,v[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function f(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function p(u,v,x){return u.call.apply(u.bind,arguments)}function m(u,v,x){return m=p,m.apply(null,arguments)}function w(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function _(u,v){function x(){}x.prototype=v.prototype,u.Z=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(A,G,X){for(var ye=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ye[Be-2]=arguments[Be];return v.prototype[G].apply(A,ye)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function b(u){const v=u.length;if(v>0){const x=Array(v);for(let A=0;A<v;A++)x[A]=u[A];return x}return[]}function V(u,v){for(let A=1;A<arguments.length;A++){const G=arguments[A];var x=typeof G;if(x=x!="object"?x:G?Array.isArray(G)?"array":x:"null",x=="array"||x=="object"&&typeof G.length=="number"){x=u.length||0;const X=G.length||0;u.length=x+X;for(let ye=0;ye<X;ye++)u[x+ye]=G[ye]}else u.push(G)}}class R{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(u){c.setTimeout(()=>{throw u},0)}function F(){var u=k;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,x){const A=H.get();A.set(v,x),this.h?this.h.next=A:this.g=A,this.h=A}}var H=new R(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,k=new $,I=()=>{const u=Promise.resolve(void 0);J=()=>{u.then(D)}};function D(){for(var u;u=F();){try{u.h.call(u.g)}catch(x){P(x)}var v=H;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ee=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};c.addEventListener("test",x,v),c.removeEventListener("test",x,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ue(u,v){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}_(ue,O),ue.prototype.init=function(u,v){const x=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(u,v,x,A,G){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!A,this.ha=G,this.key=++Q,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function se(u,v,x){for(const A in u)v.call(x,u[A],A,u)}function te(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function z(u){const v={};for(const x in u)v[x]=u[x];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,v){let x,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(x in A)u[x]=A[x];for(let X=0;X<Z.length;X++)x=Z[X],Object.prototype.hasOwnProperty.call(A,x)&&(u[x]=A[x])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,v,x,A,G){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const ye=be(u,v,A,G);return ye>-1?(v=u[ye],x||(v.fa=!1)):(v=new ae(v,this.src,X,!!A,G),v.fa=x,u.push(v)),v};function ve(u,v){const x=v.type;if(x in u.g){var A=u.g[x],G=Array.prototype.indexOf.call(A,v,void 0),X;(X=G>=0)&&Array.prototype.splice.call(A,G,1),X&&(L(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function be(u,v,x,A){for(let G=0;G<u.length;++G){const X=u[G];if(!X.da&&X.listener==v&&X.capture==!!x&&X.ha==A)return G}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),ge={};function Re(u,v,x,A,G){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Re(u,v[X],x,A,G);return null}return x=ui(x),u&&u[me]?u.J(v,x,f(A)?!!A.capture:!1,G):De(u,v,x,!1,A,G)}function De(u,v,x,A,G,X){if(!v)throw Error("Invalid event type");const ye=f(G)?!!G.capture:!!G;let Be=Qn(u);if(Be||(u[oe]=Be=new he(u)),x=Be.add(v,x,A,ye,X),x.proxy)return x;if(A=He(),x.proxy=A,A.src=u,A.listener=x,u.addEventListener)j||(G=ye),G===void 0&&(G=!1),u.addEventListener(v.toString(),A,G);else if(u.attachEvent)u.attachEvent(sn(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function He(){function u(x){return v.call(u.src,u.listener,x)}const v=Jr;return u}function Ge(u,v,x,A,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ge(u,v[X],x,A,G);else A=f(A)?!!A.capture:!!A,x=ui(x),u&&u[me]?(u=u.i,X=String(v).toString(),X in u.g&&(v=u.g[X],x=be(v,x,A,G),x>-1&&(L(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete u.g[X],u.h--)))):u&&(u=Qn(u))&&(v=u.g[v.toString()],u=-1,v&&(u=be(v,x,A,G)),(x=u>-1?v[u]:null)&&At(x))}function At(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[me])ve(v.i,u);else{var x=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(x,A,u.capture):v.detachEvent?v.detachEvent(sn(x),A):v.addListener&&v.removeListener&&v.removeListener(A),(x=Qn(v))?(ve(x,u),x.h==0&&(x.src=null,v[oe]=null)):L(u)}}}function sn(u){return u in ge?ge[u]:ge[u]="on"+u}function Jr(u,v){if(u.da)u=!0;else{v=new ue(v,this);const x=u.listener,A=u.ha||u.src;u.fa&&At(u),u=x.call(A,v)}return u}function Qn(u){return u=u[oe],u instanceof he?u:null}var pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ui(u){return typeof u=="function"?u:(u[pn]||(u[pn]=function(v){return u.handleEvent(v)}),u[pn])}function pt(){N.call(this),this.i=new he(this),this.M=this,this.G=null}_(pt,N),pt.prototype[me]=!0,pt.prototype.removeEventListener=function(u,v,x,A){Ge(this,u,v,x,A)};function Rt(u,v){var x,A=u.G;if(A)for(x=[];A;A=A.G)x.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new O(v,u);else if(v instanceof O)v.target=v.target||u;else{var G=v;v=new O(A,u),ie(v,G)}G=!0;let X,ye;if(x)for(ye=x.length-1;ye>=0;ye--)X=v.g=x[ye],G=Yn(X,A,!0,v)&&G;if(X=v.g=u,G=Yn(X,A,!0,v)&&G,G=Yn(X,A,!1,v)&&G,x)for(ye=0;ye<x.length;ye++)X=v.g=x[ye],G=Yn(X,A,!1,v)&&G}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const x=u.g[v];for(let A=0;A<x.length;A++)L(x[A]);delete u.g[v],u.h--}}this.G=null},pt.prototype.J=function(u,v,x,A){return this.i.add(String(u),v,!1,x,A)},pt.prototype.K=function(u,v,x,A){return this.i.add(String(u),v,!0,x,A)};function Yn(u,v,x,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let X=0;X<v.length;++X){const ye=v[X];if(ye&&!ye.da&&ye.capture==x){const Be=ye.listener,Ft=ye.ha||ye.src;ye.fa&&ve(u.i,ye),G=Be.call(Ft,A)!==!1&&G}}return G&&!A.defaultPrevented}function Jt(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(u,v||0)}function fr(u){u.g=Jt(()=>{u.g=null,u.i&&(u.i=!1,fr(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class ra extends N{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){N.call(this),this.h=u,this.g={}}_(Zr,N);var es=[];function di(u){se(u.g,function(v,x){this.g.hasOwnProperty(x)&&At(v)},u),u.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),di(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=c.JSON.stringify,hi=c.JSON.parse,Vn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function br(){}function Ar(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fi(){O.call(this,"d")}_(fi,O);function pi(){O.call(this,"c")}_(pi,O);var Ln={},mi=null;function pr(){return mi=mi||new pt}Ln.Ia="serverreachability";function jn(u){O.call(this,Ln.Ia,u)}_(jn,O);function Rr(u){const v=pr();Rt(v,new jn(v))}Ln.STAT_EVENT="statevent";function Pr(u,v){O.call(this,Ln.STAT_EVENT,u),this.stat=v}_(Pr,O);function Et(u){const v=pr();Rt(v,new Pr(v,u))}Ln.Ja="timingevent";function gi(u,v){O.call(this,Ln.Ja,u),this.size=v}_(gi,O);function Oe(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},v)}function yt(){this.g=!0}yt.prototype.ua=function(){this.g=!1};function Lt(u,v,x,A,G,X){u.info(function(){if(u.g)if(X){var ye="",Be=X.split("&");for(let gt=0;gt<Be.length;gt++){var Ft=Be[gt].split("=");if(Ft.length>1){const Wt=Ft[0];Ft=Ft[1];const rr=Wt.split("_");ye=rr.length>=2&&rr[1]=="type"?ye+(Wt+"="+Ft+"&"):ye+(Wt+"=redacted&")}}}else ye=null;else ye=X;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+x+`
`+ye})}function on(u,v,x,A,G,X,ye){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+x+`
`+X+" "+ye})}function Dn(u,v,x,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+$t(u,x)+(A?" "+A:"")})}function jt(u,v){u.info(function(){return"TIMEOUT: "+v})}yt.prototype.info=function(){};function $t(u,v){if(!u.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var x=X[u];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var G=A[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ye=1;ye<A.length;ye++)A[ye]=""}}}}return Cr(X)}catch{return v}}var Xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ht={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},En;function mr(){}_(mr,br),mr.prototype.g=function(){return new XMLHttpRequest},En=new mr;function an(u){return encodeURIComponent(String(u))}function uo(u){var v=1;u=u.split(":");const x=[];for(;v>0&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function gr(u,v,x,A){this.j=u,this.i=v,this.l=x,this.S=A||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var fu={},kl={};function kr(u,v,x){u.M=1,u.A=Vs(yr(v)),u.u=x,u.R=!0,Nl(u,null)}function Nl(u,v){u.F=Date.now(),ho(u),u.B=yr(u.A);var x=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Bl(x.i,"t",A),u.C=0,x=u.j.L,u.h=new hu,u.g=Tu(u.j,x?v:null,!u.u),u.P>0&&(u.O=new ra(m(u.Y,u,u.g),u.P)),v=u.V,x=u.g,A=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(es[0]=G.toString()),G=es);for(let X=0;X<G.length;X++){const ye=Re(x,G[X],A||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=u.J?z(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Rr(),Lt(u.i,u.v,u.B,u.l,u.S,u.u)}gr.prototype.ba=function(u){u=u.target;const v=this.O;v&&ls(u)==3?v.j():this.Y(u)},gr.prototype.Y=function(u){try{if(u==this.g)e:{const Be=ls(this.g),Ft=this.g.ya(),gt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||xu(this.g)))){this.K||Be!=4||Ft==7||(Ft==8||gt<=0?Rr(3):Rr(2)),sa(this);var v=this.g.ca();this.X=v;var x=pu(this);if(this.o=v==200,on(this.i,this.v,this.B,this.l,this.S,Be,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var X=A;break t}}X=null}if(u=X)Dn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tt(this,u);else{this.o=!1,this.m=3,Et(12),Ms(this),fo(this);break e}}if(this.R){u=!0;let Wt;for(;!this.K&&this.C<x.length;)if(Wt=gu(this,x),Wt==kl){Be==4&&(this.m=4,Et(14),u=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==fu){this.m=4,Et(15),Dn(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Dn(this.i,this.l,Wt,null),Tt(this,Wt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||x.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)Dn(this.i,this.l,x,"[Invalid Chunked Response]"),Ms(this),fo(this);else if(x.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Eo(ye),ye.P=!0,Et(11))}}else Dn(this.i,this.l,x,null),Tt(this,x);Be==4&&Ms(this),this.o&&!this.K&&(Be==4?pa(this.j,this):(this.o=!1,ho(this)))}else Hl(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Ms(this),fo(this)}}}catch{}finally{}};function pu(u){if(!mu(u))return u.g.la();const v=xu(u.g);if(v==="")return"";let x="";const A=v.length,G=ls(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ms(u),fo(u),"";u.h.i=new c.TextDecoder}for(let X=0;X<A;X++)u.h.h=!0,x+=u.h.i.decode(v[X],{stream:!(G&&X==A-1)});return v.length=0,u.h.g+=x,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,v){var x=u.C,A=v.indexOf(`
`,x);return A==-1?kl:(x=Number(v.substring(x,A)),isNaN(x)?fu:(A+=1,A+x>v.length?kl:(v=v.slice(A,A+x),u.C=A+x,v)))}gr.prototype.cancel=function(){this.K=!0,Ms(this)};function ho(u){u.T=Date.now()+u.H,jl(u,u.H)}function jl(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oe(m(u.aa,u),v)}function sa(u){u.D&&(c.clearTimeout(u.D),u.D=null)}gr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(jt(this.i,this.B),this.M!=2&&(Rr(),Et(17)),Ms(this),this.m=2,fo(this)):jl(this,this.T-u)};function fo(u){u.j.I==0||u.K||pa(u.j,u)}function Ms(u){sa(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,di(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Tt(u,v){try{var x=u.j;if(x.I!=0&&(x.g==u||Ol(x.h,u))){if(!u.L&&Ol(x.h,u)&&x.I==3){try{var A=x.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)fa(x),tr(x);else break e;ds(x),Et(18)}}else x.xa=G[1],0<x.xa-x.K&&G[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Oe(m(x.Va,x),6e3));po(x.h)<=1&&x.ta&&(x.ta=void 0)}else nr(x,11)}else if((u.L||x.g==u)&&fa(x),!C(v))for(G=x.Ba.g.parse(v),v=0;v<G.length;v++){let gt=G[v];const Wt=gt[0];if(!(Wt<=x.K))if(x.K=Wt,gt=gt[1],x.I==2)if(gt[0]=="c"){x.M=gt[1],x.ba=gt[2];const rr=gt[3];rr!=null&&(x.ka=rr,x.j.info("VER="+x.ka));const Bs=gt[4];Bs!=null&&(x.za=Bs,x.j.info("SVER="+x.za));const hs=gt[5];hs!=null&&typeof hs=="number"&&hs>0&&(A=1.5*hs,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const fs=u.g;if(fs){const ya=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var X=A.h;X.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(oa(X,X.h),X.h=null))}if(A.G){const Gl=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(A.wa=Gl,ct(A.J,A.G,Gl))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var ye=u;if(A.na=ql(A,A.L?A.ba:null,A.W),ye.L){mo(A.h,ye);var Be=ye,Ft=A.O;Ft&&(Be.H=Ft),Be.D&&(sa(Be),ho(Be)),A.g=ye}else Tn(A);x.i.length>0&&zs(x)}else gt[0]!="stop"&&gt[0]!="close"||nr(x,7);else x.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?nr(x,7):da(x):gt[0]!="noop"&&x.l&&x.l.qa(gt),x.A=0)}}Rr(4)}catch{}}var pf=class{constructor(u,v){this.g=u,this.map=v}};function ia(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function po(u){return u.h?1:u.g?u.g.size:0}function Ol(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function oa(u,v){u.g?u.g.add(v):u.h=v}function mo(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}ia.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.G);return v}return b(u.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(u,v){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const A=u[x].indexOf("=");let G,X=null;A>=0?(G=u[x].substring(0,A),X=u[x].substring(A+1)):G=u[x],v(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ns(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof ns?(this.l=u.l,go(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,yi(this,$l(u.i)),this.m=u.m):u&&(v=String(u).match(yu))?(this.l=!1,go(this,v[1]||"",!0),this.o=yo(v[2]||""),this.g=yo(v[3]||"",!0),rs(this,v[4]),this.h=yo(v[5]||"",!0),yi(this,v[6]||"",!0),this.m=yo(v[7]||"")):(this.l=!1,this.i=new tt(null,this.l))}ns.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(vo(v,Vl,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(vo(v,Vl,!0),"@"),u.push(an(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(vo(x,x.charAt(0)=="/"?_o:Ll,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",vo(x,Fl)),u.join("")},ns.prototype.resolve=function(u){const v=yr(this);let x=!!u.j;x?go(v,u.j):x=!!u.o,x?v.o=u.o:x=!!u.g,x?v.g=u.g:x=u.u!=null;var A=u.h;if(x)rs(v,u.u);else if(x=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var G=v.h.lastIndexOf("/");G!=-1&&(A=v.h.slice(0,G+1)+A)}if(G=A,G==".."||G==".")A="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){A=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ye=0;ye<G.length;){const Be=G[ye++];Be=="."?A&&ye==G.length&&X.push(""):Be==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&ye==G.length&&X.push("")):(X.push(Be),A=!0)}A=X.join("/")}else A=G}return x?v.h=A:x=u.i.toString()!=="",x?yi(v,$l(u.i)):x=!!u.m,x&&(v.m=u.m),v};function yr(u){return new ns(u)}function go(u,v,x){u.j=x?yo(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function yi(u,v,x){v instanceof tt?(u.i=v,la(u.i,u.l)):(x||(v=vo(v,mf)),u.i=new tt(v,u.l))}function ct(u,v,x){u.i.set(v,x)}function Vs(u){return ct(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yo(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vo(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,Ml),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ml(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vl=/[#\/\?@]/g,Ll=/[#\?:]/g,_o=/[#\?]/g,mf=/[#\?@]/g,Fl=/#/g;function tt(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function ss(u){u.g||(u.g=new Map,u.h=0,u.i&&Zn(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=tt.prototype,n.add=function(u,v){ss(this),this.i=null,u=is(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function Ul(u,v){ss(u),v=is(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function aa(u,v){return ss(u),v=is(u,v),u.g.has(v)}n.forEach=function(u,v){ss(this),this.g.forEach(function(x,A){x.forEach(function(G){u.call(v,G,A,this)},this)},this)};function zl(u,v){ss(u);let x=[];if(typeof v=="string")aa(u,v)&&(x=x.concat(u.g.get(is(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)x=x.concat(u[v]);return x}n.set=function(u,v){return ss(this),this.i=null,u=is(this,u),aa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=zl(this,u),u.length>0?String(u[0]):v):v};function Bl(u,v,x){Ul(u,v),x.length>0&&(u.i=null,u.g.set(is(u,v),b(x)),u.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var x=v[A];const G=an(x);x=zl(this,x);for(let X=0;X<x.length;X++){let ye=G;x[X]!==""&&(ye+="="+an(x[X])),u.push(ye)}}return this.i=u.join("&")};function $l(u){const v=new tt;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function is(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function la(u,v){v&&!u.j&&(ss(u),u.i=null,u.g.forEach(function(x,A){const G=A.toLowerCase();A!=G&&(Ul(this,A),Bl(this,G,x))},u)),u.j=v}function os(u,v){const x=new yt;if(c.Image){const A=new Image;A.onload=w(mn,x,"TestLoadImage: loaded",!0,v,A),A.onerror=w(mn,x,"TestLoadImage: error",!1,v,A),A.onabort=w(mn,x,"TestLoadImage: abort",!1,v,A),A.ontimeout=w(mn,x,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function as(u,v){const x=new yt,A=new AbortController,G=setTimeout(()=>{A.abort(),mn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(G),X.ok?mn(x,"TestPingServer: ok",!0,v):mn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),mn(x,"TestPingServer: error",!1,v)})}function mn(u,v,x,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(x)}catch{}}function wo(){this.g=new Vn}function Ls(u){this.i=u.Sb||null,this.h=u.ab||!1}_(Ls,br),Ls.prototype.g=function(){return new er(this.i,this.h)};function er(u,v){pt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(er,pt),n=er.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vu(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function vu(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?vi(this):Nr(this),this.readyState==3&&vu(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,vi(this))},n.Na=function(u){this.g&&(this.response=u,vi(this))},n.ga=function(){this.g&&vi(this)};function vi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Nr(u)}n.setRequestHeader=function(u,v){this.A.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function Nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _u(u){let v="";return se(u,function(x,A){v+=A,v+=":",v+=x,v+=`\r
`}),v}function ca(u,v,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=_u(x),typeof u=="string"?x!=null&&an(x):ct(u,v,x))}function vt(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(vt,pt);var wu=/^https?$/i,gf=["POST","PUT"];n=vt.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,v,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():En.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){_i(this,X);return}if(u=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)x.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())x.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(gf,v,void 0)>=0)||A||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ye]of x)this.g.setRequestHeader(X,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){_i(this,X)}};function _i(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,wi(u),Us(u)}function wi(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),vt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},n.Xa=function(){Fs(this)};function Fs(u){if(u.h&&typeof a<"u"){if(u.v&&ls(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),ls(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var A;if(A=X===0){let ye=String(u.D).match(yu)[1]||null;!ye&&c.self&&c.self.location&&(ye=c.self.location.protocol.slice(0,-1)),A=!wu.test(ye?ye.toLowerCase():"")}x=A}if(x)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var G=ls(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",wi(u)}}finally{Us(u)}}}}function Us(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,v||Rt(u,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ls(u){return u.g?u.g.readyState:0}n.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),hi(v)}};function xu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hl(u){const v={};u=(u.g&&ls(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var x=uo(u[A]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=v[G]||[];v[G]=X,X.push(x)}te(v,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function ua(u){this.za=0,this.i=[],this.j=new yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cs("baseRetryDelayMs",5e3,u),this.Za=cs("retryDelaySeedMs",1e4,u),this.Ta=cs("forwardChannelMaxRetries",2,u),this.va=cs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ia(u&&u.concurrentRequestLimit),this.Ba=new wo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ua.prototype,n.ka=8,n.I=1,n.connect=function(u,v,x,A){Et(0),this.W=u,this.H=v||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=ql(this,null,this.W),zs(this)};function da(u){if(ha(u),u.I==3){var v=u.V++,x=yr(u.J);if(ct(x,"SID",u.M),ct(x,"RID",v),ct(x,"TYPE","terminate"),us(u,x),v=new gr(u,u.j,v),v.M=2,v.A=Vs(yr(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=v.A,x=!0),x||(v.g=Tu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ho(v)}To(u)}function tr(u){u.g&&(Eo(u),u.g.cancel(),u.g=null)}function ha(u){tr(u),u.v&&(c.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function zs(u){if(!Dl(u.h)&&!u.m){u.m=!0;var v=u.Ea;J||I(),ee||(J(),ee=!0),k.add(v,u),u.D=0}}function Eu(u,v){return po(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oe(m(u.Ea,u,v),ma(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new gr(this,this.j,u);let X=this.o;if(this.U&&(X?(X=z(X),ie(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Wl(this,G,v),x=yr(this.J),ct(x,"RID",u),ct(x,"CVER",22),this.G&&ct(x,"X-HTTP-Session-Id",this.G),us(this,x),X&&(this.R?v="headers="+an(_u(X))+"&"+v:this.u&&ca(x,this.u,X)),oa(this.h,G),this.Ra&&ct(x,"TYPE","init"),this.S?(ct(x,"$req",v),ct(x,"SID","null"),G.U=!0,kr(G,x,null)):kr(G,x,v),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||Dl(this.h)||xo(this))};function xo(u,v){var x;v?x=v.l:x=u.V++;const A=yr(u.J);ct(A,"SID",u.M),ct(A,"RID",x),ct(A,"AID",u.K),us(u,A),u.u&&u.o&&ca(A,u.u,u.o),x=new gr(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Wl(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),oa(u.h,x),kr(x,A,v)}function us(u,v){u.H&&se(u.H,function(x,A){ct(v,A,x)}),u.l&&se({},function(x,A){ct(v,A,x)})}function Wl(u,v,x){x=Math.min(u.i.length,x);const A=u.l?m(u.l.Ka,u.l,u):null;e:{var G=u.i;let Be=-1;for(;;){const Ft=["count="+x];Be==-1?x>0?(Be=G[0].g,Ft.push("ofs="+Be)):Be=0:Ft.push("ofs="+Be);let gt=!0;for(let Wt=0;Wt<x;Wt++){var X=G[Wt].g;const rr=G[Wt].map;if(X-=Be,X<0)Be=Math.max(0,G[Wt].g-100),gt=!1;else try{X="req"+X+"_"||"";try{var ye=rr instanceof Map?rr:Object.entries(rr);for(const[Bs,hs]of ye){let fs=hs;f(hs)&&(fs=Cr(hs)),Ft.push(X+Bs+"="+encodeURIComponent(fs))}}catch(Bs){throw Ft.push(X+"type="+encodeURIComponent("_badmap")),Bs}}catch{A&&A(rr)}}if(gt){ye=Ft.join("&");break e}}ye=void 0}return u=u.i.splice(0,x),v.G=u,ye}function Tn(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;J||I(),ee||(J(),ee=!0),k.add(v,u),u.A=0}}function ds(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oe(m(u.Da,u),ma(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,xi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oe(m(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),tr(this),xi(this))};function Eo(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function xi(u){u.g=new gr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=yr(u.na);ct(v,"RID","rpc"),ct(v,"SID",u.M),ct(v,"AID",u.K),ct(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&ct(v,"TO",u.ia),ct(v,"TYPE","xmlhttp"),us(u,v),u.u&&u.o&&ca(v,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Vs(yr(v)),x.u=null,x.R=!0,Nl(x,u)}n.Va=function(){this.C!=null&&(this.C=null,tr(this),ds(this),Et(19))};function fa(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function pa(u,v){var x=null;if(u.g==v){fa(u),Eo(u),u.g=null;var A=2}else if(Ol(u.h,v))x=v.G,mo(u.h,v),A=1;else return;if(u.I!=0){if(v.o)if(A==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var G=u.D;A=pr(),Rt(A,new gi(A,x)),zs(u)}else Tn(u);else if(G=v.m,G==3||G==0&&v.X>0||!(A==1&&Eu(u,v)||A==2&&ds(u)))switch(x&&x.length>0&&(v=u.h,v.i=v.i.concat(x)),G){case 1:nr(u,5);break;case 4:nr(u,10);break;case 3:nr(u,6);break;default:nr(u,2)}}}function ma(u,v){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*v}function nr(u,v){if(u.j.info("Error code "+v),v==2){var x=m(u.bb,u),A=u.Ua;const G=!A;A=new ns(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||go(A,"https"),Vs(A),G?os(A.toString(),x):as(A.toString(),x)}else Et(2);u.I=0,u.l&&u.l.pa(v),To(u),ha(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function To(u){if(u.I=0,u.ja=[],u.l){const v=Jn(u.h);(v.length!=0||u.i.length!=0)&&(V(u.ja,v),V(u.ja,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.oa()}}function ql(u,v,x){var A=x instanceof ns?yr(x):new ns(x);if(A.g!="")v&&(A.g=v+"."+A.g),rs(A,A.u);else{var G=c.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const X=new ns(null);A&&go(X,A),v&&(X.g=v),G&&rs(X,G),x&&(X.h=x),A=X}return x=u.G,v=u.wa,x&&v&&ct(A,x,v),ct(A,"VER",u.ka),us(u,A),A}function Tu(u,v,x){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new vt(new Ls({ab:x})):new vt(u.ma),v.Fa(u.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}n=Su.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ga(){}ga.prototype.g=function(u,v){return new gn(u,v)};function gn(u,v){pt.call(this),this.g=new ua(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ei(this)}_(gn,pt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){da(this.g)},gn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=Cr(u),u=x);v.i.push(new pf(v.Ya++,u)),v.I==3&&zs(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,da(this.g),delete this.g,gn.Z.N.call(this)};function Iu(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}_(Iu,fi);function Cu(){pi.call(this),this.status=1}_(Cu,pi);function Ei(u){this.g=u}_(Ei,Su),Ei.prototype.ra=function(){Rt(this.g,"a")},Ei.prototype.qa=function(u){Rt(this.g,new Iu(u))},Ei.prototype.pa=function(u){Rt(this.g,new Cu)},Ei.prototype.oa=function(){Rt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Yx=function(){return new ga},Qx=function(){return pr()},Kx=Ln,Em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,zd=Xn,Ht.COMPLETE="complete",Gx=Ht,Ar.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Ec=Ar,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,qx=vt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const uw="@firebase/firestore",dw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new sg("@firebase/firestore");function Ba(){return Ho.logLevel}function xe(n,...e){if(Ho.logLevel<=Je.DEBUG){const t=e.map(mg);Ho.debug(`Firestore (${_l}): ${n}`,...t)}}function si(n,...e){if(Ho.logLevel<=Je.ERROR){const t=e.map(mg);Ho.error(`Firestore (${_l}): ${n}`,...t)}}function el(n,...e){if(Ho.logLevel<=Je.WARN){const t=e.map(mg);Ho.warn(`Firestore (${_l}): ${n}`,...t)}}function mg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Xx(n,r,t)}function Xx(n,e,t){let r=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw si(r),new Error(r)}function mt(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Xx(e,o,r)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rn.UNAUTHENTICATED)))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class aP{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ti,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ti)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new Jx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class lP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new lP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=dP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ze(n,e){return n<e?-1:n>e?1:0}function Tm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Qp(o)===Qp(a)?Ze(o,a):Qp(o)?1:-1}return Ze(n.length,e.length)}const hP=55296,fP=57343;function Qp(n){const e=n.charCodeAt(0);return e>=hP&&e<=fP}function tl(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="__name__";class _s{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=_s.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ze(e.length,t.length)}static compareSegments(e,t){const r=_s.isNumericId(e),o=_s.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?_s.extractNumericId(e).compare(_s.extractNumericId(t)):Tm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class xt extends _s{construct(e,t,r){return new xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new xt(t)}static emptyPath(){return new xt([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends _s{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fw}static keyField(){return new wn([fw])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(r+=f,o++):(a(),o++)}if(a(),c)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(xt.fromString(e))}static fromName(e){return new Pe(xt.fromString(e).popFirst(5))}static empty(){return new Pe(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n,e,t){if(!t)throw new _e(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mP(n,e,t,r){if(e===!0&&r===!0)throw new _e(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pw(n){if(!Pe.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mw(n){if(Pe.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Oh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oh(n);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function eu(n,e){if(!eE(n))throw new _e(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new _e(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=-62135596800,yw=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yw);return new dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gw)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yw}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Qt("string",dt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new dt(0,0))}static max(){return new ze(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function gP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new Xi(o,Pe.empty(),e)}function yP(n){return new Xi(n.readTime,n.key,Vc)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(ze.min(),Pe.empty(),Vc)}static max(){return new Xi(ze.max(),Pe.empty(),Vc)}}function vP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==_P)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let o=0,a=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++a,c&&a===o&&t()}),(p=>r(p)))})),c=!0,a===o&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((o=>o?re.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next((w=>{c[m]=w,++f,f===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new re(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function xP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function Vh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function EP(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="";function TP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vw(e)),e=SP(n.get(t),e);return vw(e)}function SP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case tE:t+="";break;default:t+=a}}return t}function vw(n){return n+tE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??_n.RED,this.left=o??_n.EMPTY,this.right=a??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new _n(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return _n.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new cr([])}unionWith(e){let t=new nn(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rE("Invalid base64 string: "+a):a}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const IP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=IP.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="server_timestamp",iE="__type__",oE="__previous_value__",aE="__local_write_time__";function vg(n){return(n?.mapValue?.fields||{})[iE]?.stringValue===sE}function Lh(n){const e=n.mapValue.fields[oE];return vg(e)?Lh(e):e}function Lc(n){const e=Ji(n.mapValue.fields[aE].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t,r,o,a,c,f,p,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=w}}const ih="(default)";class Fc{constructor(e,t){this.projectId=e,this.database=t||ih}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__type__",bP="__max__",Td={mapValue:{}},cE="__vector__",oh="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vg(n)?4:RP(n)?9007199254740991:AP(n)?10:11:Fe(28295,{value:n})}function Ps(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ji(o.timestampValue),f=Ji(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Zi(o.bytesValue).isEqual(Zi(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return zt(o.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return zt(o.integerValue)===zt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=zt(o.doubleValue),f=zt(a.doubleValue);return c===f?sh(c)===sh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(_w(c)!==_w(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Ps(c[p],f[p])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function Uc(n,e){return(n.values||[]).find((t=>Ps(t,e)))!==void 0}function nl(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return Ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const f=zt(a.integerValue||a.doubleValue),p=zt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return xw(n.timestampValue,e.timestampValue);case 4:return xw(Lc(n),Lc(e));case 5:return Tm(n.stringValue,e.stringValue);case 6:return(function(a,c){const f=Zi(a),p=Zi(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const f=a.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const w=Ze(f[m],p[m]);if(w!==0)return w}return Ze(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const f=Ze(zt(a.latitude),zt(c.latitude));return f!==0?f:Ze(zt(a.longitude),zt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ew(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const f=a.fields||{},p=c.fields||{},m=f[oh]?.arrayValue,w=p[oh]?.arrayValue,_=Ze(m?.values?.length||0,w?.values?.length||0);return _!==0?_:Ew(m,w)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Td.mapValue&&c===Td.mapValue)return 0;if(a===Td.mapValue)return 1;if(c===Td.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),m=c.fields||{},w=Object.keys(m);p.sort(),w.sort();for(let _=0;_<p.length&&_<w.length;++_){const E=Tm(p[_],w[_]);if(E!==0)return E;const b=nl(f[p[_]],m[w[_]]);if(b!==0)return b}return Ze(p.length,w.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function xw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=Ji(n),r=Ji(e),o=Ze(t.seconds,r.seconds);return o!==0?o:Ze(t.nanos,r.nanos)}function Ew(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=nl(t[o],r[o]);if(a)return a}return Ze(t.length,r.length)}function rl(n){return Sm(n)}function Sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Pe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Sm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${Sm(t.fields[c])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Bd(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(n);return e?16+Bd(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Bd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return oo(r.fields,((a,c)=>{o+=a.length+Bd(c)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function Tw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Im(n){return!!n&&"integerValue"in n}function _g(n){return!!n&&"arrayValue"in n}function Sw(n){return!!n&&"nullValue"in n}function Iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function AP(n){return(n?.mapValue?.fields||{})[lE]?.stringValue===cE}function Rc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Rc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rc(n.arrayValue.values[t]);return e}return{...n}}function RP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(t)}setAll(e){let t=wn.emptyPath(),r={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,r,o),r={},o=[],t=f.popLast()}c?r[f.lastSegment()]=Rc(c):o.push(f.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());$d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];$d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){oo(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Gn(Rc(this.value))}}function uE(n){const e=[];return oo(n.fields,((t,r)=>{const o=new wn([t]);if($d(r)){const a=uE(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,r,o,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Pn(e,0,ze.min(),ze.min(),ze.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,o){return new Pn(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new Pn(e,2,t,ze.min(),ze.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,ze.min(),ze.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.position=e,this.inclusive=t}}function Cw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(c.referenceValue),t.key):r=nl(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function PP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Kt extends dE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NP(e,t,r):t==="array-contains"?new OP(e,r):t==="in"?new MP(e,r):t==="not-in"?new VP(e,r):t==="array-contains-any"?new LP(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jP(e,r):new DP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kr(e,t)}matches(e){return hE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return kP(n)&&hE(n)}function kP(n){for(const e of n.filters)if(e instanceof Kr)return!1;return!0}function Cm(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(fE(n))return n.filters.map((e=>Cm(e))).join(",");{const e=n.filters.map((t=>Cm(t))).join(",");return`${n.op}(${e})`}}function pE(n,e){return n instanceof Kt?(function(r,o){return o instanceof Kt&&r.op===o.op&&r.field.isEqual(o.field)&&Ps(r.value,o.value)})(n,e):n instanceof Kr?(function(r,o){return o instanceof Kr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,f)=>a&&pE(c,o.filters[f])),!0):!1})(n,e):void Fe(19439)}function mE(n){return n instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(n):n instanceof Kr?(function(t){return t.op.toString()+" {"+t.getFilters().map(mE).join(" ,")+"}"})(n):"Filter"}class NP extends Kt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class jP extends Kt{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DP extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gE(n,e){return(e.arrayValue?.values||[]).map((t=>Pe.fromName(t.referenceValue)))}class OP extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&Uc(t.arrayValue,this.value)}}class MP extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uc(this.value.arrayValue,t)}}class VP extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uc(this.value.arrayValue,t)}}class LP extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Uc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t=null,r=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.Te=null}}function Aw(n,e=null,t=[],r=[],o=null,a=null,c=null){return new FP(n,e,t,r,o,a,c)}function wg(n){const e=$e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Cm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>rl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>rl(r))).join(",")),e.Te=t}return e.Te}function xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bw(n.startAt,e.startAt)&&bw(n.endAt,e.endAt)}function bm(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t=null,r=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UP(n,e,t,r,o,a,c,f){return new El(n,e,t,r,o,a,c,f)}function Eg(n){return new El(n)}function Rw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yE(n){return n.collectionGroup!==null}function Pc(n){const e=$e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new nn(wn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(f=f.add(m.field))}))})),f})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new zc(a,r))})),t.has(wn.keyField().canonicalString())||e.Ie.push(new zc(wn.keyField(),r))}return e.Ie}function Is(n){const e=$e(n);return e.Ee||(e.Ee=zP(e,Pc(n))),e.Ee}function zP(n,e){if(n.limitType==="F")return Aw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new zc(o.field,a)}));const t=n.endAt?new ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ah(n.startAt.position,n.startAt.inclusive):null;return Aw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Am(n,e){const t=n.filters.concat([e]);return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rm(n,e,t){return new El(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return xg(Is(n),Is(e))&&n.limitType===e.limitType}function vE(n){return`${wg(Is(n))}|lt:${n.limitType}`}function $a(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>mE(o))).join(", ")}]`),Vh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>rl(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>rl(o))).join(",")),`Target(${r})`})(Is(n))}; limitType=${n.limitType})`}function Uh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Pc(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(c,f,p){const m=Cw(c,f,p);return c.inclusive?m<=0:m<0})(r.startAt,Pc(r),o)||r.endAt&&!(function(c,f,p){const m=Cw(c,f,p);return c.inclusive?m>=0:m>0})(r.endAt,Pc(r),o))})(n,e)}function BP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _E(n){return(e,t)=>{let r=!1;for(const o of Pc(n)){const a=$P(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function $P(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):(function(a,c,f){const p=c.data.field(a),m=f.data.field(a);return p!==null&&m!==null?nl(p,m):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Nt(Pe.comparator);function ii(){return HP}const wE=new Nt(Pe.comparator);function Tc(...n){let e=wE;for(const t of n)e=e.insert(t.key,t);return e}function xE(n){let e=wE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Lo(){return kc()}function EE(){return kc()}function kc(){return new Zo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const WP=new Nt(Pe.comparator),qP=new nn(Pe.comparator);function et(...n){let e=qP;for(const t of n)e=e.add(t);return e}const GP=new nn(Ze);function KP(){return GP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function TE(n){return{integerValue:""+n}}function QP(n,e){return EP(e)?TE(e):Tg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function YP(n,e,t){return n instanceof lh?(function(o,a){const c={fields:{[iE]:{stringValue:sE},[aE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&vg(a)&&(a=Lh(a)),a&&(c.fields[oE]=a),{mapValue:c}})(t,e):n instanceof Bc?IE(n,e):n instanceof $c?CE(n,e):(function(o,a){const c=SE(o,a),f=Pw(c)+Pw(o.Ae);return Im(c)&&Im(o.Ae)?TE(f):Tg(o.serializer,f)})(n,e)}function XP(n,e,t){return n instanceof Bc?IE(n,e):n instanceof $c?CE(n,e):t}function SE(n,e){return n instanceof ch?(function(r){return Im(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class lh extends zh{}class Bc extends zh{constructor(e){super(),this.elements=e}}function IE(n,e){const t=bE(e);for(const r of n.elements)t.some((o=>Ps(o,r)))||t.push(r);return{arrayValue:{values:t}}}class $c extends zh{constructor(e){super(),this.elements=e}}function CE(n,e){let t=bE(e);for(const r of n.elements)t=t.filter((o=>!Ps(o,r)));return{arrayValue:{values:t}}}class ch extends zh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Pw(n){return zt(n.integerValue||n.doubleValue)}function bE(n){return _g(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JP(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Bc&&o instanceof Bc||r instanceof $c&&o instanceof $c?tl(r.elements,o.elements,Ps):r instanceof ch&&o instanceof ch?Ps(r.Ae,o.Ae):r instanceof lh&&o instanceof lh})(n.transform,e.transform)}class ZP{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bh{}function AE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sg(n.key,Ir.none()):new tu(n.key,n.data,Ir.none());{const t=n.data,r=Gn.empty();let o=new nn(wn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new ao(n.key,r,new cr(o.toArray()),Ir.none())}}function ek(n,e,t){n instanceof tu?(function(o,a,c){const f=o.value.clone(),p=Nw(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ao?(function(o,a,c){if(!Hd(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Nw(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(RE(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Nc(n,e,t,r){return n instanceof tu?(function(a,c,f,p){if(!Hd(a.precondition,c))return f;const m=a.value.clone(),w=jw(a.fieldTransforms,p,c);return m.setAll(w),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof ao?(function(a,c,f,p){if(!Hd(a.precondition,c))return f;const m=jw(a.fieldTransforms,p,c),w=c.data;return w.setAll(RE(a)),w.setAll(m),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,c,f){return Hd(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function tk(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=SE(r.transform,o||null);a!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,a))}return t||null}function kw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&tl(r,o,((a,c)=>JP(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tu extends Bh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ao extends Bh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Nw(n,e,t){const r=new Map;mt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,f=e.data.field(a.field);r.set(a.field,XP(c,f,t[o]))}return r}function jw(n,e,t){const r=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);r.set(o.field,YP(a,c,e))}return r}class Sg extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&ek(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=EE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(o.key)?null:f;const p=AE(c,f);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((t,r)=>kw(t,r)))&&tl(this.baseMutations,e.baseMutations,((t,r)=>kw(t,r)))}}class Ig{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return WP})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new Ig(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,nt;function ok(n){switch(n){case ne.OK:return Fe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function PE(n){if(n===void 0)return si("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Gt.OK:return ne.OK;case Gt.CANCELLED:return ne.CANCELLED;case Gt.UNKNOWN:return ne.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ne.INTERNAL;case Gt.UNAVAILABLE:return ne.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ne.NOT_FOUND;case Gt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Gt.ABORTED:return ne.ABORTED;case Gt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Gt.DATA_LOSS:return ne.DATA_LOSS;default:return Fe(39323,{code:n})}}(nt=Gt||(Gt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Gi([4294967295,4294967295],0);function Dw(n){const e=ak().encode(n),t=new Wx;return t.update(e),new Uint8Array(t.digest())}function Ow(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([o,a],0)]}class Cg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sc(`Invalid padding: ${t}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Gi.fromNumber(r)));return o.compare(lk)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Dw(e),[r,o]=Ow(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Cg(a,o,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Dw(e),[r,o]=Ow(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $h(ze.min(),o,new Nt(Ze),ii(),et())}}class nu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nu(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class kE{constructor(e,t){this.targetId=e,this.Ce=t}}class NE{constructor(e,t,r=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Mw{constructor(){this.ve=0,this.Fe=Vw(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),r=et();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new nu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Vw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ck{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Sd(),this.He=Sd(),this.Ye=new Nt(Ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(bm(a))if(r===0){const c=new Pe(a.path);this.et(t,c,Pn.newNoDocument(c,ze.min()))}else mt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let c,f;try{c=Zi(r).toUint8Array()}catch(p){if(p instanceof rE)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Cg(c,o,a)}catch(p){return el(p instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const f=this.ot(c);if(f){if(a.current&&bm(f.target)){const p=new Pe(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Pn.newNoDocument(p,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let r=et();this.He.forEach(((a,c)=>{let f=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new $h(e,t,this.Ye,this.je,r);return this.je=ii(),this.Je=Sd(),this.He=Sd(),this.Ye=new Nt(Ze),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Mw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(Ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(Ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new Nt(Pe.comparator)}function Vw(){return new Nt(Pe.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pm(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pk(n,e){return uh(n,e.toTimestamp())}function Cs(n){return mt(!!n,49232),ze.fromTimestamp((function(t){const r=Ji(t);return new dt(r.seconds,r.nanos)})(n))}function bg(n,e){return km(n,e).canonicalString()}function km(n,e){const t=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=xt.fromString(n);return mt(FE(e),10190,{key:e.toString()}),e}function Nm(n,e){return bg(n.databaseId,e.path)}function Yp(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(ME(t))}function OE(n,e){return bg(n.databaseId,e)}function mk(n){const e=DE(n);return e.length===4?xt.emptyPath():ME(e)}function jm(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ME(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Lw(n,e,t){return{name:Nm(n,e),fields:t.value.mapValue.fields}}function gk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,w){return m.useProto3Json?(mt(w===void 0||typeof w=="string",58123),xn.fromBase64String(w||"")):(mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),xn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(m){const w=m.code===void 0?ne.UNKNOWN:PE(m.code);return new _e(w,m.message||"")})(c);t=new NE(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Yp(n,r.document.name),a=Cs(r.document.updateTime),c=r.document.createTime?Cs(r.document.createTime):ze.min(),f=new Gn({mapValue:{fields:r.document.fields}}),p=Pn.newFoundDocument(o,a,c,f),m=r.targetIds||[],w=r.removedTargetIds||[];t=new Wd(m,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Yp(n,r.document),a=r.readTime?Cs(r.readTime):ze.min(),c=Pn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Wd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Yp(n,r.document),a=r.removedTargetIds||[];t=new Wd([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new ik(o,a),f=r.targetId;t=new kE(f,c)}}return t}function yk(n,e){let t;if(e instanceof tu)t={update:Lw(n,e.key,e.value)};else if(e instanceof Sg)t={delete:Nm(n,e.key)};else if(e instanceof ao)t={update:Lw(n,e.key,e.data),updateMask:Ck(e.fieldMask)};else{if(!(e instanceof nk))return Fe(16599,{Vt:e.type});t={verify:Nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const f=c.transform;if(f instanceof lh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $c)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ch)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Fe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:pk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function vk(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?Cs(o.updateTime):Cs(a);return c.isEqual(ze.min())&&(c=Cs(a)),new ZP(c,o.transformResults||[])})(t,e)))):[]}function _k(n,e){return{documents:[OE(n,e.path)]}}function wk(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OE(n,o);const a=(function(m){if(m.length!==0)return LE(Kr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((w=>(function(E){return{field:Ha(E.field),direction:Tk(E.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Pm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function xk(n){let e=mk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){mt(r===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=(function(_){const E=VE(_);return E instanceof Kr&&fE(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((E=>(function(V){return new zc(Wa(V.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,Vh(E)?null:E})(t.limit));let p=null;t.startAt&&(p=(function(_){const E=!!_.before,b=_.values||[];return new ah(b,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const E=!_.before,b=_.values||[];return new ah(b,E)})(t.endAt)),UP(e,o,c,a,f,"F",p,m)}function Ek(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wa(t.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(t.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wa(t.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wa(t.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Kt.create(Wa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Kr.create(t.compositeFilter.filters.map((r=>VE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function Tk(n){return uk[n]}function Sk(n){return dk[n]}function Ik(n){return hk[n]}function Ha(n){return{fieldPath:n.canonicalString()}}function Wa(n){return wn.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof Kt?(function(t){if(t.op==="=="){if(Iw(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NAN"}};if(Sw(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Iw(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NAN"}};if(Sw(t.value))return{unaryFilter:{field:Ha(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(t.field),op:Sk(t.op),value:t.value}}})(n):n instanceof Kr?(function(t){const r=t.getFilters().map((o=>LE(o)));return r.length===1?r[0]:{compositeFilter:{op:Ik(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function Ck(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function FE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,o,a=ze.min(),c=ze.min(),f=xn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.yt=e}}function Ak(n){const e=xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.Cn=new Pk}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Xi.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Pk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new nn(xt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new nn(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(UE,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LruGarbageCollector",kk=1048576;function zw([n,e],[t,r]){const o=Ze(n,t);return o===0?Ze(e,r):o}class Nk{constructor(e){this.Ir=e,this.buffer=new nn(zw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(Uw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xl(t)?xe(Uw,"Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.Vr(3e5)}))}}class Dk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Mh.ce);const r=new Nk(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Fw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,c,f,p,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,c=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),Ba()<=Je.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-w}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_}))))}}function Ok(n,e){return new Dk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.changes=new Zo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Nc(r.mutation,o,cr.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=et()){const o=Lo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let c=Tc();return a.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Lo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,et())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,o){let a=ii();const c=kc(),f=(function(){return kc()})();return t.forEach(((p,m)=>{const w=r.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof ao)?a=a.insert(m.key,m):w!==void 0?(c.set(m.key,w.mutation.getFieldMask()),Nc(w.mutation,m,w.mutation.getFieldMask(),dt.now())):c.set(m.key,cr.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,w)=>c.set(m,w))),t.forEach(((m,w)=>f.set(m,new Vk(w,c.get(m)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=kc();let o=new Nt(((c,f)=>c-f)),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let w=r.get(p)||cr.empty();w=f.applyToLocalView(m,w),r.set(p,w);const _=(o.get(f.batchId)||et()).add(p);o=o.insert(f.batchId,_)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,w=p.value,_=EE();w.forEach((E=>{if(!a.has(E)){const b=AE(t.get(E),r.get(E));b!==null&&_.set(E,b),a=a.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return re.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):re.resolve(Lo());let f=Vc,p=a;return c.next((m=>re.forEach(m,((w,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(w)?re.resolve():this.remoteDocumentCache.getEntry(e,w).next((E=>{p=p.insert(w,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,et()))).next((w=>({batchId:f,changes:xE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next((r=>{let o=Tc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let c=Tc();return this.indexManager.getCollectionParents(e,a).next((f=>re.forEach(f,(p=>{const m=(function(_,E){return new El(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((w=>{w.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((c=>{a.forEach(((p,m)=>{const w=m.getKey();c.get(w)===null&&(c=c.insert(w,Pn.newInvalidDocument(w)))}));let f=Tc();return c.forEach(((p,m)=>{const w=a.get(p);w!==void 0&&Nc(w.mutation,m,cr.empty(),dt.now()),Uh(t,m)&&(f=f.insert(p,m))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Cs(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Ak(o.bundledQuery),readTime:Cs(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.overlays=new Nt(Pe.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Lo();return re.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=Lo(),a=t.length+1,c=new Pe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new Nt(((m,w)=>m-w));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=a.get(m.largestBatchId);w===null&&(w=Lo(),a=a.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const f=Lo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,w)=>f.set(m,w))),!(f.size()>=o)););return re.resolve(f)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new sk(t,r));let a=this.qr.get(t);a===void 0&&(a=et(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Qr=new nn(dn.$r),this.Ur=new nn(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Pe(new xt([])),r=new dn(t,e),o=new dn(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Pe(new xt([])),r=new dn(t,e),o=new dn(t,e+1);let a=et();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new dn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Pe.comparator(e.key,t.key)||Ze(e.Yr,t.Yr)}static Kr(e,t){return Ze(e.Yr,t.Yr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(dn.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rk(a,t,r,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new dn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?yg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),o=new dn(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const f=this.Xr(c.Yr);a.push(f)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(Ze);return t.forEach((o=>{const a=new dn(o,0),c=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(f=>{r=r.add(f.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const c=new dn(new Pe(a),0);let f=new nn(Ze);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(p.Yr)),!0)}),c),re.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(o=>{const a=new dn(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new dn(t,0),o=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Pn.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ii();const c=t.path,f=new Pe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:w}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||vP(yP(w),r)<=0||(o.has(w.key)||Uh(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Hk(this)}getSize(e){return re.resolve(this.size)}}class Hk extends Mk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.persistence=e,this.si=new Zo((t=>wg(t)),xg),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.oi=0,this._i=new Ag,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),re.waitFor(a).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new zk,this.referenceDelegate=e(this),this.Pi=new Wk(this),this.indexManager=new Rk,this.remoteDocumentCache=(function(o){return new $k(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bk(t),this.Ii=new Fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Bk(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const o=new qk(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class qk extends wP{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new Ag,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const o=Pe.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,ze.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.pi=new Zo((r=>TP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Ok(this,t)}static mi(e,t){return new dh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?re.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,a.removeEntry(c,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bd(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=et(),o=et();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Pg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xC()?8:xP(kn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new Gk;return this.Ss(e,t,c).next((f=>{if(a.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Ba()<=Je.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ba()<=Je.DEBUG&&xe("QueryEngine","Query:",$a(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ba()<=Je.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(t))):re.resolve())}ys(e,t){if(Rw(t))return re.resolve(null);let r=Is(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Rm(t,null,"F"),r=Is(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=et(...a);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(t,f);return this.Cs(t,m,c,p.readTime)?this.ys(e,Rm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,r,o){return Rw(t)||o.isEqual(ze.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,r,o)?re.resolve(null):(Ba()<=Je.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(t)),this.vs(e,c,t,gP(o,Vc)).next((f=>f)))}))}Ds(e,t){let r=new nn(_E(e));return t.forEach(((o,a)=>{Uh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Ba()<=Je.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",$a(t)),this.ps.getDocumentsMatchingQuery(e,t,Xi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",Qk=3e8;class Yk{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Nt(Ze),this.xs=new Zo((a=>wg(a)),xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Xk(n,e,t,r){return new Yk(n,e,t,r)}async function BE(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],f=[];let p=et();for(const m of o){c.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}for(const m of a){f.push(m.batchId);for(const w of m.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:f})))}))}))}function Jk(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,m,w){const _=m.batch,E=_.keys();let b=re.resolve();return E.forEach((V=>{b=b.next((()=>w.getEntry(p,V))).next((R=>{const P=m.docVersions.get(V);mt(P!==null,48541),R.version.compareTo(P)<0&&(_.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),w.addEntry(R)))}))})),b.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let p=et();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function $E(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Zk(n,e){const t=$e(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,_)=>{const E=o.get(_);if(!E)return;f.push(t.Pi.removeMatchingKeys(a,w.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,w.addedDocuments,_))));let b=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,r)),o=o.insert(_,b),(function(R,P,F){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Qk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,b,w)&&f.push(t.Pi.updateTargetData(a,b))}));let p=ii(),m=et();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))})),f.push(eN(a,c,e.documentUpdates).next((w=>{p=w.ks,m=w.qs}))),!r.isEqual(ze.min())){const w=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));f.push(w)}return re.waitFor(f).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(t.Ms=o,a)))}function eN(n,e,t){let r=et(),o=et();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let c=ii();return t.forEach(((f,p)=>{const m=a.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):xe(kg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function tN(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nN(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,re.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new Hi(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Dm(n,e,t){const r=$e(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!xl(c))throw c;xe(kg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Bw(n,e,t){const r=$e(n);let o=ze.min(),a=et();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,w){const _=$e(p),E=_.xs.get(w);return E!==void 0?re.resolve(_.Ms.get(E)):_.Pi.getTargetData(m,w)})(r,c,Is(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:ze.min(),t?a:et()))).next((f=>(rN(r,BP(e),f),{documents:f,Qs:a})))))}function rN(n,e,t){let r=n.Os.get(e)||ze.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class $w{constructor(){this.activeTargetIds=KP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.Mo=new $w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $w,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="ConnectivityMonitor";class Ww{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(Hw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(Hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function Om(){return Id===null?Id=(function(){return 268435456+Math.round(2147483648*Math.random())})():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",oN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const c=Om(),f=this.zo(e,t.toUriEncodedString());xe(Xp,`Sending RPC '${e}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,a);const{host:m}=new URL(f),w=Yo(m);return this.Jo(e,f,p,r,w).then((_=>(xe(Xp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw el(Xp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(e,t,r,o,a,c){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=oN[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class cN extends aN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const c=Om();return new Promise(((f,p)=>{const m=new qx;m.setWithCredentials(!0),m.listenOnce(Gx.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case zd.NO_ERROR:const _=m.getResponseJson();xe(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case zd.TIMEOUT:xe(An,`RPC '${e}' ${c} timed out`),p(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const E=m.getStatus();if(xe(An,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b?.error;if(V&&V.status&&V.message){const R=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN})(V.status);p(new _e(R,V.message))}else p(new _e(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{xe(An,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);xe(An,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",w,r,15)}))}T_(e,t,r){const o=Om(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Yx(),f=Qx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const w=a.join("");xe(An,`Creating RPC '${e}' stream ${o}: ${w}`,p);const _=c.createWebChannel(w,p);this.I_(_);let E=!1,b=!1;const V=new lN({Yo:P=>{b?xe(An,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(E||(xe(An,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),xe(An,`RPC '${e}' stream ${o} sending:`,P),_.send(P))},Zo:()=>_.close()}),R=(P,F,$)=>{P.listen(F,(H=>{try{$(H)}catch(W){setTimeout((()=>{throw W}),0)}}))};return R(_,Ec.EventType.OPEN,(()=>{b||(xe(An,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),R(_,Ec.EventType.CLOSE,(()=>{b||(b=!0,xe(An,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(_))})),R(_,Ec.EventType.ERROR,(P=>{b||(b=!0,el(An,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),V.a_(new _e(ne.UNAVAILABLE,"The operation could not be completed")))})),R(_,Ec.EventType.MESSAGE,(P=>{if(!b){const F=P.data[0];mt(!!F,16349);const $=F,H=$?.error||$[0]?.error;if(H){xe(An,`RPC '${e}' stream ${o} received error:`,H);const W=H.status;let J=(function(I){const D=Gt[I];if(D!==void 0)return PE(D)})(W),ee=H.message;J===void 0&&(J=ne.INTERNAL,ee="Unknown error status: "+W+" with message "+H.message),b=!0,V.a_(new _e(J,ee)),_.close()}else xe(An,`RPC '${e}' stream ${o} received:`,F),V.u_(F)}})),R(f,Kx.STAT_EVENT,(P=>{P.stat===Em.PROXY?xe(An,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Em.NOPROXY&&xe(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){return new fk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="PersistentStream";class WE{constructor(e,t,r,o,a,c,f,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new _e(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(xe(qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends WE{constructor(e,t,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gk(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Cs(c.readTime):ze.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=jm(this.serializer),t.addTarget=(function(a,c){let f;const p=c.target;if(f=bm(p)?{documents:_k(a,p)}:{query:wk(a,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=jE(a,c.resumeToken);const m=Pm(a,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(ze.min())>0){f.readTime=uh(a,c.snapshotVersion.toTimestamp());const m=Pm(a,c.expectedCount);m!==null&&(f.expectedCount=m)}return f})(this.serializer,e);const r=Ek(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=jm(this.serializer),t.removeTarget=e,this.q_(t)}}class dN extends WE{constructor(e,t,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vk(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>yk(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{}class fN extends hN{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,km(t,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ne.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,km(t,r),o,c,f,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class mN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ea(this)&&(xe(Wo,"Restarting streams for network reachability change."),await(async function(p){const m=$e(p);m.Ea.add(4),await ru(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Wh(m)})(this))}))})),this.Ra=new pN(r,o)}}async function Wh(n){if(ea(n))for(const e of n.da)await e(!0)}async function ru(n){for(const e of n.da)await e(!1)}function qE(n,e){const t=$e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Og(t)?Dg(t):Tl(t).O_()&&jg(t,e))}function Ng(n,e){const t=$e(n),r=Tl(t);t.Ia.delete(e),r.O_()&&GE(t,e),t.Ia.size===0&&(r.O_()?r.L_():ea(t)&&t.Ra.set("Unknown"))}function jg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(n).Y_(e)}function GE(n,e){n.Va.Ue(e),Tl(n).Z_(e)}function Dg(n){n.Va=new ck({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Ra.ua()}function Og(n){return ea(n)&&!Tl(n).x_()&&n.Ia.size>0}function ea(n){return $e(n).Ea.size===0}function KE(n){n.Va=void 0}async function gN(n){n.Ra.set("Online")}async function yN(n){n.Ia.forEach(((e,t)=>{jg(n,e)}))}async function vN(n,e){KE(n),Og(n)?(n.Ra.ha(e),Dg(n)):n.Ra.set("Unknown")}async function _N(n,e,t){if(n.Ra.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const f of a.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(r){xe(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(n,r)}else if(e instanceof Wd?n.Va.Ze(e):e instanceof kE?n.Va.st(e):n.Va.tt(e),!t.isEqual(ze.min()))try{const r=await $E(n.localStore);t.compareTo(r)>=0&&await(function(a,c){const f=a.Va.Tt(c);return f.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.Ia.get(m);w&&a.Ia.set(m,w.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,m)=>{const w=a.Ia.get(p);if(!w)return;a.Ia.set(p,w.withResumeToken(xn.EMPTY_BYTE_STRING,w.snapshotVersion)),GE(a,p);const _=new Hi(w.target,p,m,w.sequenceNumber);jg(a,_)})),a.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){xe(Wo,"Failed to raise snapshot:",r),await hh(n,r)}}async function hh(n,e,t){if(!xl(e))throw e;n.Ea.add(1),await ru(n),n.Ra.set("Offline"),t||(t=()=>$E(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xe(Wo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wh(n)}))}function QE(n,e){return e().catch((t=>hh(n,t,e)))}async function qh(n){const e=$e(n),t=to(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yg;for(;wN(e);)try{const o=await tN(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,xN(e,o)}catch(o){await hh(e,o)}YE(e)&&XE(e)}function wN(n){return ea(n)&&n.Ta.length<10}function xN(n,e){n.Ta.push(e);const t=to(n);t.O_()&&t.X_&&t.ea(e.mutations)}function YE(n){return ea(n)&&!to(n).x_()&&n.Ta.length>0}function XE(n){to(n).start()}async function EN(n){to(n).ra()}async function TN(n){const e=to(n);for(const t of n.Ta)e.ea(t.mutations)}async function SN(n,e,t){const r=n.Ta.shift(),o=Ig.from(r,e,t);await QE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await qh(n)}async function IN(n,e){e&&to(n).X_&&await(async function(r,o){if((function(c){return ok(c)&&c!==ne.ABORTED})(o.code)){const a=r.Ta.shift();to(r).B_(),await QE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await qh(r)}})(n,e),YE(n)&&XE(n)}async function Gw(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),xe(Wo,"RemoteStore received new credentials");const r=ea(t);t.Ea.add(3),await ru(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wh(t)}async function CN(n,e){const t=$e(n);e?(t.Ea.delete(2),await Wh(t)):e||(t.Ea.add(2),await ru(t),t.Ra.set("Unknown"))}function Tl(n){return n.ma||(n.ma=(function(t,r,o){const a=$e(t);return a.sa(),new uN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:gN.bind(null,n),t_:yN.bind(null,n),r_:vN.bind(null,n),H_:_N.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Og(n)?Dg(n):n.Ra.set("Unknown")):(await n.ma.stop(),KE(n))}))),n.ma}function to(n){return n.fa||(n.fa=(function(t,r,o){const a=$e(t);return a.sa(),new dN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:EN.bind(null,n),r_:IN.bind(null,n),ta:TN.bind(null,n),na:SN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await qh(n)):(await n.fa.stop(),n.Ta.length>0&&(xe(Wo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const c=Date.now()+r,f=new Mg(e,t,c,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(n,e){if(si("AsyncQueue",`${e}: ${n}`),xl(n))return new _e(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Tc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.ga=new Nt(Pe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class il{constructor(e,t,r,o,a,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new il(e,t,Ya.emptySet(t),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AN{constructor(){this.queries=Qw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=$e(t),a=o.queries;o.queries=Qw(),a.forEach(((c,f)=>{for(const p of f.Sa)p.onError(r)}))})(this,new _e(ne.ABORTED,"Firestore shutting down"))}}function Qw(){return new Zo((n=>vE(n)),Fh)}async function JE(n,e){const t=$e(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new bN,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Vg(c,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Lg(t)}async function ZE(n,e){const t=$e(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RN(n,e){const t=$e(n);let r=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const f of c.Sa)f.Fa(o)&&(r=!0);c.wa=o}}r&&Lg(t)}function PN(n,e,t){const r=$e(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Lg(n){n.Ca.forEach((e=>{e.next()}))}var Mm,Yw;(Yw=Mm||(Mm={})).Ma="default",Yw.Cache="cache";class eT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class kN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=_E(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Kw,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,_)=>{const E=o.get(w),b=Uh(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),R=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;E&&b?E.data.isEqual(b.data)?V!==R&&(r.track({type:3,doc:b}),P=!0):this.su(E,b)||(r.track({type:2,doc:b}),P=!0,(p&&this.eu(b,p)>0||m&&this.eu(b,m)<0)&&(f=!0)):!E&&b?(r.track({type:0,doc:b}),P=!0):E&&!b&&(r.track({type:1,doc:E}),P=!0,(p||m)&&(f=!0)),P&&(b?(c=c.add(b),a=R?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:f,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,_)=>(function(b,V){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:P})}};return R(b)-R(V)})(w.type,_.type)||this.eu(w.doc,_.doc))),this.ou(r),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new il(this.query,e.tu,a,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new nT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new tT(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fg="SyncEngine";class NN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jN{constructor(e){this.key=e,this.hu=!1}}class DN{constructor(e,t,r,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Zo((f=>vE(f)),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Pe.comparator),this.Au=new Map,this.Ru=new Ag,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ON(n,e,t=!0){const r=lT(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await rT(r,e,t,!0),o}async function MN(n,e){const t=lT(n);await rT(t,e,!0,!1)}async function rT(n,e,t,r){const o=await nN(n.localStore,Is(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await VN(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&qE(n.remoteStore,o),f}async function VN(n,e,t,r,o){n.pu=(_,E,b)=>(async function(R,P,F,$){let H=P.view.ru(F);H.Cs&&(H=await Bw(R.localStore,P.query,!1).then((({documents:k})=>P.view.ru(k,H))));const W=$&&$.targetChanges.get(P.targetId),J=$&&$.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(H,R.isPrimaryClient,W,J);return Jw(R,P.targetId,ee.au),ee.snapshot})(n,_,E,b);const a=await Bw(n.localStore,e,!0),c=new kN(e,a.Qs),f=c.ru(a.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=c.applyChanges(f,n.isPrimaryClient,p);Jw(n,t,m.au);const w=new NN(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function LN(n,e,t){const r=$e(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!Fh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Ng(r.remoteStore,o.targetId),Vm(r,o.targetId)})).catch(wl)):(Vm(r,o.targetId),await Dm(r.localStore,o.targetId,!0))}async function FN(n,e){const t=$e(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(t.remoteStore,r.targetId))}async function UN(n,e,t){const r=GN(n);try{const o=await(function(c,f){const p=$e(c),m=dt.now(),w=f.reduce(((b,V)=>b.add(V.key)),et());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=ii(),R=et();return p.Ns.getEntries(b,w).next((P=>{V=P,V.forEach(((F,$)=>{$.isValidDocument()||(R=R.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((P=>{_=P;const F=[];for(const $ of f){const H=tk($,_.get($.key).overlayedDocument);H!=null&&F.push(new ao($.key,H,uE(H.value.mapValue),Ir.exists(!0)))}return p.mutationQueue.addMutationBatch(b,m,F,f)})).next((P=>{E=P;const F=P.applyToLocalDocumentSet(_,R);return p.documentOverlayCache.saveOverlays(b,P.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:xE(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new Nt(Ze)),m=m.insert(f,p),c.Vu[c.currentUser.toKey()]=m})(r,o.batchId,t),await su(r,o.changes),await qh(r.remoteStore)}catch(o){const a=Vg(o,"Failed to persist write");t.reject(a)}}async function sT(n,e){const t=$e(n);try{const r=await Zk(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?mt(c.hu,14607):o.removedDocuments.size>0&&(mt(c.hu,42227),c.hu=!1))})),await su(t,r,e)}catch(r){await wl(r)}}function Xw(n,e,t){const r=$e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=$e(c);p.onlineState=f;let m=!1;p.queries.forEach(((w,_)=>{for(const E of _.Sa)E.va(f)&&(m=!0)})),m&&Lg(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zN(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new Nt(Pe.comparator);c=c.insert(a,Pn.newNoDocument(a,ze.min()));const f=et().add(a),p=new $h(ze.min(),new Map,new Nt(Ze),c,f);await sT(r,p),r.du=r.du.remove(a),r.Au.delete(e),Ug(r)}else await Dm(r.localStore,e,!1).then((()=>Vm(r,e,t))).catch(wl)}async function BN(n,e){const t=$e(n),r=e.batch.batchId;try{const o=await Jk(t.localStore,e);oT(t,r,null),iT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await su(t,o)}catch(o){await wl(o)}}async function $N(n,e,t){const r=$e(n);try{const o=await(function(c,f){const p=$e(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let w;return p.mutationQueue.lookupMutationBatch(m,f).next((_=>(mt(_!==null,37113),w=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w))).next((()=>p.localDocuments.getDocuments(m,w)))}))})(r.localStore,e);oT(r,e,t),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await su(r,o)}catch(o){await wl(o)}}function iT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function oT(n,e,t){const r=$e(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Vm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||aT(n,r)}))}function aT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ng(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ug(n))}function Jw(n,e,t){for(const r of t)r instanceof tT?(n.Ru.addReference(r.key,e),HN(n,r)):r instanceof nT?(xe(Fg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||aT(n,r.key)):Fe(19791,{wu:r})}function HN(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(xe(Fg,"New document in limbo: "+t),n.Eu.add(r),Ug(n))}function Ug(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Pe(xt.fromString(e)),r=n.fu.next();n.Au.set(r,new jN(t)),n.du=n.du.insert(t,r),qE(n.remoteStore,new Hi(Is(Eg(t.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function su(n,e,t){const r=$e(n),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,p)=>{c.push(r.pu(p,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Pg.As(p.targetId,m);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,m){const w=$e(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(m,(E=>re.forEach(E.Es,(b=>w.persistence.referenceDelegate.addReference(_,E.targetId,b))).next((()=>re.forEach(E.ds,(b=>w.persistence.referenceDelegate.removeReference(_,E.targetId,b)))))))))}catch(_){if(!xl(_))throw _;xe(kg,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const b=w.Ms.get(E),V=b.snapshotVersion,R=b.withLastLimboFreeSnapshotVersion(V);w.Ms=w.Ms.insert(E,R)}}})(r.localStore,a))}async function WN(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){xe(Fg,"User change. New user:",e.toKey());const r=await BE(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((f=>{f.forEach((p=>{p.reject(new _e(ne.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(t,r.Ls)}}function qN(n,e){const t=$e(n),r=t.Au.get(e);if(r&&r.hu)return et().add(r.key);{let o=et();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function lT(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zN.bind(null,e),e.Pu.H_=RN.bind(null,e.eventManager),e.Pu.yu=PN.bind(null,e.eventManager),e}function GN(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$N.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Xk(this.persistence,new Kk,e.initialUser,this.serializer)}Cu(e){return new zE(Rg.mi,this.serializer)}Du(e){return new sN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class KN extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){mt(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new zE((r=>dh.mi(r,t)),this.serializer)}}class Lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await CN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AN})()}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),r=(function(a){return new cN(a)})(e.databaseInfo);return(function(a,c,f,p){return new fN(a,c,f,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,c,f){return new mN(r,o,a,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Xw(this.syncEngine,t,0)),(function(){return Ww.v()?new Ww:new iN})())}createSyncEngine(e,t){return(function(o,a,c,f,p,m,w){const _=new DN(o,a,c,f,p,m);return w&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=$e(t);xe(Wo,"RemoteStore shutting down."),r.Ea.add(5),await ru(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class QN{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{xe(no,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(xe(no,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zp(n,e){n.asyncQueue.verifyOperationInProgress(),xe(no,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await BE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Zw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await YN(n);xe(no,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Gw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Gw(e.remoteStore,o))),n._onlineComponents=e}async function YN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(no,"Using user provided OfflineComponentProvider");try{await Zp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await Zp(n,new fh)}}else xe(no,"Using default OfflineComponentProvider"),await Zp(n,new KN(void 0));return n._offlineComponents}async function uT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(no,"Using user provided OnlineComponentProvider"),await Zw(n,n._uninitializedComponentsProvider._online)):(xe(no,"Using default OnlineComponentProvider"),await Zw(n,new Lm))),n._onlineComponents}function XN(n){return uT(n).then((e=>e.syncEngine))}async function dT(n){const e=await uT(n),t=e.eventManager;return t.onListen=ON.bind(null,e.syncEngine),t.onUnlisten=LN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FN.bind(null,e.syncEngine),t}function JN(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,f,p,m){const w=new cT({next:E=>{w.Nu(),c.enqueueAndForget((()=>ZE(a,_)));const b=E.docs.has(f);!b&&E.fromCache?m.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&p&&p.source==="server"?m.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new eT(Eg(f.path),w,{includeMetadataChanges:!0,qa:!0});return JE(a,_)})(await dT(n),n.asyncQueue,e,t,r))),r.promise}function ZN(n,e,t={}){const r=new ti;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,f,p,m){const w=new cT({next:E=>{w.Nu(),c.enqueueAndForget((()=>ZE(a,_))),E.fromCache&&p.source==="server"?m.reject(new _e(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new eT(f,w,{includeMetadataChanges:!0,qa:!0});return JE(a,_)})(await dT(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",t0=!0;class n0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=t0}else this.host=e.host,this.ssl=e.ssl??t0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kk)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iP;switch(r.type){case"firstParty":return new cP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=e0.get(t);r&&(xe("ComponentProvider","Removing Datastore"),e0.delete(t),r.terminate())})(this),Promise.resolve()}}function ej(n,e,t,r={}){n=Gr(n,Gh);const o=Yo(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(ng(`https://${f}`),rg("Firestore",!0)),a.host!==fT&&a.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:f,ssl:o,emulatorOptions:r};if(!Uo(p,c)&&(n._setSettings(p),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=Rn.MOCK_USER;else{m=ix(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Rn(_)}n._authCredentials=new oP(new Jx(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(eu(t,Bt._jsonSchema))return new Bt(e,r||null,new Pe(xt.fromString(t.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Qt("string",Bt._jsonSchemaVersion),referencePath:Qt("string")};class Ki extends ta{constructor(e,t,r){super(e,t,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Pe(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function rn(n,e,...t){if(n=Yt(n),Zx("collection","path",e),n instanceof Gh){const r=xt.fromString(e,...t);return mw(r),new Ki(n,null,r)}{if(!(n instanceof Bt||n instanceof Ki))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return mw(r),new Ki(n.firestore,null,r)}}function ur(n,e,...t){if(n=Yt(n),arguments.length===1&&(e=gg.newId()),Zx("doc","path",e),n instanceof Gh){const r=xt.fromString(e,...t);return pw(r),new Bt(n,null,new Pe(r))}{if(!(n instanceof Bt||n instanceof Ki))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xt.fromString(e,...t));return pw(r),new Bt(n.firestore,n instanceof Ki?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const r=Jp();r&&xe(r0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;xe(r0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",i0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Mg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function i0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class na extends Gh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new s0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function tj(n,e){const t=typeof n=="object"?n:og(),r=typeof n=="string"?n:ih,o=kh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=nx("firestore");a&&ej(o,...a)}return o}function zg(n){if(n._terminated)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nj(n),n._firestoreClient}function nj(n){const e=n._freezeSettings(),t=(function(o,a,c,f){return new CP(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,hT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(xn.fromBase64String(e))}catch(t){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sr(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:Qt("string",Sr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(eu(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Qt("string",bs._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:As._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,As._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new As(e.vectorValues);throw new _e(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}As._jsonSchemaVersion="firestore/vectorValue/1.0",As._jsonSchema={type:Qt("string",As._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^__.*__$/;class sj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class pT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ao(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class $g{constructor(e,t,r,o,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mT(this.Ac)&&rj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ij{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hh(e)}Cc(e,t,r,o=!1){return new $g({Ac:e,methodName:t,Dc:r,path:wn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new ij(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(n,e,t,r,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Hg("Data must be an object, but it was:",c,r);const f=yT(r,c);let p,m;if(a.merge)p=new cr(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const _ of a.mergeFields){const E=Fm(e,_,t);if(!c.contains(E))throw new _e(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);_T(w,E)||w.push(E)}p=new cr(w),m=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=c.fieldTransforms;return new sj(new Gn(f),p,m)}class Yh extends Bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function oj(n,e,t,r){const o=n.Cc(1,e,t);Hg("Data must be an object, but it was:",o,r);const a=[],c=Gn.empty();oo(r,((p,m)=>{const w=Wg(e,p,t);m=Yt(m);const _=o.yc(w);if(m instanceof Yh)a.push(w);else{const E=iu(m,_);E!=null&&(a.push(w),c.set(w,E))}}));const f=new cr(a);return new pT(c,f,o.fieldTransforms)}function aj(n,e,t,r,o,a){const c=n.Cc(1,e,t),f=[Fm(e,r,t)],p=[o];if(a.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(Fm(e,a[E])),p.push(a[E+1]);const m=[],w=Gn.empty();for(let E=f.length-1;E>=0;--E)if(!_T(m,f[E])){const b=f[E];let V=p[E];V=Yt(V);const R=c.yc(b);if(V instanceof Yh)m.push(b);else{const P=iu(V,R);P!=null&&(m.push(b),w.set(b,P))}}const _=new cr(m);return new pT(w,_,c.fieldTransforms)}function lj(n,e,t,r=!1){return iu(t,n.Cc(r?4:3,e))}function iu(n,e){if(vT(n=Yt(n)))return Hg("Unsupported field value:",e,n),yT(n,e);if(n instanceof Bg)return(function(r,o){if(!mT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const f of r){let p=iu(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=dt.fromDate(r);return{timestampValue:uh(o.serializer,a)}}if(r instanceof dt){const a=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(o.serializer,a)}}if(r instanceof bs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:jE(o.serializer,r._byteString)};if(r instanceof Bt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof As)return(function(c,f){return{mapValue:{fields:{[lE]:{stringValue:cE},[oh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Tg(f.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Oh(r)}`)})(n,e)}function yT(n,e){const t={};return nE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,((r,o)=>{const a=iu(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function vT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof bs||n instanceof Sr||n instanceof Bt||n instanceof Bg||n instanceof As)}function Hg(n,e,t){if(!vT(t)||!eE(t)){const r=Oh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Fm(n,e,t){if((e=Yt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return Wg(n,e);throw ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const cj=new RegExp("[~\\*/\\[\\]]");function Wg(n,e,t){if(e.search(cj)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ph(n,e,t,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new _e(ne.INVALID_ARGUMENT,f+n+p)}function _T(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uj extends wT{data(){return super.data()}}function Xh(n,e){return typeof e=="string"?Wg(n,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class xT extends qg{}function dr(n,e,...t){let r=[];e instanceof qg&&r.push(e),r=r.concat(t),(function(a){const c=a.filter((p=>p instanceof Gg)).length,f=a.filter((p=>p instanceof Jh)).length;if(c>1||c>0&&f>0)throw new _e(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Jh extends xT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jh(e,t,r)}_apply(e){const t=this._parse(e);return ET(e._query,t),new ta(e.firestore,e.converter,Am(e._query,t))}_parse(e){const t=Qh(e.firestore);return(function(a,c,f,p,m,w,_){let E;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){a0(_,w);const V=[];for(const R of _)V.push(o0(p,a,R));E={arrayValue:{values:V}}}else E=o0(p,a,_)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||a0(_,w),E=lj(f,c,_,w==="in"||w==="not-in");return Kt.create(m,w,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fn(n,e,t){const r=e,o=Xh("where",n);return Jh._create(o,r,t)}class Gg extends qg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const f=a.getFlattenedFilters();for(const p of f)ET(c,p),c=Am(c,p)})(e._query,t),new ta(e.firestore,e.converter,Am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends xT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=(function(o,a,c){if(o.startAt!==null)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zc(a,c)})(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,(function(o,a){const c=o.explicitOrderBy.concat([a]);return new El(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function hj(n,e="asc"){const t=e,r=Xh("orderBy",n);return Kg._create(r,t)}function o0(n,e,t){if(typeof(t=Yt(t))=="string"){if(t==="")throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&t.indexOf("/")!==-1)throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xt.fromString(t));if(!Pe.isDocumentKey(r))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tw(n,new Pe(r))}if(t instanceof Bt)return Tw(n,t._key);throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function a0(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(n,e){const t=(function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new _e(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fj{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return oo(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[oh].arrayValue?.values?.map((r=>zt(r.doubleValue)));return new As(t)}convertGeoPoint(e){return new bs(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xt.fromString(e);mt(FE(r),9688,{name:e});const o=new Fc(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return o.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends wT{constructor(e,t,r,o,a,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:Qt("string",Fo._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class qd extends Fo{data(e={}){return super.data(e)}}class Xa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ic(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new qd(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new qd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ic(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const p=new qd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ic(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,w=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:pj(f.type),doc:p,oldIndex:m,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){n=Gr(n,Bt);const e=Gr(n.firestore,na);return JN(zg(e),n._key).then((t=>gj(e,n,t)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Qt("string",Xa._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class ST extends fj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function Kn(n){n=Gr(n,ta);const e=Gr(n.firestore,na),t=zg(e),r=new ST(e);return dj(n._query),ZN(t,n._query).then((o=>new Xa(e,r,n,o)))}function mj(n,e,t){n=Gr(n,Bt);const r=Gr(n.firestore,na),o=TT(n.converter,e);return ef(r,[gT(Qh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ir.none())])}function jc(n,e,t,...r){n=Gr(n,Bt);const o=Gr(n.firestore,na),a=Qh(o);let c;return c=typeof(e=Yt(e))=="string"||e instanceof Kh?aj(a,"updateDoc",n._key,e,t,r):oj(a,"updateDoc",n._key,e),ef(o,[c.toMutation(n._key,Ir.exists(!0))])}function IT(n){return ef(Gr(n.firestore,na),[new Sg(n._key,Ir.none())])}function ou(n,e){const t=Gr(n.firestore,na),r=ur(n),o=TT(n.converter,e);return ef(t,[gT(Qh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function ef(n,e){return(function(r,o){const a=new ti;return r.asyncQueue.enqueueAndForget((async()=>UN(await XN(r),o,a))),a.promise})(zg(n),e)}function gj(n,e,t){const r=t.docs.get(e._key),o=new ST(n);return new Fo(n,o,e._key,r,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){_l=o})(Xo),zo(new Yi("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),f=new na(new aP(r.getProvider("auth-internal")),new uP(c,r.getProvider("app-check-internal")),(function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(m.options.projectId,w)})(c,o),c);return a={useFetchStreams:t,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),Es(uw,dw,e),Es(uw,dw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebasestorage.googleapis.com",yj="storageBucket",vj=120*1e3,_j=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends js{constructor(e,t,r=0){super(em(e),`Firebase Storage: ${t} (${em(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ks;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ks||(ks={}));function em(n){return"storage/"+n}function wj(){const n="An unknown error occurred, please check the error payload for server response.";return new Ds(ks.UNKNOWN,n)}function xj(){return new Ds(ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ej(){return new Ds(ks.CANCELED,"User canceled the upload/download.")}function Tj(n){return new Ds(ks.INVALID_URL,"Invalid URL '"+n+"'.")}function Sj(n){return new Ds(ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function l0(n){return new Ds(ks.INVALID_ARGUMENT,n)}function bT(){return new Ds(ks.APP_DELETED,"The Firebase app was deleted.")}function Ij(n){return new Ds(ks.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Hr.makeFromUrl(e,t)}catch{return new Hr(e,"")}if(r.path==="")return r;throw Sj(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function m(W){W.path_=decodeURIComponent(W.path)}const w="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${w}/b/${o}/o${E}`,"i"),V={bucket:1,path:3},R=t===CT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",F=new RegExp(`^https?://${R}/${o}/${P}`,"i"),H=[{regex:f,indices:p,postModify:a},{regex:b,indices:V,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let W=0;W<H.length;W++){const J=H[W],ee=J.regex.exec(e);if(ee){const k=ee[J.indices.bucket];let I=ee[J.indices.path];I||(I=""),r=new Hr(k,I),J.postModify(r);break}}if(r==null)throw Tj(e);return r}}class Cj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(n,e,t){let r=1,o=null,a=null,c=!1,f=0;function p(){return f===2}let m=!1;function w(...P){m||(m=!0,e.apply(null,P))}function _(P){o=setTimeout(()=>{o=null,n(b,p())},P)}function E(){a&&clearTimeout(a)}function b(P,...F){if(m){E();return}if(P){E(),w.call(null,P,...F);return}if(p()||c){E(),w.call(null,P,...F);return}r<64&&(r*=2);let H;f===1?(f=2,H=0):H=(r+Math.random())*1e3,_(H)}let V=!1;function R(P){V||(V=!0,E(),!m&&(o!==null?(P||(f=2),clearTimeout(o),_(0)):P||(f=1)))}return _(0),a=setTimeout(()=>{c=!0,R(!0)},t),R}function Aj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n){return n!==void 0}function c0(n,e,t,r){if(r<e)throw l0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw l0(`Invalid value for '${n}'. Expected ${t} or less.`)}function Pj(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var mh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,t,r,o,a,c,f,p,m,w,_,E=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=w,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,R)=>{this.resolve_=V,this.reject_=R,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Cd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const f=a.getErrorCode()===mh.NO_ERROR,p=a.getStatus();if(!f||kj(p,this.additionalRetryCodes_)&&this.retry){const w=a.getErrorCode()===mh.ABORT;r(!1,new Cd(!1,null,w));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new Cd(m,a))})},t=(r,o)=>{const a=this.resolve_,c=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());Rj(p)?a(p):a()}catch(p){c(p)}else if(f!==null){const p=wj();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(o.canceled){const p=this.appDelete_?bT():Ej();c(p)}else{const p=xj();c(p)}};this.canceled_?t(!1,new Cd(!1,null,!0)):this.backoffId_=bj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Aj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function jj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Dj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Mj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Vj(n,e,t,r,o,a,c=!0,f=!1){const p=Pj(n.urlParams),m=n.url+p,w=Object.assign({},n.headers);return Oj(w,e),jj(w,t),Dj(w,a),Mj(w,r),new Nj(m,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Fj(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this._service=e,t instanceof Hr?this._location=t:this._location=Hr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new gh(e,t)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fj(this._location.path)}get storage(){return this._service}get parent(){const e=Lj(this._location.path);if(e===null)return null;const t=new Hr(this._location.bucket,e);return new gh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ij(e)}}function u0(n,e){const t=e?.[yj];return t==null?null:Hr.makeFromBucketSpec(t,n)}function Uj(n,e,t,r={}){n.host=`${e}:${t}`;const o=Yo(e);o&&(ng(`https://${n.host}/b`),rg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:ix(a,n.app.options.projectId))}class zj{constructor(e,t,r,o,a,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=CT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vj,this._maxUploadRetryTime=_j,this._requests=new Set,o!=null?this._bucket=Hr.makeFromBucketSpec(o,this._host):this._bucket=u0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=u0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new Cj(bT());{const c=Vj(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const d0="@firebase/storage",h0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="storage";function Bj(n=og(),e){n=Yt(n);const r=kh(n,AT).getImmediate({identifier:e}),o=nx("storage");return o&&$j(r,...o),r}function $j(n,e,t,r={}){Uj(n,e,t,r)}function Hj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new zj(t,r,o,e,Xo)}function Wj(){zo(new Yi(AT,Hj,"PUBLIC").setMultipleInstances(!0)),Es(d0,h0,""),Es(d0,h0,"esm2020")}Wj();const qj={apiKey:"AIzaSyBfIRhKysVrADppCHZsG46FB2lBKzs7RkI",authDomain:"institution-platform-2b2c0.firebaseapp.com",projectId:"institution-platform-2b2c0",storageBucket:"institution-platform-2b2c0.firebasestorage.app",messagingSenderId:"867427966185",appId:"1:867427966185:web:58b845ed0f13c4f1592478",measurementId:"G-S2XJ5S8YN4"},Qg=lx(qj),tf=tP(Qg),ht=tj(Qg);Bj(Qg);const Gj=async(n,e,t,r)=>{try{const a=(await LA(tf,n,e)).user;return await UA(a),await mj(ur(ht,"users",a.uid),{uid:a.uid,email:a.email,role:t,emailVerified:!1,createdAt:new Date,status:t==="company"||t==="institute"?"pending":"active",profile:r}),{success:!0,user:a}}catch(o){return{success:!1,error:o.message}}},Kj=async(n,e)=>{try{const r=(await FA(tf,n,e)).user,o=await Zh(ur(ht,"users",r.uid));if(!o.exists())throw new Error("User profile not found");const a=o.data();return{success:!0,user:r,userData:a}}catch(t){return{success:!1,error:t.message}}},Qj=async()=>{try{return await HA(tf),{success:!0}}catch(n){return{success:!1,error:n.message}}},Yj=async n=>{try{const e=await Zh(ur(ht,"users",n.uid));return e.exists()?e.data():null}catch(e){return console.error("Error getting user profile:",e),null}},RT=T.createContext({user:null,userProfile:null,loading:!0,setUserProfile:()=>{}}),au=()=>T.useContext(RT),Xj=({children:n})=>{const[e,t]=T.useState(null),[r,o]=T.useState(null),[a,c]=T.useState(!0);return T.useEffect(()=>$A(tf,async p=>{if(t(p),p){const m=await Yj(p);o(m)}else o(null);c(!1)}),[]),d.jsx(RT.Provider,{value:{user:e,userProfile:r,loading:a,setUserProfile:o},children:n})};function f0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Sl(...n){return e=>{let t=!1;const r=n.map(o=>{const a=f0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():f0(n[o],null)}}}}function Vt(...n){return T.useCallback(Sl(...n),n)}var Jj=Symbol.for("react.lazy"),yh=tg[" use ".trim().toString()];function Zj(n){return typeof n=="object"&&n!==null&&"then"in n}function PT(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Jj&&"_payload"in n&&Zj(n._payload)}function kT(n){const e=e2(n),t=T.forwardRef((r,o)=>{let{children:a,...c}=r;PT(a)&&typeof yh=="function"&&(a=yh(a._payload));const f=T.Children.toArray(a),p=f.find(n2);if(p){const m=p.props.children,w=f.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return d.jsx(e,{...c,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,w):null})}return d.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var NT=kT("Slot");function e2(n){const e=T.forwardRef((t,r)=>{let{children:o,...a}=t;if(PT(o)&&typeof yh=="function"&&(o=yh(o._payload)),T.isValidElement(o)){const c=s2(o),f=r2(a,o.props);return o.type!==T.Fragment&&(f.ref=r?Sl(r,c):c),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var t2=Symbol("radix.slottable");function n2(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===t2}function r2(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function s2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=jT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function DT(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=jT(n))&&(r&&(r+=" "),r+=e);return r}const p0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,m0=DT,OT=(n,e)=>t=>{var r;if(e?.variants==null)return m0(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const w=t?.[m],_=a?.[m];if(w===null)return null;const E=p0(w)||p0(_);return o[m][E]}),f=t&&Object.entries(t).reduce((m,w)=>{let[_,E]=w;return E===void 0||(m[_]=E),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,w)=>{let{class:_,className:E,...b}=w;return Object.entries(b).every(V=>{let[R,P]=V;return Array.isArray(P)?P.includes({...a,...f}[R]):{...a,...f}[R]===P})?[...m,_,E]:m},[]);return m0(n,c,p,t?.class,t?.className)},i2=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},o2=(n,e)=>({classGroupId:n,validator:e}),MT=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),vh="-",g0=[],a2="arbitrary..",l2=n=>{const e=u2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return c2(c);const f=c.split(vh),p=f[0]===""&&f.length>1?1:0;return VT(f,p,e)},getConflictingClassGroupIds:(c,f)=>{if(f){const p=r[c],m=t[c];return p?m?i2(m,p):p:m||g0}return t[c]||g0}}},VT=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=VT(n,e+1,a);if(m)return m}const c=t.validators;if(c===null)return;const f=e===0?n.join(vh):n.slice(e).join(vh),p=c.length;for(let m=0;m<p;m++){const w=c[m];if(w.validator(f))return w.classGroupId}},c2=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?a2+r:void 0})(),u2=n=>{const{theme:e,classGroups:t}=n;return d2(t,e)},d2=(n,e)=>{const t=MT();for(const r in n){const o=n[r];Yg(o,t,r,e)}return t},Yg=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const c=n[a];h2(c,e,t,r)}},h2=(n,e,t,r)=>{if(typeof n=="string"){f2(n,e,t);return}if(typeof n=="function"){p2(n,e,t,r);return}m2(n,e,t,r)},f2=(n,e,t)=>{const r=n===""?e:LT(e,n);r.classGroupId=t},p2=(n,e,t,r)=>{if(g2(n)){Yg(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(o2(t,n))},m2=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let c=0;c<a;c++){const[f,p]=o[c];Yg(p,LT(e,f),t,r)}},LT=(n,e)=>{let t=n;const r=e.split(vh),o=r.length;for(let a=0;a<o;a++){const c=r[a];let f=t.nextPart.get(c);f||(f=MT(),t.nextPart.set(c,f)),t=f}return t},g2=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,y2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,c)=>{t[a]=c,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let c=t[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return o(a,c),c},set(a,c){a in t?t[a]=c:o(a,c)}}},Um="!",y0=":",v2=[],v0=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),_2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let c=0,f=0,p=0,m;const w=o.length;for(let R=0;R<w;R++){const P=o[R];if(c===0&&f===0){if(P===y0){a.push(o.slice(p,R)),p=R+1;continue}if(P==="/"){m=R;continue}}P==="["?c++:P==="]"?c--:P==="("?f++:P===")"&&f--}const _=a.length===0?o:o.slice(p);let E=_,b=!1;_.endsWith(Um)?(E=_.slice(0,-1),b=!0):_.startsWith(Um)&&(E=_.slice(1),b=!0);const V=m&&m>p?m-p:void 0;return v0(a,b,E,V)};if(e){const o=e+y0,a=r;r=c=>c.startsWith(o)?a(c.slice(o.length)):v0(v2,!1,c,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},w2=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const c=t[a],f=c[0]==="[",p=e.has(c);f||p?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},x2=n=>({cache:y2(n.cacheSize),parseClassName:_2(n),sortModifiers:w2(n),...l2(n)}),E2=/\s+/,T2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],f=n.trim().split(E2);let p="";for(let m=f.length-1;m>=0;m-=1){const w=f[m],{isExternal:_,modifiers:E,hasImportantModifier:b,baseClassName:V,maybePostfixModifierPosition:R}=t(w);if(_){p=w+(p.length>0?" "+p:p);continue}let P=!!R,F=r(P?V.substring(0,R):V);if(!F){if(!P){p=w+(p.length>0?" "+p:p);continue}if(F=r(V),!F){p=w+(p.length>0?" "+p:p);continue}P=!1}const $=E.length===0?"":E.length===1?E[0]:a(E).join(":"),H=b?$+Um:$,W=H+F;if(c.indexOf(W)>-1)continue;c.push(W);const J=o(F,P);for(let ee=0;ee<J.length;++ee){const k=J[ee];c.push(H+k)}p=w+(p.length>0?" "+p:p)}return p},S2=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=FT(t))&&(o&&(o+=" "),o+=r);return o},FT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=FT(n[r]))&&(t&&(t+=" "),t+=e);return t},I2=(n,...e)=>{let t,r,o,a;const c=p=>{const m=e.reduce((w,_)=>_(w),n());return t=x2(m),r=t.cache.get,o=t.cache.set,a=f,f(p)},f=p=>{const m=r(p);if(m)return m;const w=T2(p,t);return o(p,w),w};return a=c,(...p)=>a(S2(...p))},C2=[],tn=n=>{const e=t=>t[n]||C2;return e.isThemeGetter=!0,e},UT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b2=/^\d+\/\d+$/,A2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,k2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,La=n=>b2.test(n),We=n=>!!n&&!Number.isNaN(Number(n)),Li=n=>!!n&&Number.isInteger(Number(n)),tm=n=>n.endsWith("%")&&We(n.slice(0,-1)),Xs=n=>A2.test(n),j2=()=>!0,D2=n=>R2.test(n)&&!P2.test(n),BT=()=>!1,O2=n=>k2.test(n),M2=n=>N2.test(n),V2=n=>!Se(n)&&!Ie(n),L2=n=>Il(n,WT,BT),Se=n=>UT.test(n),Mo=n=>Il(n,qT,D2),nm=n=>Il(n,$2,We),_0=n=>Il(n,$T,BT),F2=n=>Il(n,HT,M2),bd=n=>Il(n,GT,O2),Ie=n=>zT.test(n),_c=n=>Cl(n,qT),U2=n=>Cl(n,H2),w0=n=>Cl(n,$T),z2=n=>Cl(n,WT),B2=n=>Cl(n,HT),Ad=n=>Cl(n,GT,!0),Il=(n,e,t)=>{const r=UT.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Cl=(n,e,t=!1)=>{const r=zT.exec(n);return r?r[1]?e(r[1]):t:!1},$T=n=>n==="position"||n==="percentage",HT=n=>n==="image"||n==="url",WT=n=>n==="length"||n==="size"||n==="bg-size",qT=n=>n==="length",$2=n=>n==="number",H2=n=>n==="family-name",GT=n=>n==="shadow",W2=()=>{const n=tn("color"),e=tn("font"),t=tn("text"),r=tn("font-weight"),o=tn("tracking"),a=tn("leading"),c=tn("breakpoint"),f=tn("container"),p=tn("spacing"),m=tn("radius"),w=tn("shadow"),_=tn("inset-shadow"),E=tn("text-shadow"),b=tn("drop-shadow"),V=tn("blur"),R=tn("perspective"),P=tn("aspect"),F=tn("ease"),$=tn("animate"),H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...W(),Ie,Se],ee=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],I=()=>[Ie,Se,p],D=()=>[La,"full","auto",...I()],N=()=>[Li,"none","subgrid",Ie,Se],O=()=>["auto",{span:["full",Li,Ie,Se]},Li,Ie,Se],j=()=>[Li,"auto",Ie,Se],C=()=>["auto","min","max","fr",Ie,Se],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...I()],ae=()=>[La,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],L=()=>[n,Ie,Se],se=()=>[...W(),w0,_0,{position:[Ie,Se]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",z2,L2,{size:[Ie,Se]}],Z=()=>[tm,_c,Mo],ie=()=>["","none","full",m,Ie,Se],he=()=>["",We,_c,Mo],ve=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[We,tm,w0,_0],ge=()=>["","none",V,Ie,Se],Re=()=>["none",We,Ie,Se],De=()=>["none",We,Ie,Se],He=()=>[We,Ie,Se],Ge=()=>[La,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xs],breakpoint:[Xs],color:[j2],container:[Xs],"drop-shadow":[Xs],ease:["in","out","in-out"],font:[V2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xs],shadow:[Xs],spacing:["px",We],text:[Xs],"text-shadow":[Xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",La,Se,Ie,P]}],container:["container"],columns:[{columns:[We,Se,Ie,f]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",Ie,Se]}],basis:[{basis:[La,"full","auto",f,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,La,"auto","initial","none",Se]}],grow:[{grow:["",We,Ie,Se]}],shrink:[{shrink:["",We,Ie,Se]}],order:[{order:[Li,"first","last","none",Ie,Se]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[f,"screen",...ae()]}],"min-w":[{"min-w":[f,"screen","none",...ae()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",t,_c,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,nm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tm,Se]}],"font-family":[{font:[U2,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ie,Se]}],"line-clamp":[{"line-clamp":[We,"none",Ie,nm]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Ie,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ie,Mo]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[We,"auto",Ie,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,Ie,Se],radial:["",Ie,Se],conic:[Li,Ie,Se]},B2,F2]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ie,Se]}],"outline-w":[{outline:["",We,_c,Mo]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",w,Ad,bd]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",_,Ad,bd]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[We,Mo]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",E,Ad,bd]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[We,Ie,Se]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Ie,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Se]}],filter:[{filter:["","none",Ie,Se]}],blur:[{blur:ge()}],brightness:[{brightness:[We,Ie,Se]}],contrast:[{contrast:[We,Ie,Se]}],"drop-shadow":[{"drop-shadow":["","none",b,Ad,bd]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",We,Ie,Se]}],"hue-rotate":[{"hue-rotate":[We,Ie,Se]}],invert:[{invert:["",We,Ie,Se]}],saturate:[{saturate:[We,Ie,Se]}],sepia:[{sepia:["",We,Ie,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Se]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ie,Se]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ie,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ie,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ie,Se]}],"backdrop-invert":[{"backdrop-invert":["",We,Ie,Se]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ie,Se]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ie,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ie,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ie,Se]}],ease:[{ease:["linear","initial",F,Ie,Se]}],delay:[{delay:[We,Ie,Se]}],animate:[{animate:["none",$,Ie,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ie,Se]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Ie,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Se]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[We,_c,Mo,nm]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},q2=I2(W2);function ft(...n){return q2(DT(n))}const G2=OT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function rt({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?NT:"button";return d.jsx(a,{"data-slot":"button",className:ft(G2({variant:e,size:t,className:n})),...o})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),x0=n=>{const e=Q2(n);return e.charAt(0).toUpperCase()+e.slice(1)},KT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...f},p)=>T.createElement("svg",{ref:p,...Y2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:KT("lucide",o),...f},[...c.map(([m,w])=>T.createElement(m,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(n,e)=>{const t=T.forwardRef(({className:r,...o},a)=>T.createElement(X2,{ref:a,iconNode:e,className:KT(`lucide-${K2(x0(n))}`,`lucide-${n}`,r),...o}));return t.displayName=x0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Z2=Xt("arrow-left",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QT=Xt("book-open",eD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nf=Xt("briefcase",tD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],YT=Xt("building-2",nD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sD=Xt("check",rD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XT=Xt("chevron-down",iD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aD=Xt("chevron-up",oD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_h=Xt("circle-check-big",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xg=Xt("circle-x",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],zm=Xt("clock",uD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hD=Xt("eye",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],wh=Xt("graduation-cap",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],E0=Xt("log-out",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],gD=Xt("menu",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xh=Xt("plus",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_D=Xt("square-pen",vD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xD=Xt("trash-2",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],TD=Xt("upload",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Hc=Xt("users",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CD=Xt("x",ID);var lu=X0();const JT=Y0(lu);function bD(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const AD=n=>{switch(n){case"success":return kD;case"info":return jD;case"warning":return ND;case"error":return DD;default:return null}},RD=Array(12).fill(0),PD=({visible:n,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},fe.createElement("div",{className:"sonner-spinner"},RD.map((t,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ND=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OD=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MD=()=>{const[n,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Bm=1;class VD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...o}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Bm++,c=this.toasts.find(p=>p.id===a),f=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:r}),{...p,...e,id:a,dismissible:f,title:r}):p):this.addToast({title:r,...o,dismissible:f,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const f=o.then(async m=>{if(c=["resolve",m],fe.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(FD(m)&&!m.ok){a=!1;const _=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,V=typeof _=="object"&&!fe.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:E,...V})}else if(m instanceof Error){a=!1;const _=typeof t.error=="function"?await t.error(m):t.error,E=typeof t.description=="function"?await t.description(m):t.description,V=typeof _=="object"&&!fe.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:E,...V})}else if(t.success!==void 0){a=!1;const _=typeof t.success=="function"?await t.success(m):t.success,E=typeof t.description=="function"?await t.description(m):t.description,V=typeof _=="object"&&!fe.isValidElement(_)?_:{message:_};this.create({id:r,type:"success",description:E,...V})}}).catch(async m=>{if(c=["reject",m],t.error!==void 0){a=!1;const w=typeof t.error=="function"?await t.error(m):t.error,_=typeof t.description=="function"?await t.description(m):t.description,b=typeof w=="object"&&!fe.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:_,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((m,w)=>f.then(()=>c[0]==="reject"?w(c[1]):m(c[1])).catch(w));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,t)=>{const r=t?.id||Bm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wn=new VD,LD=(n,e)=>{const t=e?.id||Bm++;return Wn.addToast({title:n,...e,id:t}),t},FD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",UD=LD,zD=()=>Wn.toasts,BD=()=>Wn.getActiveToasts(),ut=Object.assign(UD,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:zD,getToasts:BD});bD("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rd(n){return n.label!==void 0}const $D=3,HD="24px",WD="16px",T0=4e3,qD=356,GD=14,KD=45,QD=200;function vs(...n){return n.filter(Boolean).join(" ")}function YD(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const XD=n=>{var e,t,r,o,a,c,f,p,m;const{invert:w,toast:_,unstyled:E,interacting:b,setHeights:V,visibleToasts:R,heights:P,index:F,toasts:$,expanded:H,removeToast:W,defaultRichColors:J,closeButton:ee,style:k,cancelButtonStyle:I,actionButtonStyle:D,className:N="",descriptionClassName:O="",duration:j,position:C,gap:ue,expandByDefault:me,classNames:Q,icons:ae,closeButtonAriaLabel:L="Close toast"}=n,[se,te]=fe.useState(null),[z,Z]=fe.useState(null),[ie,he]=fe.useState(!1),[ve,be]=fe.useState(!1),[oe,ge]=fe.useState(!1),[Re,De]=fe.useState(!1),[He,Ge]=fe.useState(!1),[At,sn]=fe.useState(0),[Jr,Qn]=fe.useState(0),pn=fe.useRef(_.duration||j||T0),ui=fe.useRef(null),pt=fe.useRef(null),Rt=F===0,Yn=F+1<=R,Jt=_.type,fr=_.dismissible!==!1,ra=_.className||"",Zr=_.descriptionClassName||"",es=fe.useMemo(()=>P.findIndex(Oe=>Oe.toastId===_.id)||0,[P,_.id]),di=fe.useMemo(()=>{var Oe;return(Oe=_.closeButton)!=null?Oe:ee},[_.closeButton,ee]),Cr=fe.useMemo(()=>_.duration||j||T0,[_.duration,j]),hi=fe.useRef(0),Vn=fe.useRef(0),br=fe.useRef(0),Ar=fe.useRef(null),[ts,fi]=C.split("-"),pi=fe.useMemo(()=>P.reduce((Oe,yt,Lt)=>Lt>=es?Oe:Oe+yt.height,0),[P,es]),Ln=MD(),mi=_.invert||w,pr=Jt==="loading";Vn.current=fe.useMemo(()=>es*ue+pi,[es,pi]),fe.useEffect(()=>{pn.current=Cr},[Cr]),fe.useEffect(()=>{he(!0)},[]),fe.useEffect(()=>{const Oe=pt.current;if(Oe){const yt=Oe.getBoundingClientRect().height;return Qn(yt),V(Lt=>[{toastId:_.id,height:yt,position:_.position},...Lt]),()=>V(Lt=>Lt.filter(on=>on.toastId!==_.id))}},[V,_.id]),fe.useLayoutEffect(()=>{if(!ie)return;const Oe=pt.current,yt=Oe.style.height;Oe.style.height="auto";const Lt=Oe.getBoundingClientRect().height;Oe.style.height=yt,Qn(Lt),V(on=>on.find(jt=>jt.toastId===_.id)?on.map(jt=>jt.toastId===_.id?{...jt,height:Lt}:jt):[{toastId:_.id,height:Lt,position:_.position},...on])},[ie,_.title,_.description,V,_.id,_.jsx,_.action,_.cancel]);const jn=fe.useCallback(()=>{be(!0),sn(Vn.current),V(Oe=>Oe.filter(yt=>yt.toastId!==_.id)),setTimeout(()=>{W(_)},QD)},[_,W,V,Vn]);fe.useEffect(()=>{if(_.promise&&Jt==="loading"||_.duration===1/0||_.type==="loading")return;let Oe;return H||b||Ln?(()=>{if(br.current<hi.current){const on=new Date().getTime()-hi.current;pn.current=pn.current-on}br.current=new Date().getTime()})():(()=>{pn.current!==1/0&&(hi.current=new Date().getTime(),Oe=setTimeout(()=>{_.onAutoClose==null||_.onAutoClose.call(_,_),jn()},pn.current))})(),()=>clearTimeout(Oe)},[H,b,_,Jt,Ln,jn]),fe.useEffect(()=>{_.delete&&(jn(),_.onDismiss==null||_.onDismiss.call(_,_))},[jn,_.delete]);function Rr(){var Oe;if(ae?.loading){var yt;return fe.createElement("div",{className:vs(Q?.loader,_==null||(yt=_.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":Jt==="loading"},ae.loading)}return fe.createElement(PD,{className:vs(Q?.loader,_==null||(Oe=_.classNames)==null?void 0:Oe.loader),visible:Jt==="loading"})}const Pr=_.icon||ae?.[Jt]||AD(Jt);var Et,gi;return fe.createElement("li",{tabIndex:0,ref:pt,className:vs(N,ra,Q?.toast,_==null||(e=_.classNames)==null?void 0:e.toast,Q?.default,Q?.[Jt],_==null||(t=_.classNames)==null?void 0:t[Jt]),"data-sonner-toast":"","data-rich-colors":(Et=_.richColors)!=null?Et:J,"data-styled":!(_.jsx||_.unstyled||E),"data-mounted":ie,"data-promise":!!_.promise,"data-swiped":He,"data-removed":ve,"data-visible":Yn,"data-y-position":ts,"data-x-position":fi,"data-index":F,"data-front":Rt,"data-swiping":oe,"data-dismissible":fr,"data-type":Jt,"data-invert":mi,"data-swipe-out":Re,"data-swipe-direction":z,"data-expanded":!!(H||me&&ie),"data-testid":_.testId,style:{"--index":F,"--toasts-before":F,"--z-index":$.length-F,"--offset":`${ve?At:Vn.current}px`,"--initial-height":me?"auto":`${Jr}px`,...k,..._.style},onDragEnd:()=>{ge(!1),te(null),Ar.current=null},onPointerDown:Oe=>{Oe.button!==2&&(pr||!fr||(ui.current=new Date,sn(Vn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(ge(!0),Ar.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,yt,Lt;if(Re||!fr)return;Ar.current=null;const on=Number(((Oe=pt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dn=Number(((yt=pt.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jt=new Date().getTime()-((Lt=ui.current)==null?void 0:Lt.getTime()),$t=se==="x"?on:Dn,Xn=Math.abs($t)/jt;if(Math.abs($t)>=KD||Xn>.11){sn(Vn.current),_.onDismiss==null||_.onDismiss.call(_,_),Z(se==="x"?on>0?"right":"left":Dn>0?"down":"up"),jn(),De(!0);return}else{var Ht,En;(Ht=pt.current)==null||Ht.style.setProperty("--swipe-amount-x","0px"),(En=pt.current)==null||En.style.setProperty("--swipe-amount-y","0px")}Ge(!1),ge(!1),te(null)},onPointerMove:Oe=>{var yt,Lt,on;if(!Ar.current||!fr||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;const jt=Oe.clientY-Ar.current.y,$t=Oe.clientX-Ar.current.x;var Xn;const Ht=(Xn=n.swipeDirections)!=null?Xn:YD(C);!se&&(Math.abs($t)>1||Math.abs(jt)>1)&&te(Math.abs($t)>Math.abs(jt)?"x":"y");let En={x:0,y:0};const mr=an=>1/(1.5+Math.abs(an)/20);if(se==="y"){if(Ht.includes("top")||Ht.includes("bottom"))if(Ht.includes("top")&&jt<0||Ht.includes("bottom")&&jt>0)En.y=jt;else{const an=jt*mr(jt);En.y=Math.abs(an)<Math.abs(jt)?an:jt}}else if(se==="x"&&(Ht.includes("left")||Ht.includes("right")))if(Ht.includes("left")&&$t<0||Ht.includes("right")&&$t>0)En.x=$t;else{const an=$t*mr($t);En.x=Math.abs(an)<Math.abs($t)?an:$t}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&Ge(!0),(Lt=pt.current)==null||Lt.style.setProperty("--swipe-amount-x",`${En.x}px`),(on=pt.current)==null||on.style.setProperty("--swipe-amount-y",`${En.y}px`)}},di&&!_.jsx&&Jt!=="loading"?fe.createElement("button",{"aria-label":L,"data-disabled":pr,"data-close-button":!0,onClick:pr||!fr?()=>{}:()=>{jn(),_.onDismiss==null||_.onDismiss.call(_,_)},className:vs(Q?.closeButton,_==null||(r=_.classNames)==null?void 0:r.closeButton)},(gi=ae?.close)!=null?gi:OD):null,(Jt||_.icon||_.promise)&&_.icon!==null&&(ae?.[Jt]!==null||_.icon)?fe.createElement("div",{"data-icon":"",className:vs(Q?.icon,_==null||(o=_.classNames)==null?void 0:o.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||Rr():null,_.type!=="loading"?Pr:null):null,fe.createElement("div",{"data-content":"",className:vs(Q?.content,_==null||(a=_.classNames)==null?void 0:a.content)},fe.createElement("div",{"data-title":"",className:vs(Q?.title,_==null||(c=_.classNames)==null?void 0:c.title)},_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title),_.description?fe.createElement("div",{"data-description":"",className:vs(O,Zr,Q?.description,_==null||(f=_.classNames)==null?void 0:f.description)},typeof _.description=="function"?_.description():_.description):null),fe.isValidElement(_.cancel)?_.cancel:_.cancel&&Rd(_.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||I,onClick:Oe=>{Rd(_.cancel)&&fr&&(_.cancel.onClick==null||_.cancel.onClick.call(_.cancel,Oe),jn())},className:vs(Q?.cancelButton,_==null||(p=_.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,fe.isValidElement(_.action)?_.action:_.action&&Rd(_.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||D,onClick:Oe=>{Rd(_.action)&&(_.action.onClick==null||_.action.onClick.call(_.action,Oe),!Oe.defaultPrevented&&jn())},className:vs(Q?.actionButton,_==null||(m=_.classNames)==null?void 0:m.actionButton)},_.action.label):null)};function S0(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function JD(n,e){const t={};return[n,e].forEach((r,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",f=a?WD:HD;function p(m){["top","right","bottom","left"].forEach(w=>{t[`${c}-${w}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${c}-${m}`]=f:t[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):p(f)}),t}const ZD=fe.forwardRef(function(e,t){const{id:r,invert:o,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:f,closeButton:p,className:m,offset:w,mobileOffset:_,theme:E="light",richColors:b,duration:V,style:R,visibleToasts:P=$D,toastOptions:F,dir:$=S0(),gap:H=GD,icons:W,containerAriaLabel:J="Notifications"}=e,[ee,k]=fe.useState([]),I=fe.useMemo(()=>r?ee.filter(ie=>ie.toasterId===r):ee.filter(ie=>!ie.toasterId),[ee,r]),D=fe.useMemo(()=>Array.from(new Set([a].concat(I.filter(ie=>ie.position).map(ie=>ie.position)))),[I,a]),[N,O]=fe.useState([]),[j,C]=fe.useState(!1),[ue,me]=fe.useState(!1),[Q,ae]=fe.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=fe.useRef(null),se=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=fe.useRef(null),z=fe.useRef(!1),Z=fe.useCallback(ie=>{k(he=>{var ve;return(ve=he.find(be=>be.id===ie.id))!=null&&ve.delete||Wn.dismiss(ie.id),he.filter(({id:be})=>be!==ie.id)})},[]);return fe.useEffect(()=>Wn.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{k(he=>he.map(ve=>ve.id===ie.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{JT.flushSync(()=>{k(he=>{const ve=he.findIndex(be=>be.id===ie.id);return ve!==-1?[...he.slice(0,ve),{...he[ve],...ie},...he.slice(ve+1)]:[ie,...he]})})})}),[ee]),fe.useEffect(()=>{if(E!=="system"){ae(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:he})=>{ae(he?"dark":"light")})}catch{ie.addListener(({matches:ve})=>{try{ae(ve?"dark":"light")}catch(be){console.error(be)}})}},[E]),fe.useEffect(()=>{ee.length<=1&&C(!1)},[ee]),fe.useEffect(()=>{const ie=he=>{var ve;if(c.every(ge=>he[ge]||he.code===ge)){var oe;C(!0),(oe=L.current)==null||oe.focus()}he.code==="Escape"&&(document.activeElement===L.current||(ve=L.current)!=null&&ve.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[c]),fe.useEffect(()=>{if(L.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,z.current=!1)}},[L.current]),fe.createElement("section",{ref:t,"aria-label":`${J} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((ie,he)=>{var ve;const[be,oe]=ie.split("-");return I.length?fe.createElement("ol",{key:ie,dir:$==="auto"?S0():$,tabIndex:-1,ref:L,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":be,"data-x-position":oe,style:{"--front-toast-height":`${((ve=N[0])==null?void 0:ve.height)||0}px`,"--width":`${qD}px`,"--gap":`${H}px`,...R,...JD(w,_)},onBlur:ge=>{z.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(z.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||z.current||(z.current=!0,te.current=ge.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{ue||C(!1)},onDragEnd:()=>C(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},I.filter(ge=>!ge.position&&he===0||ge.position===ie).map((ge,Re)=>{var De,He;return fe.createElement(XD,{key:ge.id,icons:W,index:Re,toast:ge,defaultRichColors:b,duration:(De=F?.duration)!=null?De:V,className:F?.className,descriptionClassName:F?.descriptionClassName,invert:o,visibleToasts:P,closeButton:(He=F?.closeButton)!=null?He:p,interacting:ue,position:ie,style:F?.style,unstyled:F?.unstyled,classNames:F?.classNames,cancelButtonStyle:F?.cancelButtonStyle,actionButtonStyle:F?.actionButtonStyle,closeButtonAriaLabel:F?.closeButtonAriaLabel,removeToast:Z,toasts:I.filter(Ge=>Ge.position==ge.position),heights:N.filter(Ge=>Ge.position==ge.position),setHeights:O,expandByDefault:f,gap:H,expanded:j,swipeDirections:e.swipeDirections})})):null}))}),Pd=({children:n})=>{const{user:e,userProfile:t}=au(),[r,o]=fe.useState(!1),a=async()=>{(await Qj()).success?ut.success("Logged out successfully"):ut.error("Error logging out")};return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white border-b border-gray-200",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wh,{className:"w-8 h-8 text-blue-600"}),d.jsx("span",{className:"text-blue-600",children:"Career Gateway Lesotho"})]}),e&&t&&d.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-gray-900",children:e.email}),d.jsx("div",{className:"text-gray-500 text-sm capitalize",children:t.role})]}),d.jsxs(rt,{onClick:a,variant:"outline",size:"sm",children:[d.jsx(E0,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),e&&d.jsx("button",{className:"md:hidden",onClick:()=>o(!r),children:d.jsx(gD,{className:"w-6 h-6"})})]}),r&&e&&t&&d.jsxs("div",{className:"md:hidden py-4 border-t",children:[d.jsx("div",{className:"text-gray-900 mb-2",children:e.email}),d.jsx("div",{className:"text-gray-500 text-sm capitalize mb-4",children:t.role}),d.jsxs(rt,{onClick:a,variant:"outline",size:"sm",className:"w-full",children:[d.jsx(E0,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),d.jsx("main",{children:n}),d.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:d.jsx("p",{className:"text-center text-gray-600",children:" 2025 Career Gateway Lesotho. All rights reserved."})})})]})};function Qe({className:n,...e}){return d.jsx("div",{"data-slot":"card",className:ft("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Ye({className:n,...e}){return d.jsx("div",{"data-slot":"card-header",className:ft("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Xe({className:n,...e}){return d.jsx("h4",{"data-slot":"card-title",className:ft("leading-none",n),...e})}function _t({className:n,...e}){return d.jsx("p",{"data-slot":"card-description",className:ft("text-muted-foreground",n),...e})}function at({className:n,...e}){return d.jsx("div",{"data-slot":"card-content",className:ft("px-6 [&:last-child]:pb-6",n),...e})}const eO=({onSelectRole:n})=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx(wh,{className:"w-20 h-20 text-blue-600"})}),d.jsx("h1",{className:"text-blue-900 mb-4",children:"Career Gateway Lesotho"}),d.jsx("p",{className:"text-gray-700 max-w-2xl mx-auto",children:"Your comprehensive platform for higher education discovery, course applications, and career placement in Lesotho. Connect students with institutions and employers."}),d.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[d.jsx(rt,{onClick:()=>n("login"),size:"lg",children:"Login"}),d.jsx(rt,{onClick:()=>n("register"),variant:"outline",size:"lg",children:"Register"})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16",children:[d.jsx(Qe,{children:d.jsxs(Ye,{children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(Hc,{className:"w-6 h-6 text-blue-600"})}),d.jsx(Xe,{children:"Students"}),d.jsx(_t,{children:"Discover institutions, apply for courses, and find employment opportunities"})]})}),d.jsx(Qe,{children:d.jsxs(Ye,{children:[d.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(YT,{className:"w-6 h-6 text-green-600"})}),d.jsx(Xe,{children:"Institutions"}),d.jsx(_t,{children:"Manage courses, review applications, and admit qualified students"})]})}),d.jsx(Qe,{children:d.jsxs(Ye,{children:[d.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(nf,{className:"w-6 h-6 text-purple-600"})}),d.jsx(Xe,{children:"Companies"}),d.jsx(_t,{children:"Post jobs and connect with qualified graduates automatically"})]})}),d.jsx(Qe,{children:d.jsxs(Ye,{children:[d.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:d.jsx(wh,{className:"w-6 h-6 text-orange-600"})}),d.jsx(Xe,{children:"Administration"}),d.jsx(_t,{children:"Manage the entire ecosystem of institutions, students, and companies"})]})})]}),d.jsxs("div",{className:"mt-16 bg-white rounded-lg p-8 shadow-sm",children:[d.jsx("h2",{className:"text-gray-900 mb-6 text-center",children:"Platform Features"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 mb-2",children:"For Students"}),d.jsxs("ul",{className:"space-y-2 text-gray-600",children:[d.jsx("li",{children:" Browse higher learning institutions in Lesotho"}),d.jsx("li",{children:" Apply for up to 2 courses per institution"}),d.jsx("li",{children:" Track application status in real-time"}),d.jsx("li",{children:" Upload transcripts and certificates"}),d.jsx("li",{children:" Receive job notifications matching your profile"}),d.jsx("li",{children:" Choose between multiple admissions"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 mb-2",children:"For Institutions"}),d.jsxs("ul",{className:"space-y-2 text-gray-600",children:[d.jsx("li",{children:" Add and manage faculties and courses"}),d.jsx("li",{children:" Review student applications"}),d.jsx("li",{children:" Publish admission results"}),d.jsx("li",{children:" Automated waiting list management"}),d.jsx("li",{children:" Student status tracking"}),d.jsx("li",{children:" Profile management"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 mb-2",children:"For Companies"}),d.jsxs("ul",{className:"space-y-2 text-gray-600",children:[d.jsx("li",{children:" Post job opportunities with requirements"}),d.jsx("li",{children:" View pre-filtered qualified applicants"}),d.jsx("li",{children:" Automatic matching based on criteria"}),d.jsx("li",{children:" Access to academic performance data"}),d.jsx("li",{children:" Review work experience and certificates"}),d.jsx("li",{children:" Streamlined recruitment process"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-gray-900 mb-2",children:"For Administrators"}),d.jsxs("ul",{className:"space-y-2 text-gray-600",children:[d.jsx("li",{children:" Manage all institutions and courses"}),d.jsx("li",{children:" Approve company registrations"}),d.jsx("li",{children:" Monitor system activity"}),d.jsx("li",{children:" Generate comprehensive reports"}),d.jsx("li",{children:" Oversee admission processes"}),d.jsx("li",{children:" Platform-wide analytics"})]})]})]})]})]})});function qe({className:n,type:e,...t}){return d.jsx("input",{type:e,"data-slot":"input",className:ft("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var tO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nO=tO.reduce((n,e)=>{const t=kT(`Primitive.${e}`),r=T.forwardRef((o,a)=>{const{asChild:c,...f}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(p,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),rO="Label",ZT=T.forwardRef((n,e)=>d.jsx(nO.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ZT.displayName=rO;var sO=ZT;function Ve({className:n,...e}){return d.jsx(sO,{"data-slot":"label",className:ft("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function st(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function iO(n,e){const t=T.createContext(e),r=a=>{const{children:c,...f}=a,p=T.useMemo(()=>f,Object.values(f));return d.jsx(t.Provider,{value:p,children:c})};r.displayName=n+"Provider";function o(a){const c=T.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function bl(n,e=[]){let t=[];function r(a,c){const f=T.createContext(c),p=t.length;t=[...t,c];const m=_=>{const{scope:E,children:b,...V}=_,R=E?.[n]?.[p]||f,P=T.useMemo(()=>V,Object.values(V));return d.jsx(R.Provider,{value:P,children:b})};m.displayName=a+"Provider";function w(_,E){const b=E?.[n]?.[p]||f,V=T.useContext(b);if(V)return V;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[m,w]}const o=()=>{const a=t.map(c=>T.createContext(c));return function(f){const p=f?.[n]||a;return T.useMemo(()=>({[`__scope${n}`]:{...f,[n]:p}}),[f,p])}};return o.scopeName=n,[r,oO(o,...e)]}function oO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((f,{useScope:p,scopeName:m})=>{const _=p(a)[`__scope${m}`];return{...f,..._}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function I0(n){const e=aO(n),t=T.forwardRef((r,o)=>{const{children:a,...c}=r,f=T.Children.toArray(a),p=f.find(cO);if(p){const m=p.props.children,w=f.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return d.jsx(e,{...c,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,w):null})}return d.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function aO(n){const e=T.forwardRef((t,r)=>{const{children:o,...a}=t;if(T.isValidElement(o)){const c=dO(o),f=uO(a,o.props);return o.type!==T.Fragment&&(f.ref=r?Sl(r,c):c),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var lO=Symbol("radix.slottable");function cO(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===lO}function uO(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function dO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function eS(n){const e=n+"CollectionProvider",[t,r]=bl(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=R=>{const{scope:P,children:F}=R,$=fe.useRef(null),H=fe.useRef(new Map).current;return d.jsx(o,{scope:P,itemMap:H,collectionRef:$,children:F})};c.displayName=e;const f=n+"CollectionSlot",p=I0(f),m=fe.forwardRef((R,P)=>{const{scope:F,children:$}=R,H=a(f,F),W=Vt(P,H.collectionRef);return d.jsx(p,{ref:W,children:$})});m.displayName=f;const w=n+"CollectionItemSlot",_="data-radix-collection-item",E=I0(w),b=fe.forwardRef((R,P)=>{const{scope:F,children:$,...H}=R,W=fe.useRef(null),J=Vt(P,W),ee=a(w,F);return fe.useEffect(()=>(ee.itemMap.set(W,{ref:W,...H}),()=>void ee.itemMap.delete(W))),d.jsx(E,{[_]:"",ref:J,children:$})});b.displayName=w;function V(R){const P=a(n+"CollectionConsumer",R);return fe.useCallback(()=>{const $=P.collectionRef.current;if(!$)return[];const H=Array.from($.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((ee,k)=>H.indexOf(ee.ref.current)-H.indexOf(k.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},V,r]}var Nn=globalThis?.document?T.useLayoutEffect:()=>{},hO=tg[" useId ".trim().toString()]||(()=>{}),fO=0;function Qi(n){const[e,t]=T.useState(hO());return Nn(()=>{t(r=>r??String(fO++))},[n]),n||(e?`radix-${e}`:"")}function pO(n){const e=mO(n),t=T.forwardRef((r,o)=>{const{children:a,...c}=r,f=T.Children.toArray(a),p=f.find(yO);if(p){const m=p.props.children,w=f.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return d.jsx(e,{...c,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,w):null})}return d.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function mO(n){const e=T.forwardRef((t,r)=>{const{children:o,...a}=t;if(T.isValidElement(o)){const c=_O(o),f=vO(a,o.props);return o.type!==T.Fragment&&(f.ref=r?Sl(r,c):c),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gO=Symbol("radix.slottable");function yO(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gO}function vO(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function _O(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var wO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=wO.reduce((n,e)=>{const t=pO(`Primitive.${e}`),r=T.forwardRef((o,a)=>{const{asChild:c,...f}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(p,{...f,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function xO(n,e){n&&lu.flushSync(()=>n.dispatchEvent(e))}function ro(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>e.current?.(...t),[])}var EO=tg[" useInsertionEffect ".trim().toString()]||Nn;function Wc({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,c]=TO({defaultProp:e,onChange:t}),f=n!==void 0,p=f?n:o;{const w=T.useRef(n!==void 0);T.useEffect(()=>{const _=w.current;_!==f&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=f},[f,r])}const m=T.useCallback(w=>{if(f){const _=SO(w)?w(n):w;_!==n&&c.current?.(_)}else a(w)},[f,n,a,c]);return[p,m]}function TO({defaultProp:n,onChange:e}){const[t,r]=T.useState(n),o=T.useRef(t),a=T.useRef(e);return EO(()=>{a.current=e},[e]),T.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function SO(n){return typeof n=="function"}var IO=T.createContext(void 0);function Jg(n){const e=T.useContext(IO);return n||e||"ltr"}var rm="rovingFocusGroup.onEntryFocus",CO={bubbles:!1,cancelable:!0},cu="RovingFocusGroup",[$m,tS,bO]=eS(cu),[AO,nS]=bl(cu,[bO]),[RO,PO]=AO(cu),rS=T.forwardRef((n,e)=>d.jsx($m.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx($m.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(kO,{...n,ref:e})})}));rS.displayName=cu;var kO=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:w=!1,..._}=n,E=T.useRef(null),b=Vt(e,E),V=Jg(a),[R,P]=Wc({prop:c,defaultProp:f??null,onChange:p,caller:cu}),[F,$]=T.useState(!1),H=ro(m),W=tS(t),J=T.useRef(!1),[ee,k]=T.useState(0);return T.useEffect(()=>{const I=E.current;if(I)return I.addEventListener(rm,H),()=>I.removeEventListener(rm,H)},[H]),d.jsx(RO,{scope:t,orientation:r,dir:V,loop:o,currentTabStopId:R,onItemFocus:T.useCallback(I=>P(I),[P]),onItemShiftTab:T.useCallback(()=>$(!0),[]),onFocusableItemAdd:T.useCallback(()=>k(I=>I+1),[]),onFocusableItemRemove:T.useCallback(()=>k(I=>I-1),[]),children:d.jsx(lt.div,{tabIndex:F||ee===0?-1:0,"data-orientation":r,..._,ref:b,style:{outline:"none",...n.style},onMouseDown:st(n.onMouseDown,()=>{J.current=!0}),onFocus:st(n.onFocus,I=>{const D=!J.current;if(I.target===I.currentTarget&&D&&!F){const N=new CustomEvent(rm,CO);if(I.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=W().filter(Q=>Q.focusable),j=O.find(Q=>Q.active),C=O.find(Q=>Q.id===R),me=[j,C,...O].filter(Boolean).map(Q=>Q.ref.current);oS(me,w)}}J.current=!1}),onBlur:st(n.onBlur,()=>$(!1))})})}),sS="RovingFocusGroupItem",iS=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:a,children:c,...f}=n,p=Qi(),m=a||p,w=PO(sS,t),_=w.currentTabStopId===m,E=tS(t),{onFocusableItemAdd:b,onFocusableItemRemove:V,currentTabStopId:R}=w;return T.useEffect(()=>{if(r)return b(),()=>V()},[r,b,V]),d.jsx($m.ItemSlot,{scope:t,id:m,focusable:r,active:o,children:d.jsx(lt.span,{tabIndex:_?0:-1,"data-orientation":w.orientation,...f,ref:e,onMouseDown:st(n.onMouseDown,P=>{r?w.onItemFocus(m):P.preventDefault()}),onFocus:st(n.onFocus,()=>w.onItemFocus(m)),onKeyDown:st(n.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){w.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const F=DO(P,w.orientation,w.dir);if(F!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let H=E().filter(W=>W.focusable).map(W=>W.ref.current);if(F==="last")H.reverse();else if(F==="prev"||F==="next"){F==="prev"&&H.reverse();const W=H.indexOf(P.currentTarget);H=w.loop?OO(H,W+1):H.slice(W+1)}setTimeout(()=>oS(H))}}),children:typeof c=="function"?c({isCurrentTabStop:_,hasTabStop:R!=null}):c})})});iS.displayName=sS;var NO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jO(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function DO(n,e,t){const r=jO(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NO[r]}function oS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function OO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var MO=rS,VO=iS;function LO(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var uu=n=>{const{present:e,children:t}=n,r=FO(e),o=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),a=Vt(r.ref,UO(o));return typeof t=="function"||r.isPresent?T.cloneElement(o,{ref:a}):null};uu.displayName="Presence";function FO(n){const[e,t]=T.useState(),r=T.useRef(null),o=T.useRef(n),a=T.useRef("none"),c=n?"mounted":"unmounted",[f,p]=LO(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const m=kd(r.current);a.current=f==="mounted"?m:"none"},[f]),Nn(()=>{const m=r.current,w=o.current;if(w!==n){const E=a.current,b=kd(m);n?p("MOUNT"):b==="none"||m?.display==="none"?p("UNMOUNT"):p(w&&E!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),Nn(()=>{if(e){let m;const w=e.ownerDocument.defaultView??window,_=b=>{const R=kd(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&R&&(p("ANIMATION_END"),!o.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",m=w.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},E=b=>{b.target===e&&(a.current=kd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{w.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function kd(n){return n?.animationName||"none"}function UO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var rf="Tabs",[zO]=bl(rf,[nS]),aS=nS(),[BO,Zg]=zO(rf),lS=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:f,activationMode:p="automatic",...m}=n,w=Jg(f),[_,E]=Wc({prop:r,onChange:o,defaultProp:a??"",caller:rf});return d.jsx(BO,{scope:t,baseId:Qi(),value:_,onValueChange:E,orientation:c,dir:w,activationMode:p,children:d.jsx(lt.div,{dir:w,"data-orientation":c,...m,ref:e})})});lS.displayName=rf;var cS="TabsList",uS=T.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,a=Zg(cS,t),c=aS(t);return d.jsx(MO,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:r,children:d.jsx(lt.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});uS.displayName=cS;var dS="TabsTrigger",hS=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=n,c=Zg(dS,t),f=aS(t),p=mS(c.baseId,r),m=gS(c.baseId,r),w=r===c.value;return d.jsx(VO,{asChild:!0,...f,focusable:!o,active:w,children:d.jsx(lt.button,{type:"button",role:"tab","aria-selected":w,"aria-controls":m,"data-state":w?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...a,ref:e,onMouseDown:st(n.onMouseDown,_=>{!o&&_.button===0&&_.ctrlKey===!1?c.onValueChange(r):_.preventDefault()}),onKeyDown:st(n.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&c.onValueChange(r)}),onFocus:st(n.onFocus,()=>{const _=c.activationMode!=="manual";!w&&!o&&_&&c.onValueChange(r)})})})});hS.displayName=dS;var fS="TabsContent",pS=T.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...c}=n,f=Zg(fS,t),p=mS(f.baseId,r),m=gS(f.baseId,r),w=r===f.value,_=T.useRef(w);return T.useEffect(()=>{const E=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(E)},[]),d.jsx(uu,{present:o||w,children:({present:E})=>d.jsx(lt.div,{"data-state":w?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!E,id:m,tabIndex:0,...c,ref:e,style:{...n.style,animationDuration:_.current?"0s":void 0},children:E&&a})})});pS.displayName=fS;function mS(n,e){return`${n}-trigger-${e}`}function gS(n,e){return`${n}-content-${e}`}var $O=lS,HO=uS,WO=hS,qO=pS;function ol({className:n,...e}){return d.jsx($O,{"data-slot":"tabs",className:ft("flex flex-col gap-2",n),...e})}function al({className:n,...e}){return d.jsx(HO,{"data-slot":"tabs-list",className:ft("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Ot({className:n,...e}){return d.jsx(WO,{"data-slot":"tabs-trigger",className:ft("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Mt({className:n,...e}){return d.jsx(qO,{"data-slot":"tabs-content",className:ft("flex-1 outline-none",n),...e})}function C0(n,[e,t]){return Math.min(t,Math.max(e,n))}function GO(n,e=globalThis?.document){const t=ro(n);T.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var KO="DismissableLayer",Hm="dismissableLayer.update",QO="dismissableLayer.pointerDownOutside",YO="dismissableLayer.focusOutside",b0,yS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ey=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:f,...p}=n,m=T.useContext(yS),[w,_]=T.useState(null),E=w?.ownerDocument??globalThis?.document,[,b]=T.useState({}),V=Vt(e,k=>_(k)),R=Array.from(m.layers),[P]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),F=R.indexOf(P),$=w?R.indexOf(w):-1,H=m.layersWithOutsidePointerEventsDisabled.size>0,W=$>=F,J=ZO(k=>{const I=k.target,D=[...m.branches].some(N=>N.contains(I));!W||D||(o?.(k),c?.(k),k.defaultPrevented||f?.())},E),ee=eM(k=>{const I=k.target;[...m.branches].some(N=>N.contains(I))||(a?.(k),c?.(k),k.defaultPrevented||f?.())},E);return GO(k=>{$===m.layers.size-1&&(r?.(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},E),T.useEffect(()=>{if(w)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(b0=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(w)),m.layers.add(w),A0(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=b0)}},[w,E,t,m]),T.useEffect(()=>()=>{w&&(m.layers.delete(w),m.layersWithOutsidePointerEventsDisabled.delete(w),A0())},[w,m]),T.useEffect(()=>{const k=()=>b({});return document.addEventListener(Hm,k),()=>document.removeEventListener(Hm,k)},[]),d.jsx(lt.div,{...p,ref:V,style:{pointerEvents:H?W?"auto":"none":void 0,...n.style},onFocusCapture:st(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:st(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:st(n.onPointerDownCapture,J.onPointerDownCapture)})});ey.displayName=KO;var XO="DismissableLayerBranch",JO=T.forwardRef((n,e)=>{const t=T.useContext(yS),r=T.useRef(null),o=Vt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),d.jsx(lt.div,{...n,ref:o})});JO.displayName=XO;function ZO(n,e=globalThis?.document){const t=ro(n),r=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let p=function(){vS(QO,t,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function eM(n,e=globalThis?.document){const t=ro(n),r=T.useRef(!1);return T.useEffect(()=>{const o=a=>{a.target&&!r.current&&vS(YO,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A0(){const n=new CustomEvent(Hm);document.dispatchEvent(n)}function vS(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?xO(o,a):o.dispatchEvent(a)}var sm=0;function _S(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??R0()),document.body.insertAdjacentElement("beforeend",n[1]??R0()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sm--}},[])}function R0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var im="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",P0={bubbles:!1,cancelable:!0},tM="FocusScope",ty=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[f,p]=T.useState(null),m=ro(o),w=ro(a),_=T.useRef(null),E=Vt(e,R=>p(R)),b=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let R=function(H){if(b.paused||!f)return;const W=H.target;f.contains(W)?_.current=W:Fi(_.current,{select:!0})},P=function(H){if(b.paused||!f)return;const W=H.relatedTarget;W!==null&&(f.contains(W)||Fi(_.current,{select:!0}))},F=function(H){if(document.activeElement===document.body)for(const J of H)J.removedNodes.length>0&&Fi(f)};document.addEventListener("focusin",R),document.addEventListener("focusout",P);const $=new MutationObserver(F);return f&&$.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",P),$.disconnect()}}},[r,f,b.paused]),T.useEffect(()=>{if(f){N0.add(b);const R=document.activeElement;if(!f.contains(R)){const F=new CustomEvent(im,P0);f.addEventListener(im,m),f.dispatchEvent(F),F.defaultPrevented||(nM(aM(wS(f)),{select:!0}),document.activeElement===R&&Fi(f))}return()=>{f.removeEventListener(im,m),setTimeout(()=>{const F=new CustomEvent(om,P0);f.addEventListener(om,w),f.dispatchEvent(F),F.defaultPrevented||Fi(R??document.body,{select:!0}),f.removeEventListener(om,w),N0.remove(b)},0)}}},[f,m,w,b]);const V=T.useCallback(R=>{if(!t&&!r||b.paused)return;const P=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,F=document.activeElement;if(P&&F){const $=R.currentTarget,[H,W]=rM($);H&&W?!R.shiftKey&&F===W?(R.preventDefault(),t&&Fi(H,{select:!0})):R.shiftKey&&F===H&&(R.preventDefault(),t&&Fi(W,{select:!0})):F===$&&R.preventDefault()}},[t,r,b.paused]);return d.jsx(lt.div,{tabIndex:-1,...c,ref:E,onKeyDown:V})});ty.displayName=tM;function nM(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Fi(r,{select:e}),document.activeElement!==t)return}function rM(n){const e=wS(n),t=k0(e,n),r=k0(e.reverse(),n);return[t,r]}function wS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function k0(n,e){for(const t of n)if(!sM(t,{upTo:e}))return t}function sM(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function iM(n){return n instanceof HTMLInputElement&&"select"in n}function Fi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&iM(n)&&e&&n.select()}}var N0=oM();function oM(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=j0(n,e),n.unshift(e)},remove(e){n=j0(n,e),n[0]?.resume()}}}function j0(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function aM(n){return n.filter(e=>e.tagName!=="A")}const lM=["top","right","bottom","left"],so=Math.min,ar=Math.max,Eh=Math.round,Nd=Math.floor,Rs=n=>({x:n,y:n}),cM={left:"right",right:"left",bottom:"top",top:"bottom"},uM={start:"end",end:"start"};function Wm(n,e,t){return ar(n,so(e,t))}function oi(n,e){return typeof n=="function"?n(e):n}function ai(n){return n.split("-")[0]}function Al(n){return n.split("-")[1]}function ny(n){return n==="x"?"y":"x"}function ry(n){return n==="y"?"height":"width"}const dM=new Set(["top","bottom"]);function xs(n){return dM.has(ai(n))?"y":"x"}function sy(n){return ny(xs(n))}function hM(n,e,t){t===void 0&&(t=!1);const r=Al(n),o=sy(n),a=ry(o);let c=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Th(c)),[c,Th(c)]}function fM(n){const e=Th(n);return[qm(n),e,qm(e)]}function qm(n){return n.replace(/start|end/g,e=>uM[e])}const D0=["left","right"],O0=["right","left"],pM=["top","bottom"],mM=["bottom","top"];function gM(n,e,t){switch(n){case"top":case"bottom":return t?e?O0:D0:e?D0:O0;case"left":case"right":return e?pM:mM;default:return[]}}function yM(n,e,t,r){const o=Al(n);let a=gM(ai(n),t==="start",r);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(qm)))),a}function Th(n){return n.replace(/left|right|bottom|top/g,e=>cM[e])}function vM(n){return{top:0,right:0,bottom:0,left:0,...n}}function xS(n){return typeof n!="number"?vM(n):{top:n,right:n,bottom:n,left:n}}function Sh(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function M0(n,e,t){let{reference:r,floating:o}=n;const a=xs(e),c=sy(e),f=ry(c),p=ai(e),m=a==="y",w=r.x+r.width/2-o.width/2,_=r.y+r.height/2-o.height/2,E=r[f]/2-o[f]/2;let b;switch(p){case"top":b={x:w,y:r.y-o.height};break;case"bottom":b={x:w,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:_};break;case"left":b={x:r.x-o.width,y:_};break;default:b={x:r.x,y:r.y}}switch(Al(e)){case"start":b[c]-=E*(t&&m?-1:1);break;case"end":b[c]+=E*(t&&m?-1:1);break}return b}const _M=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,f=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:w,y:_}=M0(m,r,p),E=r,b={},V=0;for(let R=0;R<f.length;R++){const{name:P,fn:F}=f[R],{x:$,y:H,data:W,reset:J}=await F({x:w,y:_,initialPlacement:r,placement:E,strategy:o,middlewareData:b,rects:m,platform:c,elements:{reference:n,floating:e}});w=$??w,_=H??_,b={...b,[P]:{...b[P],...W}},J&&V<=50&&(V++,typeof J=="object"&&(J.placement&&(E=J.placement),J.rects&&(m=J.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x:w,y:_}=M0(m,E,p)),R=-1)}return{x:w,y:_,placement:E,strategy:o,middlewareData:b}};async function qc(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:c,elements:f,strategy:p}=n,{boundary:m="clippingAncestors",rootBoundary:w="viewport",elementContext:_="floating",altBoundary:E=!1,padding:b=0}=oi(e,n),V=xS(b),P=f[E?_==="floating"?"reference":"floating":_],F=Sh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(P)))==null||t?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:m,rootBoundary:w,strategy:p})),$=_==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),W=await(a.isElement==null?void 0:a.isElement(H))?await(a.getScale==null?void 0:a.getScale(H))||{x:1,y:1}:{x:1,y:1},J=Sh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:H,strategy:p}):$);return{top:(F.top-J.top+V.top)/W.y,bottom:(J.bottom-F.bottom+V.bottom)/W.y,left:(F.left-J.left+V.left)/W.x,right:(J.right-F.right+V.right)/W.x}}const wM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:c,elements:f,middlewareData:p}=e,{element:m,padding:w=0}=oi(n,e)||{};if(m==null)return{};const _=xS(w),E={x:t,y:r},b=sy(o),V=ry(b),R=await c.getDimensions(m),P=b==="y",F=P?"top":"left",$=P?"bottom":"right",H=P?"clientHeight":"clientWidth",W=a.reference[V]+a.reference[b]-E[b]-a.floating[V],J=E[b]-a.reference[b],ee=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=ee?ee[H]:0;(!k||!await(c.isElement==null?void 0:c.isElement(ee)))&&(k=f.floating[H]||a.floating[V]);const I=W/2-J/2,D=k/2-R[V]/2-1,N=so(_[F],D),O=so(_[$],D),j=N,C=k-R[V]-O,ue=k/2-R[V]/2+I,me=Wm(j,ue,C),Q=!p.arrow&&Al(o)!=null&&ue!==me&&a.reference[V]/2-(ue<j?N:O)-R[V]/2<0,ae=Q?ue<j?ue-j:ue-C:0;return{[b]:E[b]+ae,data:{[b]:me,centerOffset:ue-me-ae,...Q&&{alignmentOffset:ae}},reset:Q}}}),xM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:c,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:w=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:V="none",flipAlignment:R=!0,...P}=oi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const F=ai(o),$=xs(f),H=ai(f)===f,W=await(p.isRTL==null?void 0:p.isRTL(m.floating)),J=E||(H||!R?[Th(f)]:fM(f)),ee=V!=="none";!E&&ee&&J.push(...yM(f,R,V,W));const k=[f,...J],I=await qc(e,P),D=[];let N=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&D.push(I[F]),_){const ue=hM(o,c,W);D.push(I[ue[0]],I[ue[1]])}if(N=[...N,{placement:o,overflows:D}],!D.every(ue=>ue<=0)){var O,j;const ue=(((O=a.flip)==null?void 0:O.index)||0)+1,me=k[ue];if(me&&(!(_==="alignment"?$!==xs(me):!1)||N.every(L=>xs(L.placement)===$?L.overflows[0]>0:!0)))return{data:{index:ue,overflows:N},reset:{placement:me}};let Q=(j=N.filter(ae=>ae.overflows[0]<=0).sort((ae,L)=>ae.overflows[1]-L.overflows[1])[0])==null?void 0:j.placement;if(!Q)switch(b){case"bestFit":{var C;const ae=(C=N.filter(L=>{if(ee){const se=xs(L.placement);return se===$||se==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(se=>se>0).reduce((se,te)=>se+te,0)]).sort((L,se)=>L[1]-se[1])[0])==null?void 0:C[0];ae&&(Q=ae);break}case"initialPlacement":Q=f;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}};function V0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function L0(n){return lM.some(e=>n[e]>=0)}const EM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=oi(n,e);switch(r){case"referenceHidden":{const a=await qc(e,{...o,elementContext:"reference"}),c=V0(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:L0(c)}}}case"escaped":{const a=await qc(e,{...o,altBoundary:!0}),c=V0(a,t.floating);return{data:{escapedOffsets:c,escaped:L0(c)}}}default:return{}}}}},ES=new Set(["left","top"]);async function TM(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=ai(t),f=Al(t),p=xs(t)==="y",m=ES.has(c)?-1:1,w=a&&p?-1:1,_=oi(e,n);let{mainAxis:E,crossAxis:b,alignmentAxis:V}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof V=="number"&&(b=f==="end"?V*-1:V),p?{x:b*w,y:E*m}:{x:E*m,y:b*w}}const SM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:c,middlewareData:f}=e,p=await TM(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:c}}}}},IM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:f={fn:P=>{let{x:F,y:$}=P;return{x:F,y:$}}},...p}=oi(n,e),m={x:t,y:r},w=await qc(e,p),_=xs(ai(o)),E=ny(_);let b=m[E],V=m[_];if(a){const P=E==="y"?"top":"left",F=E==="y"?"bottom":"right",$=b+w[P],H=b-w[F];b=Wm($,b,H)}if(c){const P=_==="y"?"top":"left",F=_==="y"?"bottom":"right",$=V+w[P],H=V-w[F];V=Wm($,V,H)}const R=f.fn({...e,[E]:b,[_]:V});return{...R,data:{x:R.x-t,y:R.y-r,enabled:{[E]:a,[_]:c}}}}}},CM=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:c}=e,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=oi(n,e),w={x:t,y:r},_=xs(o),E=ny(_);let b=w[E],V=w[_];const R=oi(f,e),P=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(p){const H=E==="y"?"height":"width",W=a.reference[E]-a.floating[H]+P.mainAxis,J=a.reference[E]+a.reference[H]-P.mainAxis;b<W?b=W:b>J&&(b=J)}if(m){var F,$;const H=E==="y"?"width":"height",W=ES.has(ai(o)),J=a.reference[_]-a.floating[H]+(W&&((F=c.offset)==null?void 0:F[_])||0)+(W?0:P.crossAxis),ee=a.reference[_]+a.reference[H]+(W?0:(($=c.offset)==null?void 0:$[_])||0)-(W?P.crossAxis:0);V<J?V=J:V>ee&&(V=ee)}return{[E]:b,[_]:V}}}},bM=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:c,elements:f}=e,{apply:p=()=>{},...m}=oi(n,e),w=await qc(e,m),_=ai(o),E=Al(o),b=xs(o)==="y",{width:V,height:R}=a.floating;let P,F;_==="top"||_==="bottom"?(P=_,F=E===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(F=_,P=E==="end"?"top":"bottom");const $=R-w.top-w.bottom,H=V-w.left-w.right,W=so(R-w[P],$),J=so(V-w[F],H),ee=!e.middlewareData.shift;let k=W,I=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=H),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=$),ee&&!E){const N=ar(w.left,0),O=ar(w.right,0),j=ar(w.top,0),C=ar(w.bottom,0);b?I=V-2*(N!==0||O!==0?N+O:ar(w.left,w.right)):k=R-2*(j!==0||C!==0?j+C:ar(w.top,w.bottom))}await p({...e,availableWidth:I,availableHeight:k});const D=await c.getDimensions(f.floating);return V!==D.width||R!==D.height?{reset:{rects:!0}}:{}}}};function sf(){return typeof window<"u"}function Rl(n){return TS(n)?(n.nodeName||"").toLowerCase():"#document"}function hr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Os(n){var e;return(e=(TS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function TS(n){return sf()?n instanceof Node||n instanceof hr(n).Node:!1}function Qr(n){return sf()?n instanceof Element||n instanceof hr(n).Element:!1}function Ns(n){return sf()?n instanceof HTMLElement||n instanceof hr(n).HTMLElement:!1}function F0(n){return!sf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof hr(n).ShadowRoot}const AM=new Set(["inline","contents"]);function du(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Yr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!AM.has(o)}const RM=new Set(["table","td","th"]);function PM(n){return RM.has(Rl(n))}const kM=[":popover-open",":modal"];function of(n){return kM.some(e=>{try{return n.matches(e)}catch{return!1}})}const NM=["transform","translate","scale","rotate","perspective"],jM=["transform","translate","scale","rotate","perspective","filter"],DM=["paint","layout","strict","content"];function iy(n){const e=oy(),t=Qr(n)?Yr(n):n;return NM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||jM.some(r=>(t.willChange||"").includes(r))||DM.some(r=>(t.contain||"").includes(r))}function OM(n){let e=io(n);for(;Ns(e)&&!ll(e);){if(iy(e))return e;if(of(e))return null;e=io(e)}return null}function oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MM=new Set(["html","body","#document"]);function ll(n){return MM.has(Rl(n))}function Yr(n){return hr(n).getComputedStyle(n)}function af(n){return Qr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function io(n){if(Rl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||F0(n)&&n.host||Os(n);return F0(e)?e.host:e}function SS(n){const e=io(n);return ll(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ns(e)&&du(e)?e:SS(e)}function Gc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=SS(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),c=hr(o);if(a){const f=Gm(c);return e.concat(c,c.visualViewport||[],du(o)?o:[],f&&t?Gc(f):[])}return e.concat(o,Gc(o,[],t))}function Gm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function IS(n){const e=Yr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ns(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:r,f=Eh(t)!==a||Eh(r)!==c;return f&&(t=a,r=c),{width:t,height:r,$:f}}function ay(n){return Qr(n)?n:n.contextElement}function Ja(n){const e=ay(n);if(!Ns(e))return Rs(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=IS(e);let c=(a?Eh(t.width):t.width)/r,f=(a?Eh(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const VM=Rs(0);function CS(n){const e=hr(n);return!oy()||!e.visualViewport?VM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LM(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==hr(n)?!1:e}function qo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=ay(n);let c=Rs(1);e&&(r?Qr(r)&&(c=Ja(r)):c=Ja(n));const f=LM(a,t,r)?CS(a):Rs(0);let p=(o.left+f.x)/c.x,m=(o.top+f.y)/c.y,w=o.width/c.x,_=o.height/c.y;if(a){const E=hr(a),b=r&&Qr(r)?hr(r):r;let V=E,R=Gm(V);for(;R&&r&&b!==V;){const P=Ja(R),F=R.getBoundingClientRect(),$=Yr(R),H=F.left+(R.clientLeft+parseFloat($.paddingLeft))*P.x,W=F.top+(R.clientTop+parseFloat($.paddingTop))*P.y;p*=P.x,m*=P.y,w*=P.x,_*=P.y,p+=H,m+=W,V=hr(R),R=Gm(V)}}return Sh({width:w,height:_,x:p,y:m})}function lf(n,e){const t=af(n).scrollLeft;return e?e.left+t:qo(Os(n)).left+t}function bS(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-lf(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function FM(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",c=Os(r),f=e?of(e.floating):!1;if(r===c||f&&a)return t;let p={scrollLeft:0,scrollTop:0},m=Rs(1);const w=Rs(0),_=Ns(r);if((_||!_&&!a)&&((Rl(r)!=="body"||du(c))&&(p=af(r)),Ns(r))){const b=qo(r);m=Ja(r),w.x=b.x+r.clientLeft,w.y=b.y+r.clientTop}const E=c&&!_&&!a?bS(c,p):Rs(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+w.x+E.x,y:t.y*m.y-p.scrollTop*m.y+w.y+E.y}}function UM(n){return Array.from(n.getClientRects())}function zM(n){const e=Os(n),t=af(n),r=n.ownerDocument.body,o=ar(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ar(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+lf(n);const f=-t.scrollTop;return Yr(r).direction==="rtl"&&(c+=ar(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:c,y:f}}const U0=25;function BM(n,e){const t=hr(n),r=Os(n),o=t.visualViewport;let a=r.clientWidth,c=r.clientHeight,f=0,p=0;if(o){a=o.width,c=o.height;const w=oy();(!w||w&&e==="fixed")&&(f=o.offsetLeft,p=o.offsetTop)}const m=lf(r);if(m<=0){const w=r.ownerDocument,_=w.body,E=getComputedStyle(_),b=w.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,V=Math.abs(r.clientWidth-_.clientWidth-b);V<=U0&&(a-=V)}else m<=U0&&(a+=m);return{width:a,height:c,x:f,y:p}}const $M=new Set(["absolute","fixed"]);function HM(n,e){const t=qo(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=Ns(n)?Ja(n):Rs(1),c=n.clientWidth*a.x,f=n.clientHeight*a.y,p=o*a.x,m=r*a.y;return{width:c,height:f,x:p,y:m}}function z0(n,e,t){let r;if(e==="viewport")r=BM(n,t);else if(e==="document")r=zM(Os(n));else if(Qr(e))r=HM(e,t);else{const o=CS(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Sh(r)}function AS(n,e){const t=io(n);return t===e||!Qr(t)||ll(t)?!1:Yr(t).position==="fixed"||AS(t,e)}function WM(n,e){const t=e.get(n);if(t)return t;let r=Gc(n,[],!1).filter(f=>Qr(f)&&Rl(f)!=="body"),o=null;const a=Yr(n).position==="fixed";let c=a?io(n):n;for(;Qr(c)&&!ll(c);){const f=Yr(c),p=iy(c);!p&&f.position==="fixed"&&(o=null),(a?!p&&!o:!p&&f.position==="static"&&!!o&&$M.has(o.position)||du(c)&&!p&&AS(n,c))?r=r.filter(w=>w!==c):o=f,c=io(c)}return e.set(n,r),r}function qM(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const c=[...t==="clippingAncestors"?of(e)?[]:WM(e,this._c):[].concat(t),r],f=c[0],p=c.reduce((m,w)=>{const _=z0(e,w,o);return m.top=ar(_.top,m.top),m.right=so(_.right,m.right),m.bottom=so(_.bottom,m.bottom),m.left=ar(_.left,m.left),m},z0(e,f,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function GM(n){const{width:e,height:t}=IS(n);return{width:e,height:t}}function KM(n,e,t){const r=Ns(e),o=Os(e),a=t==="fixed",c=qo(n,!0,a,e);let f={scrollLeft:0,scrollTop:0};const p=Rs(0);function m(){p.x=lf(o)}if(r||!r&&!a)if((Rl(e)!=="body"||du(o))&&(f=af(e)),r){const b=qo(e,!0,a,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else o&&m();a&&!r&&o&&m();const w=o&&!r&&!a?bS(o,f):Rs(0),_=c.left+f.scrollLeft-p.x-w.x,E=c.top+f.scrollTop-p.y-w.y;return{x:_,y:E,width:c.width,height:c.height}}function am(n){return Yr(n).position==="static"}function B0(n,e){if(!Ns(n)||Yr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Os(n)===t&&(t=t.ownerDocument.body),t}function RS(n,e){const t=hr(n);if(of(n))return t;if(!Ns(n)){let o=io(n);for(;o&&!ll(o);){if(Qr(o)&&!am(o))return o;o=io(o)}return t}let r=B0(n,e);for(;r&&PM(r)&&am(r);)r=B0(r,e);return r&&ll(r)&&am(r)&&!iy(r)?t:r||OM(n)||t}const QM=async function(n){const e=this.getOffsetParent||RS,t=this.getDimensions,r=await t(n.floating);return{reference:KM(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YM(n){return Yr(n).direction==="rtl"}const XM={convertOffsetParentRelativeRectToViewportRelativeRect:FM,getDocumentElement:Os,getClippingRect:qM,getOffsetParent:RS,getElementRects:QM,getClientRects:UM,getDimensions:GM,getScale:Ja,isElement:Qr,isRTL:YM};function PS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function JM(n,e){let t=null,r;const o=Os(n);function a(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),a();const m=n.getBoundingClientRect(),{left:w,top:_,width:E,height:b}=m;if(f||e(),!E||!b)return;const V=Nd(_),R=Nd(o.clientWidth-(w+E)),P=Nd(o.clientHeight-(_+b)),F=Nd(w),H={rootMargin:-V+"px "+-R+"px "+-P+"px "+-F+"px",threshold:ar(0,so(1,p))||1};let W=!0;function J(ee){const k=ee[0].intersectionRatio;if(k!==p){if(!W)return c();k?c(!1,k):r=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!PS(m,n.getBoundingClientRect())&&c(),W=!1}try{t=new IntersectionObserver(J,{...H,root:o.ownerDocument})}catch{t=new IntersectionObserver(J,H)}t.observe(n)}return c(!0),a}function ZM(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=ay(n),w=o||a?[...m?Gc(m):[],...Gc(e)]:[];w.forEach(F=>{o&&F.addEventListener("scroll",t,{passive:!0}),a&&F.addEventListener("resize",t)});const _=m&&f?JM(m,t):null;let E=-1,b=null;c&&(b=new ResizeObserver(F=>{let[$]=F;$&&$.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var H;(H=b)==null||H.observe(e)})),t()}),m&&!p&&b.observe(m),b.observe(e));let V,R=p?qo(n):null;p&&P();function P(){const F=qo(n);R&&!PS(R,F)&&t(),R=F,V=requestAnimationFrame(P)}return t(),()=>{var F;w.forEach($=>{o&&$.removeEventListener("scroll",t),a&&$.removeEventListener("resize",t)}),_?.(),(F=b)==null||F.disconnect(),b=null,p&&cancelAnimationFrame(V)}}const eV=SM,tV=IM,nV=xM,rV=bM,sV=EM,$0=wM,iV=CM,oV=(n,e,t)=>{const r=new Map,o={platform:XM,...t},a={...o.platform,_c:r};return _M(n,e,{...o,platform:a})};var aV=typeof document<"u",lV=function(){},Gd=aV?T.useLayoutEffect:lV;function Ih(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ih(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!Ih(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function kS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function H0(n,e){const t=kS(n);return Math.round(e*t)/t}function lm(n){const e=T.useRef(n);return Gd(()=>{e.current=n}),e}function cV(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:c}={},transform:f=!0,whileElementsMounted:p,open:m}=n,[w,_]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,b]=T.useState(r);Ih(E,r)||b(r);const[V,R]=T.useState(null),[P,F]=T.useState(null),$=T.useCallback(L=>{L!==ee.current&&(ee.current=L,R(L))},[]),H=T.useCallback(L=>{L!==k.current&&(k.current=L,F(L))},[]),W=a||V,J=c||P,ee=T.useRef(null),k=T.useRef(null),I=T.useRef(w),D=p!=null,N=lm(p),O=lm(o),j=lm(m),C=T.useCallback(()=>{if(!ee.current||!k.current)return;const L={placement:e,strategy:t,middleware:E};O.current&&(L.platform=O.current),oV(ee.current,k.current,L).then(se=>{const te={...se,isPositioned:j.current!==!1};ue.current&&!Ih(I.current,te)&&(I.current=te,lu.flushSync(()=>{_(te)}))})},[E,e,t,O,j]);Gd(()=>{m===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,_(L=>({...L,isPositioned:!1})))},[m]);const ue=T.useRef(!1);Gd(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Gd(()=>{if(W&&(ee.current=W),J&&(k.current=J),W&&J){if(N.current)return N.current(W,J,C);C()}},[W,J,C,N,D]);const me=T.useMemo(()=>({reference:ee,floating:k,setReference:$,setFloating:H}),[$,H]),Q=T.useMemo(()=>({reference:W,floating:J}),[W,J]),ae=T.useMemo(()=>{const L={position:t,left:0,top:0};if(!Q.floating)return L;const se=H0(Q.floating,w.x),te=H0(Q.floating,w.y);return f?{...L,transform:"translate("+se+"px, "+te+"px)",...kS(Q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:te}},[t,f,Q.floating,w.x,w.y]);return T.useMemo(()=>({...w,update:C,refs:me,elements:Q,floatingStyles:ae}),[w,C,me,Q,ae])}const uV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?$0({element:r.current,padding:o}).fn(t):{}:r?$0({element:r,padding:o}).fn(t):{}}}},dV=(n,e)=>({...eV(n),options:[n,e]}),hV=(n,e)=>({...tV(n),options:[n,e]}),fV=(n,e)=>({...iV(n),options:[n,e]}),pV=(n,e)=>({...nV(n),options:[n,e]}),mV=(n,e)=>({...rV(n),options:[n,e]}),gV=(n,e)=>({...sV(n),options:[n,e]}),yV=(n,e)=>({...uV(n),options:[n,e]});var vV="Arrow",NS=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return d.jsx(lt.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});NS.displayName=vV;var _V=NS;function wV(n){const[e,t]=T.useState(void 0);return Nn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,f;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,f=m.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var ly="Popper",[jS,DS]=bl(ly),[xV,OS]=jS(ly),MS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=T.useState(null);return d.jsx(xV,{scope:e,anchor:r,onAnchorChange:o,children:t})};MS.displayName=ly;var VS="PopperAnchor",LS=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=OS(VS,t),c=T.useRef(null),f=Vt(e,c),p=T.useRef(null);return T.useEffect(()=>{const m=p.current;p.current=r?.current||c.current,m!==p.current&&a.onAnchorChange(p.current)}),r?null:d.jsx(lt.div,{...o,ref:f})});LS.displayName=VS;var cy="PopperContent",[EV,TV]=jS(cy),FS=T.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:w=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:V,...R}=n,P=OS(cy,t),[F,$]=T.useState(null),H=Vt(e,oe=>$(oe)),[W,J]=T.useState(null),ee=wV(W),k=ee?.width??0,I=ee?.height??0,D=r+(a!=="center"?"-"+a:""),N=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},O=Array.isArray(m)?m:[m],j=O.length>0,C={padding:N,boundary:O.filter(IV),altBoundary:j},{refs:ue,floatingStyles:me,placement:Q,isPositioned:ae,middlewareData:L}=cV({strategy:"fixed",placement:D,whileElementsMounted:(...oe)=>ZM(...oe,{animationFrame:b==="always"}),elements:{reference:P.anchor},middleware:[dV({mainAxis:o+I,alignmentAxis:c}),p&&hV({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?fV():void 0,...C}),p&&pV({...C}),mV({...C,apply:({elements:oe,rects:ge,availableWidth:Re,availableHeight:De})=>{const{width:He,height:Ge}=ge.reference,At=oe.floating.style;At.setProperty("--radix-popper-available-width",`${Re}px`),At.setProperty("--radix-popper-available-height",`${De}px`),At.setProperty("--radix-popper-anchor-width",`${He}px`),At.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),W&&yV({element:W,padding:f}),CV({arrowWidth:k,arrowHeight:I}),E&&gV({strategy:"referenceHidden",...C})]}),[se,te]=BS(Q),z=ro(V);Nn(()=>{ae&&z?.()},[ae,z]);const Z=L.arrow?.x,ie=L.arrow?.y,he=L.arrow?.centerOffset!==0,[ve,be]=T.useState();return Nn(()=>{F&&be(window.getComputedStyle(F).zIndex)},[F]),d.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:ae?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(EV,{scope:t,placedSide:se,onArrowChange:J,arrowX:Z,arrowY:ie,shouldHideArrow:he,children:d.jsx(lt.div,{"data-side":se,"data-align":te,...R,ref:H,style:{...R.style,animation:ae?void 0:"none"}})})})});FS.displayName=cy;var US="PopperArrow",SV={top:"bottom",right:"left",bottom:"top",left:"right"},zS=T.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=TV(US,r),c=SV[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(_V,{...o,ref:t,style:{...o.style,display:"block"}})})});zS.displayName=US;function IV(n){return n!==null}var CV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,f=c?0:n.arrowWidth,p=c?0:n.arrowHeight,[m,w]=BS(t),_={start:"0%",center:"50%",end:"100%"}[w],E=(o.arrow?.x??0)+f/2,b=(o.arrow?.y??0)+p/2;let V="",R="";return m==="bottom"?(V=c?_:`${E}px`,R=`${-p}px`):m==="top"?(V=c?_:`${E}px`,R=`${r.floating.height+p}px`):m==="right"?(V=`${-p}px`,R=c?_:`${b}px`):m==="left"&&(V=`${r.floating.width+p}px`,R=c?_:`${b}px`),{data:{x:V,y:R}}}});function BS(n){const[e,t="center"]=n.split("-");return[e,t]}var bV=MS,AV=LS,RV=FS,PV=zS,kV="Portal",uy=T.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=T.useState(!1);Nn(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?JT.createPortal(d.jsx(lt.div,{...r,ref:e}),c):null});uy.displayName=kV;function NV(n){const e=jV(n),t=T.forwardRef((r,o)=>{const{children:a,...c}=r,f=T.Children.toArray(a),p=f.find(OV);if(p){const m=p.props.children,w=f.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return d.jsx(e,{...c,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,w):null})}return d.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function jV(n){const e=T.forwardRef((t,r)=>{const{children:o,...a}=t;if(T.isValidElement(o)){const c=VV(o),f=MV(a,o.props);return o.type!==T.Fragment&&(f.ref=r?Sl(r,c):c),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var DV=Symbol("radix.slottable");function OV(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===DV}function MV(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function VV(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function LV(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var $S=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FV="VisuallyHidden",UV=T.forwardRef((n,e)=>d.jsx(lt.span,{...n,ref:e,style:{...$S,...n.style}}));UV.displayName=FV;var zV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Fa=new WeakMap,jd=new WeakMap,Dd={},cm=0,HS=function(n){return n&&(n.host||HS(n.parentNode))},BV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=HS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},$V=function(n,e,t,r){var o=BV(e,Array.isArray(n)?n:[n]);Dd[t]||(Dd[t]=new WeakMap);var a=Dd[t],c=[],f=new Set,p=new Set(o),m=function(_){!_||f.has(_)||(f.add(_),m(_.parentNode))};o.forEach(m);var w=function(_){!_||p.has(_)||Array.prototype.forEach.call(_.children,function(E){if(f.has(E))w(E);else try{var b=E.getAttribute(r),V=b!==null&&b!=="false",R=(Fa.get(E)||0)+1,P=(a.get(E)||0)+1;Fa.set(E,R),a.set(E,P),c.push(E),R===1&&V&&jd.set(E,!0),P===1&&E.setAttribute(t,"true"),V||E.setAttribute(r,"true")}catch(F){console.error("aria-hidden: cannot operate on ",E,F)}})};return w(e),f.clear(),cm++,function(){c.forEach(function(_){var E=Fa.get(_)-1,b=a.get(_)-1;Fa.set(_,E),a.set(_,b),E||(jd.has(_)||_.removeAttribute(r),jd.delete(_)),b||_.removeAttribute(t)}),cm--,cm||(Fa=new WeakMap,Fa=new WeakMap,jd=new WeakMap,Dd={})}},WS=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=zV(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),$V(r,o,t,"aria-hidden")):function(){return null}},ws=function(){return ws=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ws.apply(this,arguments)};function qS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function HV(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Kd="right-scroll-bar-position",Qd="width-before-scroll-bar",WV="with-scroll-bars-hidden",qV="--removed-body-scroll-bar-size";function um(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function GV(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var KV=typeof window<"u"?T.useLayoutEffect:T.useEffect,W0=new WeakMap;function QV(n,e){var t=GV(null,function(r){return n.forEach(function(o){return um(o,r)})});return KV(function(){var r=W0.get(t);if(r){var o=new Set(r),a=new Set(n),c=t.current;o.forEach(function(f){a.has(f)||um(f,null)}),a.forEach(function(f){o.has(f)||um(f,c)})}W0.set(t,n)},[n]),t}function YV(n){return n}function XV(n,e){e===void 0&&(e=YV);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,r);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(a){for(r=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(f){return a(f)},filter:function(){return t}}},assignMedium:function(a){r=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(a),c=t}var p=function(){var w=c;c=[],w.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(w){c.push(w),m()},filter:function(w){return c=c.filter(w),t}}}};return o}function JV(n){n===void 0&&(n={});var e=XV(null);return e.options=ws({async:!0,ssr:!1},n),e}var GS=function(n){var e=n.sideCar,t=qS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ws({},t))};GS.isSideCarExport=!0;function ZV(n,e){return n.useMedium(e),GS}var KS=JV(),dm=function(){},cf=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),o=r[0],a=r[1],c=n.forwardProps,f=n.children,p=n.className,m=n.removeScrollBar,w=n.enabled,_=n.shards,E=n.sideCar,b=n.noRelative,V=n.noIsolation,R=n.inert,P=n.allowPinchZoom,F=n.as,$=F===void 0?"div":F,H=n.gapMode,W=qS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=E,ee=QV([t,e]),k=ws(ws({},W),o);return T.createElement(T.Fragment,null,w&&T.createElement(J,{sideCar:KS,removeScrollBar:m,shards:_,noRelative:b,noIsolation:V,inert:R,setCallbacks:a,allowPinchZoom:!!P,lockRef:t,gapMode:H}),c?T.cloneElement(T.Children.only(f),ws(ws({},k),{ref:ee})):T.createElement($,ws({},k,{className:p,ref:ee}),f))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:Qd,zeroRight:Kd};var eL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=eL();return e&&n.setAttribute("nonce",e),n}function nL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function rL(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var sL=function(){var n=0,e=null;return{add:function(t){n==0&&(e=tL())&&(nL(e,t),rL(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iL=function(){var n=sL();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},QS=function(){var n=iL(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},oL={left:0,top:0,right:0,gap:0},hm=function(n){return parseInt(n||"",10)||0},aL=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[hm(t),hm(r),hm(o)]},lL=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return oL;var e=aL(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},cL=QS(),Za="data-scroll-locked",uL=function(n,e,t,r){var o=n.left,a=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(WV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kd,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Qd,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(qV,": ").concat(f,`px;
  }
`)},q0=function(){var n=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(n)?n:0},dL=function(){T.useEffect(function(){return document.body.setAttribute(Za,(q0()+1).toString()),function(){var n=q0()-1;n<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,n.toString())}},[])},hL=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;dL();var a=T.useMemo(function(){return lL(o)},[o]);return T.createElement(cL,{styles:uL(a,!e,o,t?"":"!important")})},Km=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return Km=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{Km=!1}var Ua=Km?{passive:!1}:!1,fL=function(n){return n.tagName==="TEXTAREA"},YS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!fL(n)&&t[e]==="visible")},pL=function(n){return YS(n,"overflowY")},mL=function(n){return YS(n,"overflowX")},G0=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=XS(n,r);if(o){var a=JS(n,r),c=a[1],f=a[2];if(c>f)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},gL=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},yL=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},XS=function(n,e){return n==="v"?pL(e):mL(e)},JS=function(n,e){return n==="v"?gL(e):yL(e)},vL=function(n,e){return n==="h"&&e==="rtl"?-1:1},_L=function(n,e,t,r,o){var a=vL(n,window.getComputedStyle(e).direction),c=a*r,f=t.target,p=e.contains(f),m=!1,w=c>0,_=0,E=0;do{if(!f)break;var b=JS(n,f),V=b[0],R=b[1],P=b[2],F=R-P-a*V;(V||F)&&XS(n,f)&&(_+=F,E+=V);var $=f.parentNode;f=$&&$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$.host:$}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(w&&Math.abs(_)<1||!w&&Math.abs(E)<1)&&(m=!0),m},Md=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},K0=function(n){return[n.deltaX,n.deltaY]},Q0=function(n){return n&&"current"in n?n.current:n},wL=function(n,e){return n[0]===e[0]&&n[1]===e[1]},xL=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},EL=0,za=[];function TL(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),o=T.useState(EL++)[0],a=T.useState(QS)[0],c=T.useRef(n);T.useEffect(function(){c.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var R=HV([n.lockRef.current],(n.shards||[]).map(Q0),!0).filter(Boolean);return R.forEach(function(P){return P.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),R.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=T.useCallback(function(R,P){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var F=Md(R),$=t.current,H="deltaX"in R?R.deltaX:$[0]-F[0],W="deltaY"in R?R.deltaY:$[1]-F[1],J,ee=R.target,k=Math.abs(H)>Math.abs(W)?"h":"v";if("touches"in R&&k==="h"&&ee.type==="range")return!1;var I=G0(k,ee);if(!I)return!0;if(I?J=k:(J=k==="v"?"h":"v",I=G0(k,ee)),!I)return!1;if(!r.current&&"changedTouches"in R&&(H||W)&&(r.current=J),!J)return!0;var D=r.current||J;return _L(D,P,R,D==="h"?H:W)},[]),p=T.useCallback(function(R){var P=R;if(!(!za.length||za[za.length-1]!==a)){var F="deltaY"in P?K0(P):Md(P),$=e.current.filter(function(J){return J.name===P.type&&(J.target===P.target||P.target===J.shadowParent)&&wL(J.delta,F)})[0];if($&&$.should){P.cancelable&&P.preventDefault();return}if(!$){var H=(c.current.shards||[]).map(Q0).filter(Boolean).filter(function(J){return J.contains(P.target)}),W=H.length>0?f(P,H[0]):!c.current.noIsolation;W&&P.cancelable&&P.preventDefault()}}},[]),m=T.useCallback(function(R,P,F,$){var H={name:R,delta:P,target:F,should:$,shadowParent:SL(F)};e.current.push(H),setTimeout(function(){e.current=e.current.filter(function(W){return W!==H})},1)},[]),w=T.useCallback(function(R){t.current=Md(R),r.current=void 0},[]),_=T.useCallback(function(R){m(R.type,K0(R),R.target,f(R,n.lockRef.current))},[]),E=T.useCallback(function(R){m(R.type,Md(R),R.target,f(R,n.lockRef.current))},[]);T.useEffect(function(){return za.push(a),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:E}),document.addEventListener("wheel",p,Ua),document.addEventListener("touchmove",p,Ua),document.addEventListener("touchstart",w,Ua),function(){za=za.filter(function(R){return R!==a}),document.removeEventListener("wheel",p,Ua),document.removeEventListener("touchmove",p,Ua),document.removeEventListener("touchstart",w,Ua)}},[]);var b=n.removeScrollBar,V=n.inert;return T.createElement(T.Fragment,null,V?T.createElement(a,{styles:xL(o)}):null,b?T.createElement(hL,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function SL(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const IL=ZV(KS,TL);var dy=T.forwardRef(function(n,e){return T.createElement(cf,ws({},n,{ref:e,sideCar:IL}))});dy.classNames=cf.classNames;var CL=[" ","Enter","ArrowUp","ArrowDown"],bL=[" ","Enter"],Go="Select",[uf,df,AL]=eS(Go),[Pl]=bl(Go,[AL,DS]),hf=DS(),[RL,lo]=Pl(Go),[PL,kL]=Pl(Go),ZS=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:c,defaultValue:f,onValueChange:p,dir:m,name:w,autoComplete:_,disabled:E,required:b,form:V}=n,R=hf(e),[P,F]=T.useState(null),[$,H]=T.useState(null),[W,J]=T.useState(!1),ee=Jg(m),[k,I]=Wc({prop:r,defaultProp:o??!1,onChange:a,caller:Go}),[D,N]=Wc({prop:c,defaultProp:f,onChange:p,caller:Go}),O=T.useRef(null),j=P?V||!!P.closest("form"):!0,[C,ue]=T.useState(new Set),me=Array.from(C).map(Q=>Q.props.value).join(";");return d.jsx(bV,{...R,children:d.jsxs(RL,{required:b,scope:e,trigger:P,onTriggerChange:F,valueNode:$,onValueNodeChange:H,valueNodeHasChildren:W,onValueNodeHasChildrenChange:J,contentId:Qi(),value:D,onValueChange:N,open:k,onOpenChange:I,dir:ee,triggerPointerDownPosRef:O,disabled:E,children:[d.jsx(uf.Provider,{scope:e,children:d.jsx(PL,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(Q=>{ue(ae=>new Set(ae).add(Q))},[]),onNativeOptionRemove:T.useCallback(Q=>{ue(ae=>{const L=new Set(ae);return L.delete(Q),L})},[]),children:t})}),j?d.jsxs(xI,{"aria-hidden":!0,required:b,tabIndex:-1,name:w,autoComplete:_,value:D,onChange:Q=>N(Q.target.value),disabled:E,form:V,children:[D===void 0?d.jsx("option",{value:""}):null,Array.from(C)]},me):null]})})};ZS.displayName=Go;var eI="SelectTrigger",tI=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=hf(t),c=lo(eI,t),f=c.disabled||r,p=Vt(e,c.onTriggerChange),m=df(t),w=T.useRef("touch"),[_,E,b]=TI(R=>{const P=m().filter(H=>!H.disabled),F=P.find(H=>H.value===c.value),$=SI(P,R,F);$!==void 0&&c.onValueChange($.value)}),V=R=>{f||(c.onOpenChange(!0),b()),R&&(c.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return d.jsx(AV,{asChild:!0,...a,children:d.jsx(lt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":EI(c.value)?"":void 0,...o,ref:p,onClick:st(o.onClick,R=>{R.currentTarget.focus(),w.current!=="mouse"&&V(R)}),onPointerDown:st(o.onPointerDown,R=>{w.current=R.pointerType;const P=R.target;P.hasPointerCapture(R.pointerId)&&P.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(V(R),R.preventDefault())}),onKeyDown:st(o.onKeyDown,R=>{const P=_.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&E(R.key),!(P&&R.key===" ")&&CL.includes(R.key)&&(V(),R.preventDefault())})})})});tI.displayName=eI;var nI="SelectValue",rI=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:c="",...f}=n,p=lo(nI,t),{onValueNodeHasChildrenChange:m}=p,w=a!==void 0,_=Vt(e,p.onValueNodeChange);return Nn(()=>{m(w)},[m,w]),d.jsx(lt.span,{...f,ref:_,style:{pointerEvents:"none"},children:EI(p.value)?d.jsx(d.Fragment,{children:c}):a})});rI.displayName=nI;var NL="SelectIcon",sI=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return d.jsx(lt.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});sI.displayName=NL;var jL="SelectPortal",iI=n=>d.jsx(uy,{asChild:!0,...n});iI.displayName=jL;var Ko="SelectContent",oI=T.forwardRef((n,e)=>{const t=lo(Ko,n.__scopeSelect),[r,o]=T.useState();if(Nn(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?lu.createPortal(d.jsx(aI,{scope:n.__scopeSelect,children:d.jsx(uf.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),a):null}return d.jsx(lI,{...n,ref:e})});oI.displayName=Ko;var Fr=10,[aI,co]=Pl(Ko),DL="SelectContentImpl",OL=NV("SelectContent.RemoveScroll"),lI=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:f,sideOffset:p,align:m,alignOffset:w,arrowPadding:_,collisionBoundary:E,collisionPadding:b,sticky:V,hideWhenDetached:R,avoidCollisions:P,...F}=n,$=lo(Ko,t),[H,W]=T.useState(null),[J,ee]=T.useState(null),k=Vt(e,oe=>W(oe)),[I,D]=T.useState(null),[N,O]=T.useState(null),j=df(t),[C,ue]=T.useState(!1),me=T.useRef(!1);T.useEffect(()=>{if(H)return WS(H)},[H]),_S();const Q=T.useCallback(oe=>{const[ge,...Re]=j().map(Ge=>Ge.ref.current),[De]=Re.slice(-1),He=document.activeElement;for(const Ge of oe)if(Ge===He||(Ge?.scrollIntoView({block:"nearest"}),Ge===ge&&J&&(J.scrollTop=0),Ge===De&&J&&(J.scrollTop=J.scrollHeight),Ge?.focus(),document.activeElement!==He))return},[j,J]),ae=T.useCallback(()=>Q([I,H]),[Q,I,H]);T.useEffect(()=>{C&&ae()},[C,ae]);const{onOpenChange:L,triggerPointerDownPosRef:se}=$;T.useEffect(()=>{if(H){let oe={x:0,y:0};const ge=De=>{oe={x:Math.abs(Math.round(De.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(se.current?.y??0))}},Re=De=>{oe.x<=10&&oe.y<=10?De.preventDefault():H.contains(De.target)||L(!1),document.removeEventListener("pointermove",ge),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Re,{capture:!0})}}},[H,L,se]),T.useEffect(()=>{const oe=()=>L(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[L]);const[te,z]=TI(oe=>{const ge=j().filter(He=>!He.disabled),Re=ge.find(He=>He.ref.current===document.activeElement),De=SI(ge,oe,Re);De&&setTimeout(()=>De.ref.current.focus())}),Z=T.useCallback((oe,ge,Re)=>{const De=!me.current&&!Re;($.value!==void 0&&$.value===ge||De)&&(D(oe),De&&(me.current=!0))},[$.value]),ie=T.useCallback(()=>H?.focus(),[H]),he=T.useCallback((oe,ge,Re)=>{const De=!me.current&&!Re;($.value!==void 0&&$.value===ge||De)&&O(oe)},[$.value]),ve=r==="popper"?Qm:cI,be=ve===Qm?{side:f,sideOffset:p,align:m,alignOffset:w,arrowPadding:_,collisionBoundary:E,collisionPadding:b,sticky:V,hideWhenDetached:R,avoidCollisions:P}:{};return d.jsx(aI,{scope:t,content:H,viewport:J,onViewportChange:ee,itemRefCallback:Z,selectedItem:I,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:ae,selectedItemText:N,position:r,isPositioned:C,searchRef:te,children:d.jsx(dy,{as:OL,allowPinchZoom:!0,children:d.jsx(ty,{asChild:!0,trapped:$.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:st(o,oe=>{$.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:d.jsx(ey,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>$.onOpenChange(!1),children:d.jsx(ve,{role:"listbox",id:$.contentId,"data-state":$.open?"open":"closed",dir:$.dir,onContextMenu:oe=>oe.preventDefault(),...F,...be,onPlaced:()=>ue(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...F.style},onKeyDown:st(F.onKeyDown,oe=>{const ge=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ge&&oe.key.length===1&&z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let De=j().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const He=oe.target,Ge=De.indexOf(He);De=De.slice(Ge+1)}setTimeout(()=>Q(De)),oe.preventDefault()}})})})})})})});lI.displayName=DL;var ML="SelectItemAlignedPosition",cI=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=lo(Ko,t),c=co(Ko,t),[f,p]=T.useState(null),[m,w]=T.useState(null),_=Vt(e,k=>w(k)),E=df(t),b=T.useRef(!1),V=T.useRef(!0),{viewport:R,selectedItem:P,selectedItemText:F,focusSelectedItem:$}=c,H=T.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&m&&R&&P&&F){const k=a.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),N=F.getBoundingClientRect();if(a.dir!=="rtl"){const He=N.left-I.left,Ge=D.left-He,At=k.left-Ge,sn=k.width+At,Jr=Math.max(sn,I.width),Qn=window.innerWidth-Fr,pn=C0(Ge,[Fr,Math.max(Fr,Qn-Jr)]);f.style.minWidth=sn+"px",f.style.left=pn+"px"}else{const He=I.right-N.right,Ge=window.innerWidth-D.right-He,At=window.innerWidth-k.right-Ge,sn=k.width+At,Jr=Math.max(sn,I.width),Qn=window.innerWidth-Fr,pn=C0(Ge,[Fr,Math.max(Fr,Qn-Jr)]);f.style.minWidth=sn+"px",f.style.right=pn+"px"}const O=E(),j=window.innerHeight-Fr*2,C=R.scrollHeight,ue=window.getComputedStyle(m),me=parseInt(ue.borderTopWidth,10),Q=parseInt(ue.paddingTop,10),ae=parseInt(ue.borderBottomWidth,10),L=parseInt(ue.paddingBottom,10),se=me+Q+C+L+ae,te=Math.min(P.offsetHeight*5,se),z=window.getComputedStyle(R),Z=parseInt(z.paddingTop,10),ie=parseInt(z.paddingBottom,10),he=k.top+k.height/2-Fr,ve=j-he,be=P.offsetHeight/2,oe=P.offsetTop+be,ge=me+Q+oe,Re=se-ge;if(ge<=he){const He=O.length>0&&P===O[O.length-1].ref.current;f.style.bottom="0px";const Ge=m.clientHeight-R.offsetTop-R.offsetHeight,At=Math.max(ve,be+(He?ie:0)+Ge+ae),sn=ge+At;f.style.height=sn+"px"}else{const He=O.length>0&&P===O[0].ref.current;f.style.top="0px";const At=Math.max(he,me+R.offsetTop+(He?Z:0)+be)+Re;f.style.height=At+"px",R.scrollTop=ge-he+R.offsetTop}f.style.margin=`${Fr}px 0`,f.style.minHeight=te+"px",f.style.maxHeight=j+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[E,a.trigger,a.valueNode,f,m,R,P,F,a.dir,r]);Nn(()=>H(),[H]);const[W,J]=T.useState();Nn(()=>{m&&J(window.getComputedStyle(m).zIndex)},[m]);const ee=T.useCallback(k=>{k&&V.current===!0&&(H(),$?.(),V.current=!1)},[H,$]);return d.jsx(LL,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:ee,children:d.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:d.jsx(lt.div,{...o,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});cI.displayName=ML;var VL="SelectPopperPosition",Qm=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Fr,...a}=n,c=hf(t);return d.jsx(RV,{...c,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qm.displayName=VL;var[LL,hy]=Pl(Ko,{}),Ym="SelectViewport",uI=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=co(Ym,t),c=hy(Ym,t),f=Vt(e,a.onViewportChange),p=T.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(uf.Slot,{scope:t,children:d.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:st(o.onScroll,m=>{const w=m.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:E}=c;if(E?.current&&_){const b=Math.abs(p.current-w.scrollTop);if(b>0){const V=window.innerHeight-Fr*2,R=parseFloat(_.style.minHeight),P=parseFloat(_.style.height),F=Math.max(R,P);if(F<V){const $=F+b,H=Math.min(V,$),W=$-H;_.style.height=H+"px",_.style.bottom==="0px"&&(w.scrollTop=W>0?W:0,_.style.justifyContent="flex-end")}}}p.current=w.scrollTop})})})]})});uI.displayName=Ym;var dI="SelectGroup",[FL,UL]=Pl(dI),zL=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Qi();return d.jsx(FL,{scope:t,id:o,children:d.jsx(lt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});zL.displayName=dI;var hI="SelectLabel",BL=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=UL(hI,t);return d.jsx(lt.div,{id:o.id,...r,ref:e})});BL.displayName=hI;var Ch="SelectItem",[$L,fI]=Pl(Ch),pI=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...c}=n,f=lo(Ch,t),p=co(Ch,t),m=f.value===r,[w,_]=T.useState(a??""),[E,b]=T.useState(!1),V=Vt(e,$=>p.itemRefCallback?.($,r,o)),R=Qi(),P=T.useRef("touch"),F=()=>{o||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx($L,{scope:t,value:r,disabled:o,textId:R,isSelected:m,onItemTextChange:T.useCallback($=>{_(H=>H||($?.textContent??"").trim())},[]),children:d.jsx(uf.ItemSlot,{scope:t,value:r,disabled:o,textValue:w,children:d.jsx(lt.div,{role:"option","aria-labelledby":R,"data-highlighted":E?"":void 0,"aria-selected":m&&E,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:V,onFocus:st(c.onFocus,()=>b(!0)),onBlur:st(c.onBlur,()=>b(!1)),onClick:st(c.onClick,()=>{P.current!=="mouse"&&F()}),onPointerUp:st(c.onPointerUp,()=>{P.current==="mouse"&&F()}),onPointerDown:st(c.onPointerDown,$=>{P.current=$.pointerType}),onPointerMove:st(c.onPointerMove,$=>{P.current=$.pointerType,o?p.onItemLeave?.():P.current==="mouse"&&$.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(c.onPointerLeave,$=>{$.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:st(c.onKeyDown,$=>{p.searchRef?.current!==""&&$.key===" "||(bL.includes($.key)&&F(),$.key===" "&&$.preventDefault())})})})})});pI.displayName=Ch;var Cc="SelectItemText",mI=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,c=lo(Cc,t),f=co(Cc,t),p=fI(Cc,t),m=kL(Cc,t),[w,_]=T.useState(null),E=Vt(e,F=>_(F),p.onItemTextChange,F=>f.itemTextRefCallback?.(F,p.value,p.disabled)),b=w?.textContent,V=T.useMemo(()=>d.jsx("option",{value:p.value,disabled:p.disabled,children:b},p.value),[p.disabled,p.value,b]),{onNativeOptionAdd:R,onNativeOptionRemove:P}=m;return Nn(()=>(R(V),()=>P(V)),[R,P,V]),d.jsxs(d.Fragment,{children:[d.jsx(lt.span,{id:p.textId,...a,ref:E}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?lu.createPortal(a.children,c.valueNode):null]})});mI.displayName=Cc;var gI="SelectItemIndicator",yI=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return fI(gI,t).isSelected?d.jsx(lt.span,{"aria-hidden":!0,...r,ref:e}):null});yI.displayName=gI;var Xm="SelectScrollUpButton",vI=T.forwardRef((n,e)=>{const t=co(Xm,n.__scopeSelect),r=hy(Xm,n.__scopeSelect),[o,a]=T.useState(!1),c=Vt(e,r.onScrollButtonChange);return Nn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const m=p.scrollTop>0;a(m)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?d.jsx(wI,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});vI.displayName=Xm;var Jm="SelectScrollDownButton",_I=T.forwardRef((n,e)=>{const t=co(Jm,n.__scopeSelect),r=hy(Jm,n.__scopeSelect),[o,a]=T.useState(!1),c=Vt(e,r.onScrollButtonChange);return Nn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const m=p.scrollHeight-p.clientHeight,w=Math.ceil(p.scrollTop)<m;a(w)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?d.jsx(wI,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});_I.displayName=Jm;var wI=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=co("SelectScrollButton",t),c=T.useRef(null),f=df(t),p=T.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return T.useEffect(()=>()=>p(),[p]),Nn(()=>{f().find(w=>w.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),d.jsx(lt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:st(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:st(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:st(o.onPointerLeave,()=>{p()})})}),HL="SelectSeparator",WL=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return d.jsx(lt.div,{"aria-hidden":!0,...r,ref:e})});WL.displayName=HL;var Zm="SelectArrow",qL=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=hf(t),a=lo(Zm,t),c=co(Zm,t);return a.open&&c.position==="popper"?d.jsx(PV,{...o,...r,ref:e}):null});qL.displayName=Zm;var GL="SelectBubbleInput",xI=T.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=T.useRef(null),a=Vt(r,o),c=LV(e);return T.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&w){const _=new Event("change",{bubbles:!0});w.call(f,e),f.dispatchEvent(_)}},[c,e]),d.jsx(lt.select,{...t,style:{...$S,...t.style},ref:a,defaultValue:e})});xI.displayName=GL;function EI(n){return n===""||n===void 0}function TI(n){const e=ro(n),t=T.useRef(""),r=T.useRef(0),o=T.useCallback(c=>{const f=t.current+c;e(f),(function p(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(f)},[e]),a=T.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function SI(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=KL(n,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==t));const p=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function KL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var QL=ZS,YL=tI,XL=rI,JL=sI,ZL=iI,e4=oI,t4=uI,n4=pI,r4=mI,s4=yI,i4=vI,o4=_I;function cl({...n}){return d.jsx(QL,{"data-slot":"select",...n})}function ul({...n}){return d.jsx(XL,{"data-slot":"select-value",...n})}function dl({className:n,size:e="default",children:t,...r}){return d.jsxs(YL,{"data-slot":"select-trigger","data-size":e,className:ft("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,d.jsx(JL,{asChild:!0,children:d.jsx(XT,{className:"size-4 opacity-50"})})]})}function hl({className:n,children:e,position:t="popper",...r}){return d.jsx(ZL,{children:d.jsxs(e4,{"data-slot":"select-content",className:ft("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[d.jsx(a4,{}),d.jsx(t4,{className:ft("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),d.jsx(l4,{})]})})}function hn({className:n,children:e,...t}){return d.jsxs(n4,{"data-slot":"select-item",className:ft("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[d.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:d.jsx(s4,{children:d.jsx(sD,{className:"size-4"})})}),d.jsx(r4,{children:e})]})}function a4({className:n,...e}){return d.jsx(i4,{"data-slot":"select-scroll-up-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(aD,{className:"size-4"})})}function l4({className:n,...e}){return d.jsx(o4,{"data-slot":"select-scroll-down-button",className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(XT,{className:"size-4"})})}const c4=({initialMode:n,onBack:e})=>{const[t,r]=T.useState(n),[o,a]=T.useState(!1),[c,f]=T.useState(""),[p,m]=T.useState(""),[w,_]=T.useState(""),[E,b]=T.useState(""),[V,R]=T.useState(""),[P,F]=T.useState("student"),[$,H]=T.useState(""),[W,J]=T.useState(""),[ee,k]=T.useState(""),[I,D]=T.useState(""),[N,O]=T.useState(""),[j,C]=T.useState(""),[ue,me]=T.useState(""),Q=async L=>{L.preventDefault(),a(!0);const se=await Kj(c,p);se.success?ut.success("Login successful!"):ut.error(se.error||"Login failed"),a(!1)},ae=async L=>{if(L.preventDefault(),E!==V){ut.error("Passwords do not match");return}if(E.length<6){ut.error("Password must be at least 6 characters");return}a(!0);let se={name:$,phone:W,address:ee};P==="institute"?se={...se,institutionName:I,institutionType:N}:P==="company"&&(se={...se,companyName:j,industry:ue});const te=await Gj(w,E,P,se);te.success?(ut.success("Registration successful! Please check your email to verify your account."),r("login")):ut.error(te.error||"Registration failed"),a(!1)};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsxs(rt,{variant:"ghost",onClick:e,className:"mb-4",children:[d.jsx(Z2,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Welcome to Career Gateway"}),d.jsx(_t,{children:t==="login"?"Login to your account":"Create a new account"})]}),d.jsx(at,{children:d.jsxs(ol,{value:t,onValueChange:L=>r(L),children:[d.jsxs(al,{className:"grid w-full grid-cols-2",children:[d.jsx(Ot,{value:"login",children:"Login"}),d.jsx(Ot,{value:"register",children:"Register"})]}),d.jsx(Mt,{value:"login",children:d.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"email",children:"Email"}),d.jsx(qe,{id:"email",type:"email",value:c,onChange:L=>f(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"password",children:"Password"}),d.jsx(qe,{id:"password",type:"password",value:p,onChange:L=>m(L.target.value),required:!0})]}),d.jsx(rt,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})]})}),d.jsx(Mt,{value:"register",children:d.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"role",children:"Account Type"}),d.jsxs(cl,{value:P,onValueChange:L=>F(L),children:[d.jsx(dl,{children:d.jsx(ul,{})}),d.jsxs(hl,{children:[d.jsx(hn,{value:"student",children:"Student"}),d.jsx(hn,{value:"institute",children:"Institution"}),d.jsx(hn,{value:"company",children:"Company"}),d.jsx(hn,{value:"admin",children:"Admin"})]})]})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"reg-email",children:"Email"}),d.jsx(qe,{id:"reg-email",type:"email",value:w,onChange:L=>_(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"name",children:"Full Name"}),d.jsx(qe,{id:"name",value:$,onChange:L=>H(L.target.value),required:!0})]}),P==="institute"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"institution-name",children:"Institution Name"}),d.jsx(qe,{id:"institution-name",value:I,onChange:L=>D(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"institution-type",children:"Institution Type"}),d.jsxs(cl,{value:N,onValueChange:O,children:[d.jsx(dl,{children:d.jsx(ul,{placeholder:"Select type"})}),d.jsxs(hl,{children:[d.jsx(hn,{value:"university",children:"University"}),d.jsx(hn,{value:"college",children:"College"}),d.jsx(hn,{value:"technical",children:"Technical Institute"}),d.jsx(hn,{value:"vocational",children:"Vocational School"})]})]})]})]}),P==="company"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"company-name",children:"Company Name"}),d.jsx(qe,{id:"company-name",value:j,onChange:L=>C(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"industry",children:"Industry"}),d.jsx(qe,{id:"industry",value:ue,onChange:L=>me(L.target.value),required:!0})]})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"phone",children:"Phone Number"}),d.jsx(qe,{id:"phone",type:"tel",value:W,onChange:L=>J(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"address",children:"Address"}),d.jsx(qe,{id:"address",value:ee,onChange:L=>k(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"reg-password",children:"Password"}),d.jsx(qe,{id:"reg-password",type:"password",value:E,onChange:L=>b(L.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"confirm-password",children:"Confirm Password"}),d.jsx(qe,{id:"confirm-password",type:"password",value:V,onChange:L=>R(L.target.value),required:!0})]}),d.jsx(rt,{type:"submit",className:"w-full",disabled:o,children:o?"Creating Account...":"Register"}),(P==="company"||P==="institute")&&d.jsx("p",{className:"text-sm text-gray-600",children:"Note: Your account will require admin approval before you can access the platform."})]})})]})})]})]})})};function Ur({className:n,...e}){return d.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:d.jsx("table",{"data-slot":"table",className:ft("w-full caption-bottom text-sm",n),...e})})}function zr({className:n,...e}){return d.jsx("thead",{"data-slot":"table-header",className:ft("[&_tr]:border-b",n),...e})}function Br({className:n,...e}){return d.jsx("tbody",{"data-slot":"table-body",className:ft("[&_tr:last-child]:border-0",n),...e})}function bt({className:n,...e}){return d.jsx("tr",{"data-slot":"table-row",className:ft("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function Me({className:n,...e}){return d.jsx("th",{"data-slot":"table-head",className:ft("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function je({className:n,...e}){return d.jsx("td",{"data-slot":"table-cell",className:ft("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const u4=OT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Wr({className:n,variant:e,asChild:t=!1,...r}){const o=t?NT:"span";return d.jsx(o,{"data-slot":"badge",className:ft(u4({variant:e}),n),...r})}function d4(n){const e=h4(n),t=T.forwardRef((r,o)=>{const{children:a,...c}=r,f=T.Children.toArray(a),p=f.find(p4);if(p){const m=p.props.children,w=f.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return d.jsx(e,{...c,ref:o,children:T.isValidElement(m)?T.cloneElement(m,void 0,w):null})}return d.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function h4(n){const e=T.forwardRef((t,r)=>{const{children:o,...a}=t;if(T.isValidElement(o)){const c=g4(o),f=m4(a,o.props);return o.type!==T.Fragment&&(f.ref=r?Sl(r,c):c),T.cloneElement(o,f)}return T.Children.count(o)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var f4=Symbol("radix.slottable");function p4(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===f4}function m4(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...f)=>{const p=a(...f);return o(...f),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function g4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ff="Dialog",[II]=bl(ff),[y4,Xr]=II(ff),CI=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,f=T.useRef(null),p=T.useRef(null),[m,w]=Wc({prop:r,defaultProp:o??!1,onChange:a,caller:ff});return d.jsx(y4,{scope:e,triggerRef:f,contentRef:p,contentId:Qi(),titleId:Qi(),descriptionId:Qi(),open:m,onOpenChange:w,onOpenToggle:T.useCallback(()=>w(_=>!_),[w]),modal:c,children:t})};CI.displayName=ff;var bI="DialogTrigger",AI=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Xr(bI,t),a=Vt(e,o.triggerRef);return d.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":my(o.open),...r,ref:a,onClick:st(n.onClick,o.onOpenToggle)})});AI.displayName=bI;var fy="DialogPortal",[v4,RI]=II(fy,{forceMount:void 0}),PI=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,a=Xr(fy,e);return d.jsx(v4,{scope:e,forceMount:t,children:T.Children.map(r,c=>d.jsx(uu,{present:t||a.open,children:d.jsx(uy,{asChild:!0,container:o,children:c})}))})};PI.displayName=fy;var bh="DialogOverlay",kI=T.forwardRef((n,e)=>{const t=RI(bh,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=Xr(bh,n.__scopeDialog);return a.modal?d.jsx(uu,{present:r||a.open,children:d.jsx(w4,{...o,ref:e})}):null});kI.displayName=bh;var _4=d4("DialogOverlay.RemoveScroll"),w4=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Xr(bh,t);return d.jsx(dy,{as:_4,allowPinchZoom:!0,shards:[o.contentRef],children:d.jsx(lt.div,{"data-state":my(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Qo="DialogContent",NI=T.forwardRef((n,e)=>{const t=RI(Qo,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=Xr(Qo,n.__scopeDialog);return d.jsx(uu,{present:r||a.open,children:a.modal?d.jsx(x4,{...o,ref:e}):d.jsx(E4,{...o,ref:e})})});NI.displayName=Qo;var x4=T.forwardRef((n,e)=>{const t=Xr(Qo,n.__scopeDialog),r=T.useRef(null),o=Vt(e,t.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return WS(a)},[]),d.jsx(jI,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:st(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&a.preventDefault()}),onFocusOutside:st(n.onFocusOutside,a=>a.preventDefault())})}),E4=T.forwardRef((n,e)=>{const t=Xr(Qo,n.__scopeDialog),r=T.useRef(!1),o=T.useRef(!1);return d.jsx(jI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;t.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),jI=T.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,f=Xr(Qo,t),p=T.useRef(null),m=Vt(e,p);return _S(),d.jsxs(d.Fragment,{children:[d.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:d.jsx(ey,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":my(f.open),...c,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(T4,{titleId:f.titleId}),d.jsx(I4,{contentRef:p,descriptionId:f.descriptionId})]})]})}),py="DialogTitle",DI=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Xr(py,t);return d.jsx(lt.h2,{id:o.titleId,...r,ref:e})});DI.displayName=py;var OI="DialogDescription",MI=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Xr(OI,t);return d.jsx(lt.p,{id:o.descriptionId,...r,ref:e})});MI.displayName=OI;var VI="DialogClose",LI=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Xr(VI,t);return d.jsx(lt.button,{type:"button",...r,ref:e,onClick:st(n.onClick,()=>o.onOpenChange(!1))})});LI.displayName=VI;function my(n){return n?"open":"closed"}var FI="DialogTitleWarning",[iF,UI]=iO(FI,{contentName:Qo,titleName:py,docsSlug:"dialog"}),T4=({titleId:n})=>{const e=UI(FI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},S4="DialogDescriptionWarning",I4=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UI(S4).contentName}}.`;return T.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},C4=CI,b4=AI,A4=PI,R4=kI,P4=NI,k4=DI,N4=MI,j4=LI;function fl({...n}){return d.jsx(C4,{"data-slot":"dialog",...n})}function Ah({...n}){return d.jsx(b4,{"data-slot":"dialog-trigger",...n})}function D4({...n}){return d.jsx(A4,{"data-slot":"dialog-portal",...n})}function O4({className:n,...e}){return d.jsx(R4,{"data-slot":"dialog-overlay",className:ft("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function pl({className:n,children:e,...t}){return d.jsxs(D4,{"data-slot":"dialog-portal",children:[d.jsx(O4,{}),d.jsxs(P4,{"data-slot":"dialog-content",className:ft("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,d.jsxs(j4,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[d.jsx(CD,{}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ml({className:n,...e}){return d.jsx("div",{"data-slot":"dialog-header",className:ft("flex flex-col gap-2 text-center sm:text-left",n),...e})}function gl({className:n,...e}){return d.jsx(k4,{"data-slot":"dialog-title",className:ft("text-lg leading-none font-semibold",n),...e})}function yl({className:n,...e}){return d.jsx(N4,{"data-slot":"dialog-description",className:ft("text-muted-foreground text-sm",n),...e})}const M4=async n=>{try{return{success:!0,id:(await ou(rn(ht,"institutions"),{...n,createdAt:dt.now()})).id}}catch(e){return{success:!1,error:e.message}}},V4=async n=>{try{return await IT(ur(ht,"institutions",n)),{success:!0}}catch(e){return{success:!1,error:e.message}}},zI=async()=>{try{return{success:!0,data:(await Kn(rn(ht,"institutions"))).docs.map(t=>({id:t.id,...t.data()}))}}catch(n){return{success:!1,error:n.message}}},L4=async n=>{try{return{success:!0,id:(await ou(rn(ht,"courses"),{...n,createdAt:dt.now()})).id}}catch(e){return{success:!1,error:e.message}}},BI=async n=>{try{const e=dr(rn(ht,"courses"),fn("institutionId","==",n));return{success:!0,data:(await Kn(e)).docs.map(o=>({id:o.id,...o.data()}))}}catch(e){return{success:!1,error:e.message}}},F4=async n=>{try{const e=dr(rn(ht,"applications"),fn("studentId","==",n.studentId),fn("institutionId","==",n.institutionId));return(await Kn(e)).size>=2?{success:!1,error:"Maximum 2 applications per institution"}:{success:!0,id:(await ou(rn(ht,"applications"),{...n,status:"pending",createdAt:dt.now()})).id}}catch(e){return{success:!1,error:e.message}}},U4=async n=>{try{const e=dr(rn(ht,"applications"),fn("studentId","==",n));return{success:!0,data:(await Kn(e)).docs.map(o=>({id:o.id,...o.data()}))}}catch(e){return{success:!1,error:e.message}}},z4=async(n,e,t,r)=>{try{if(await jc(ur(ht,"applications",n),{status:e,updatedAt:dt.now()}),e==="admitted"){const o=dr(rn(ht,"applications"),fn("studentId","==",r),fn("status","==","admitted"));(await Kn(o)).size>1}return{success:!0}}catch(o){return{success:!1,error:o.message}}},B4=async n=>{try{return{success:!0,id:(await ou(rn(ht,"jobs"),{...n,createdAt:dt.now(),status:"active"})).id}}catch(e){return{success:!1,error:e.message}}},$4=async()=>{try{const n=dr(rn(ht,"jobs"),fn("status","==","active"),hj("createdAt","desc"));return{success:!0,data:(await Kn(n)).docs.map(r=>({id:r.id,...r.data()}))}}catch(n){return{success:!1,error:n.message}}},H4=async n=>{try{return{success:!0,id:(await ou(rn(ht,"jobApplications"),{...n,status:"pending",createdAt:dt.now()})).id}}catch(e){return{success:!1,error:e.message}}},W4=async(n,e)=>{try{const t=dr(rn(ht,"jobApplications"),fn("companyId","==",n),fn("jobId","==",e));return{success:!0,data:(await Kn(t)).docs.map(a=>({id:a.id,...a.data()}))}}catch(t){return{success:!1,error:t.message}}},q4=()=>{const[n,e]=T.useState([]),[t,r]=T.useState([]),[o,a]=T.useState([]),[c,f]=T.useState([]),[p,m]=T.useState(!1),[w,_]=T.useState(!1),[E,b]=T.useState(""),[V,R]=T.useState(""),[P,F]=T.useState(""),[$,H]=T.useState("");T.useEffect(()=>{W()},[]);const W=async()=>{m(!0);const N=await zI();N.success&&e(N.data);const O=dr(rn(ht,"users"),fn("status","==","pending")),C=(await Kn(O)).docs.map(te=>({id:te.id,...te.data()}));f(C);const ue=dr(rn(ht,"users"),fn("role","==","company")),Q=(await Kn(ue)).docs.map(te=>({id:te.id,...te.data()}));r(Q);const ae=dr(rn(ht,"users"),fn("role","==","student")),se=(await Kn(ae)).docs.map(te=>({id:te.id,...te.data()}));a(se),m(!1)},J=async N=>{N.preventDefault(),(await M4({name:E,type:V,email:P,location:$,status:"active"})).success?(ut.success("Institution added successfully"),_(!1),b(""),R(""),F(""),H(""),W()):ut.error("Failed to add institution")},ee=async N=>{confirm("Are you sure you want to delete this institution?")&&((await V4(N)).success?(ut.success("Institution deleted"),W()):ut.error("Failed to delete institution"))},k=async N=>{try{await jc(ur(ht,"users",N),{status:"active"}),ut.success("User approved"),W()}catch{ut.error("Failed to approve user")}},I=async N=>{try{await jc(ur(ht,"users",N),{status:"rejected"}),ut.success("User rejected"),W()}catch{ut.error("Failed to reject user")}},D=async N=>{try{await jc(ur(ht,"users",N),{status:"suspended"}),ut.success("Company suspended"),W()}catch{ut.error("Failed to suspend company")}};return d.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-gray-900 mb-2",children:"Admin Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Manage institutions, users, and system operations"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Total Institutions"}),d.jsx(YT,{className:"h-4 w-4 text-blue-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:n.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Total Students"}),d.jsx(Hc,{className:"h-4 w-4 text-green-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:o.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Total Companies"}),d.jsx(nf,{className:"h-4 w-4 text-purple-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:t.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Pending Approvals"}),d.jsx(wh,{className:"h-4 w-4 text-orange-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:c.length})})]})]}),d.jsxs(ol,{defaultValue:"institutions",className:"space-y-4",children:[d.jsxs(al,{children:[d.jsx(Ot,{value:"institutions",children:"Institutions"}),d.jsx(Ot,{value:"approvals",children:"Pending Approvals"}),d.jsx(Ot,{value:"companies",children:"Companies"}),d.jsx(Ot,{value:"students",children:"Students"}),d.jsx(Ot,{value:"reports",children:"Reports"})]}),d.jsx(Mt,{value:"institutions",children:d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx(Xe,{children:"Manage Institutions"}),d.jsx(_t,{children:"Add, edit, or remove higher learning institutions"})]}),d.jsxs(fl,{open:w,onOpenChange:_,children:[d.jsx(Ah,{asChild:!0,children:d.jsxs(rt,{children:[d.jsx(xh,{className:"w-4 h-4 mr-2"}),"Add Institution"]})}),d.jsxs(pl,{children:[d.jsxs(ml,{children:[d.jsx(gl,{children:"Add New Institution"}),d.jsx(yl,{children:"Enter the institution details"})]}),d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"inst-name",children:"Institution Name"}),d.jsx(qe,{id:"inst-name",value:E,onChange:N=>b(N.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"inst-type",children:"Type"}),d.jsxs(cl,{value:V,onValueChange:R,children:[d.jsx(dl,{children:d.jsx(ul,{placeholder:"Select type"})}),d.jsxs(hl,{children:[d.jsx(hn,{value:"university",children:"University"}),d.jsx(hn,{value:"college",children:"College"}),d.jsx(hn,{value:"technical",children:"Technical Institute"}),d.jsx(hn,{value:"vocational",children:"Vocational School"})]})]})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"inst-email",children:"Email"}),d.jsx(qe,{id:"inst-email",type:"email",value:P,onChange:N=>F(N.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"inst-location",children:"Location"}),d.jsx(qe,{id:"inst-location",value:$,onChange:N=>H(N.target.value),required:!0})]}),d.jsx(rt,{type:"submit",className:"w-full",children:"Add Institution"})]})]})]})]})}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Name"}),d.jsx(Me,{children:"Type"}),d.jsx(Me,{children:"Location"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Status"}),d.jsx(Me,{children:"Actions"})]})}),d.jsx(Br,{children:n.map(N=>d.jsxs(bt,{children:[d.jsx(je,{children:N.name}),d.jsx(je,{className:"capitalize",children:N.type}),d.jsx(je,{children:N.location}),d.jsx(je,{children:N.email}),d.jsx(je,{children:d.jsx(Wr,{variant:"default",children:N.status})}),d.jsx(je,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(rt,{size:"sm",variant:"outline",children:d.jsx(_D,{className:"w-4 h-4"})}),d.jsx(rt,{size:"sm",variant:"destructive",onClick:()=>ee(N.id),children:d.jsx(xD,{className:"w-4 h-4"})})]})})]},N.id))})]})})]})}),d.jsx(Mt,{value:"approvals",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Pending Approvals"}),d.jsx(_t,{children:"Review and approve institution and company registrations"})]}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Type"}),d.jsx(Me,{children:"Actions"})]})}),d.jsx(Br,{children:c.map(N=>d.jsxs(bt,{children:[d.jsx(je,{children:N.profile?.institutionName||N.profile?.companyName||N.profile?.name}),d.jsx(je,{children:N.email}),d.jsx(je,{className:"capitalize",children:d.jsx(Wr,{children:N.role})}),d.jsx(je,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(rt,{size:"sm",variant:"default",onClick:()=>k(N.id),children:[d.jsx(_h,{className:"w-4 h-4 mr-1"}),"Approve"]}),d.jsxs(rt,{size:"sm",variant:"destructive",onClick:()=>I(N.id),children:[d.jsx(Xg,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},N.id))})]})})]})}),d.jsx(Mt,{value:"companies",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Manage Companies"}),d.jsx(_t,{children:"View and manage registered companies"})]}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Company Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Industry"}),d.jsx(Me,{children:"Status"}),d.jsx(Me,{children:"Actions"})]})}),d.jsx(Br,{children:t.map(N=>d.jsxs(bt,{children:[d.jsx(je,{children:N.profile?.companyName}),d.jsx(je,{children:N.email}),d.jsx(je,{children:N.profile?.industry}),d.jsx(je,{children:d.jsx(Wr,{variant:N.status==="active"?"default":"secondary",children:N.status})}),d.jsx(je,{children:d.jsx(rt,{size:"sm",variant:"outline",onClick:()=>D(N.id),disabled:N.status==="suspended",children:"Suspend"})})]},N.id))})]})})]})}),d.jsx(Mt,{value:"students",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Registered Students"}),d.jsx(_t,{children:"View all registered students in the system"})]}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Phone"}),d.jsx(Me,{children:"Status"})]})}),d.jsx(Br,{children:o.map(N=>d.jsxs(bt,{children:[d.jsx(je,{children:N.profile?.name}),d.jsx(je,{children:N.email}),d.jsx(je,{children:N.profile?.phone}),d.jsx(je,{children:d.jsx(Wr,{children:N.status})})]},N.id))})]})})]})}),d.jsx(Mt,{value:"reports",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"System Reports"}),d.jsx(_t,{children:"View comprehensive system statistics and analytics"})]}),d.jsx(at,{children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("div",{className:"text-gray-600 text-sm",children:"Total Applications"}),d.jsx("div",{className:"text-gray-900 mt-1",children:"Track student course applications"})]}),d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("div",{className:"text-gray-600 text-sm",children:"Active Job Postings"}),d.jsx("div",{className:"text-gray-900 mt-1",children:"Monitor company job listings"})]}),d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("div",{className:"text-gray-600 text-sm",children:"Admission Rate"}),d.jsx("div",{className:"text-gray-900 mt-1",children:"View student admission statistics"})]}),d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("div",{className:"text-gray-600 text-sm",children:"Placement Rate"}),d.jsx("div",{className:"text-gray-900 mt-1",children:"Track graduate employment"})]})]})})})]})})]})]})},G4=()=>{const{user:n,userProfile:e}=au(),[t,r]=T.useState([]),[o,a]=T.useState(["Science","Arts","Engineering","Business"]),[c,f]=T.useState([]),[p,m]=T.useState(!1),[w,_]=T.useState(!1),[E,b]=T.useState(""),[V,R]=T.useState(""),[P,F]=T.useState(""),[$,H]=T.useState(""),[W,J]=T.useState(""),[ee,k]=T.useState("");T.useEffect(()=>{I()},[n]);const I=async()=>{if(!n)return;const C=dr(rn(ht,"institutions"),fn("email","==",n.email)),ue=await Kn(C);if(!ue.empty){const me=ue.docs[0].id;b(me);const Q=await BI(me);Q.success&&r(Q.data);const ae=dr(rn(ht,"applications"),fn("institutionId","==",me)),L=await Kn(ae),se=await Promise.all(L.docs.map(async te=>{const z=te.data(),Z=await Zh(ur(ht,"users",z.studentId)),ie=Z.exists()?Z.data():null;return{id:te.id,...z,studentName:ie?.profile?.name||"Unknown",studentEmail:ie?.email||"Unknown"}}));f(se)}},D=async C=>{C.preventDefault(),(await L4({institutionId:E,name:V,faculty:P,duration:$,requirements:W,status:"active"})).success?(ut.success("Course added successfully"),m(!1),R(""),F(""),H(""),J(""),I()):ut.error("Failed to add course")},N=()=>{ee&&!o.includes(ee)&&(a([...o,ee]),k(""),_(!1),ut.success("Faculty added successfully"))},O=async(C,ue,me)=>{(await z4(C,ue,E,me)).success?(ut.success(`Application ${ue}`),I()):ut.error("Failed to update application")},j=C=>c.filter(ue=>ue.status===C);return d.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-gray-900 mb-2",children:"Institution Dashboard"}),d.jsx("p",{className:"text-gray-600",children:e?.profile?.institutionName||"Manage your institution"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Total Courses"}),d.jsx(QT,{className:"h-4 w-4 text-blue-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:t.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Pending Applications"}),d.jsx(zm,{className:"h-4 w-4 text-yellow-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:j("pending").length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Admitted Students"}),d.jsx(_h,{className:"h-4 w-4 text-green-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:j("admitted").length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Faculties"}),d.jsx(Hc,{className:"h-4 w-4 text-purple-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:o.length})})]})]}),d.jsxs(ol,{defaultValue:"courses",className:"space-y-4",children:[d.jsxs(al,{children:[d.jsx(Ot,{value:"courses",children:"Courses"}),d.jsx(Ot,{value:"faculties",children:"Faculties"}),d.jsx(Ot,{value:"applications",children:"Applications"}),d.jsx(Ot,{value:"profile",children:"Profile"})]}),d.jsx(Mt,{value:"courses",children:d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx(Xe,{children:"Manage Courses"}),d.jsx(_t,{children:"Add and manage courses offered by your institution"})]}),d.jsxs(fl,{open:p,onOpenChange:m,children:[d.jsx(Ah,{asChild:!0,children:d.jsxs(rt,{children:[d.jsx(xh,{className:"w-4 h-4 mr-2"}),"Add Course"]})}),d.jsxs(pl,{children:[d.jsxs(ml,{children:[d.jsx(gl,{children:"Add New Course"}),d.jsx(yl,{children:"Enter the course details"})]}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"course-name",children:"Course Name"}),d.jsx(qe,{id:"course-name",value:V,onChange:C=>R(C.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"course-faculty",children:"Faculty"}),d.jsxs(cl,{value:P,onValueChange:F,children:[d.jsx(dl,{children:d.jsx(ul,{placeholder:"Select faculty"})}),d.jsx(hl,{children:o.map(C=>d.jsx(hn,{value:C,children:C},C))})]})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"course-duration",children:"Duration"}),d.jsx(qe,{id:"course-duration",placeholder:"e.g., 4 years",value:$,onChange:C=>H(C.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"course-requirements",children:"Entry Requirements"}),d.jsx(qe,{id:"course-requirements",placeholder:"e.g., High School Certificate with...",value:W,onChange:C=>J(C.target.value)})]}),d.jsx(rt,{type:"submit",className:"w-full",children:"Add Course"})]})]})]})]})}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Course Name"}),d.jsx(Me,{children:"Faculty"}),d.jsx(Me,{children:"Duration"}),d.jsx(Me,{children:"Applications"}),d.jsx(Me,{children:"Status"})]})}),d.jsx(Br,{children:t.map(C=>{const ue=c.filter(me=>me.courseId===C.id);return d.jsxs(bt,{children:[d.jsx(je,{children:C.name}),d.jsx(je,{children:C.faculty}),d.jsx(je,{children:C.duration}),d.jsx(je,{children:ue.length}),d.jsx(je,{children:d.jsx(Wr,{variant:"default",children:C.status})})]},C.id)})})]})})]})}),d.jsx(Mt,{value:"faculties",children:d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx(Xe,{children:"Manage Faculties"}),d.jsx(_t,{children:"Add and manage faculties in your institution"})]}),d.jsxs(fl,{open:w,onOpenChange:_,children:[d.jsx(Ah,{asChild:!0,children:d.jsxs(rt,{children:[d.jsx(xh,{className:"w-4 h-4 mr-2"}),"Add Faculty"]})}),d.jsxs(pl,{children:[d.jsxs(ml,{children:[d.jsx(gl,{children:"Add New Faculty"}),d.jsx(yl,{children:"Enter the faculty name"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"faculty-name",children:"Faculty Name"}),d.jsx(qe,{id:"faculty-name",value:ee,onChange:C=>k(C.target.value),placeholder:"e.g., Faculty of Medicine"})]}),d.jsx(rt,{onClick:N,className:"w-full",children:"Add Faculty"})]})]})]})]})}),d.jsx(at,{children:d.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:o.map(C=>d.jsx(Qe,{children:d.jsxs(Ye,{children:[d.jsx(Xe,{className:"text-lg",children:C}),d.jsxs(_t,{children:[t.filter(ue=>ue.faculty===C).length," courses"]})]})},C))})})]})}),d.jsx(Mt,{value:"applications",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Student Applications"}),d.jsx(_t,{children:"Review and manage student applications"})]}),d.jsx(at,{children:d.jsxs(ol,{defaultValue:"pending",children:[d.jsxs(al,{children:[d.jsxs(Ot,{value:"pending",children:["Pending (",j("pending").length,")"]}),d.jsxs(Ot,{value:"admitted",children:["Admitted (",j("admitted").length,")"]}),d.jsxs(Ot,{value:"rejected",children:["Rejected (",j("rejected").length,")"]}),d.jsxs(Ot,{value:"waiting",children:["Waiting List (",j("waiting").length,")"]})]}),d.jsx(Mt,{value:"pending",children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Student Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Course"}),d.jsx(Me,{children:"Applied Date"}),d.jsx(Me,{children:"Actions"})]})}),d.jsx(Br,{children:j("pending").map(C=>d.jsxs(bt,{children:[d.jsx(je,{children:C.studentName}),d.jsx(je,{children:C.studentEmail}),d.jsx(je,{children:C.courseName}),d.jsx(je,{children:new Date(C.createdAt?.seconds*1e3).toLocaleDateString()}),d.jsx(je,{children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(rt,{size:"sm",onClick:()=>O(C.id,"admitted",C.studentId),children:[d.jsx(_h,{className:"w-4 h-4 mr-1"}),"Admit"]}),d.jsx(rt,{size:"sm",variant:"outline",onClick:()=>O(C.id,"waiting",C.studentId),children:"Waiting List"}),d.jsxs(rt,{size:"sm",variant:"destructive",onClick:()=>O(C.id,"rejected",C.studentId),children:[d.jsx(Xg,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},C.id))})]})}),d.jsx(Mt,{value:"admitted",children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Student Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Course"}),d.jsx(Me,{children:"Status"})]})}),d.jsx(Br,{children:j("admitted").map(C=>d.jsxs(bt,{children:[d.jsx(je,{children:C.studentName}),d.jsx(je,{children:C.studentEmail}),d.jsx(je,{children:C.courseName}),d.jsx(je,{children:d.jsx(Wr,{variant:"default",children:"Admitted"})})]},C.id))})]})}),d.jsx(Mt,{value:"rejected",children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Student Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Course"}),d.jsx(Me,{children:"Status"})]})}),d.jsx(Br,{children:j("rejected").map(C=>d.jsxs(bt,{children:[d.jsx(je,{children:C.studentName}),d.jsx(je,{children:C.studentEmail}),d.jsx(je,{children:C.courseName}),d.jsx(je,{children:d.jsx(Wr,{variant:"destructive",children:"Rejected"})})]},C.id))})]})}),d.jsx(Mt,{value:"waiting",children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Student Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Course"}),d.jsx(Me,{children:"Actions"})]})}),d.jsx(Br,{children:j("waiting").map(C=>d.jsxs(bt,{children:[d.jsx(je,{children:C.studentName}),d.jsx(je,{children:C.studentEmail}),d.jsx(je,{children:C.courseName}),d.jsx(je,{children:d.jsx(rt,{size:"sm",onClick:()=>O(C.id,"admitted",C.studentId),children:"Promote to Admitted"})})]},C.id))})]})})]})})]})}),d.jsx(Mt,{value:"profile",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Institution Profile"}),d.jsx(_t,{children:"Update your institution information"})]}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{children:"Institution Name"}),d.jsx(qe,{value:e?.profile?.institutionName||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Email"}),d.jsx(qe,{value:e?.email||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Type"}),d.jsx(qe,{value:e?.profile?.institutionType||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Contact Person"}),d.jsx(qe,{placeholder:"Name of contact person"})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Phone"}),d.jsx(qe,{value:e?.profile?.phone||""})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Address"}),d.jsx(qe,{value:e?.profile?.address||""})]}),d.jsx(rt,{children:"Update Profile"})]})})]})})]})]})};function Rh({className:n,...e}){return d.jsx("textarea",{"data-slot":"textarea",className:ft("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}const K4=()=>{const{user:n}=au(),[e,t]=T.useState([]),[r,o]=T.useState(""),[a,c]=T.useState([]),[f,p]=T.useState([]),[m,w]=T.useState([]),[_,E]=T.useState(!1),[b,V]=T.useState(null),[R,P]=T.useState(""),[F,$]=T.useState(""),[H,W]=T.useState([]);T.useEffect(()=>{J()},[n]);const J=async()=>{if(!n)return;const j=await zI();j.success&&t(j.data);const C=await U4(n.uid);if(C.success){p(C.data);const me=C.data.filter(Q=>Q.status==="admitted");me.length>1&&W(me)}const ue=await $4();ue.success&&w(ue.data)},ee=async j=>{o(j);const C=await BI(j);C.success&&c(C.data)},k=j=>{V(j),E(!0)},I=async()=>{if(!n||!b)return;const j=await F4({studentId:n.uid,courseId:b.id,institutionId:b.institutionId,courseName:b.name,appliedAt:new Date});j.success?(ut.success("Application submitted successfully"),E(!1),J()):ut.error(j.error||"Failed to submit application")},D=async(j,C)=>{if(n)try{const ue=f.filter(me=>me.status==="admitted");for(const me of ue)if(me.id!==j){await IT(ur(ht,"applications",me.id));const Q=dr(rn(ht,"applications"),fn("institutionId","==",me.institutionId),fn("courseId","==",me.courseId),fn("status","==","waiting")),ae=await Kn(Q);if(!ae.empty){const L=ae.docs[0];await jc(ur(ht,"applications",L.id),{status:"admitted"})}}ut.success("Institution selected successfully"),W([]),J()}catch{ut.error("Failed to select institution")}},N=async j=>{if(!n)return;(await H4({studentId:n.uid,jobId:j,companyId:m.find(ue=>ue.id===j)?.companyId})).success?ut.success("Job application submitted"):ut.error("Failed to apply for job")},O=j=>{switch(j){case"admitted":return d.jsx(_h,{className:"w-5 h-5 text-green-600"});case"pending":return d.jsx(zm,{className:"w-5 h-5 text-yellow-600"});case"rejected":return d.jsx(Xg,{className:"w-5 h-5 text-red-600"});case"waiting":return d.jsx(zm,{className:"w-5 h-5 text-blue-600"});default:return null}};return d.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-gray-900 mb-2",children:"Student Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Discover courses, apply to institutions, and find career opportunities"})]}),H.length>1&&d.jsxs(Qe,{className:"mb-6 border-orange-200 bg-orange-50",children:[d.jsxs(Ye,{children:[d.jsx(Xe,{className:"text-orange-900",children:"Multiple Admissions Received"}),d.jsx(_t,{className:"text-orange-700",children:"You have been admitted to multiple institutions. Please select one to proceed."})]}),d.jsx(at,{children:d.jsx("div",{className:"space-y-4",children:H.map(j=>d.jsxs("div",{className:"flex justify-between items-center p-4 bg-white rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-gray-900",children:j.courseName}),d.jsx("div",{className:"text-gray-600 text-sm",children:e.find(C=>C.id===j.institutionId)?.name})]}),d.jsx(rt,{onClick:()=>D(j.id,j.institutionId),children:"Select This Institution"})]},j.id))})})]}),d.jsxs(ol,{defaultValue:"browse",className:"space-y-4",children:[d.jsxs(al,{children:[d.jsx(Ot,{value:"browse",children:"Browse Courses"}),d.jsx(Ot,{value:"applications",children:"My Applications"}),d.jsx(Ot,{value:"jobs",children:"Job Opportunities"}),d.jsx(Ot,{value:"profile",children:"Profile & Documents"})]}),d.jsx(Mt,{value:"browse",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Discover Institutions & Courses"}),d.jsx(_t,{children:"Browse and apply to courses (maximum 2 per institution)"})]}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{children:"Select Institution"}),d.jsxs(cl,{value:r,onValueChange:ee,children:[d.jsx(dl,{children:d.jsx(ul,{placeholder:"Choose an institution"})}),d.jsx(hl,{children:e.map(j=>d.jsxs(hn,{value:j.id,children:[j.name," - ",j.location]},j.id))})]})]}),r&&d.jsx("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:a.map(j=>{const C=f.filter(me=>me.institutionId===r).length,ue=f.some(me=>me.courseId===j.id);return d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx(Xe,{className:"text-lg",children:j.name}),d.jsx(_t,{children:j.faculty})]}),d.jsx(QT,{className:"w-5 h-5 text-blue-600"})]})}),d.jsxs(at,{children:[d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"text-gray-600",children:["Duration: ",j.duration]}),d.jsxs("div",{className:"text-gray-600",children:["Requirements: ",j.requirements||"Contact institution"]})]}),d.jsx(rt,{className:"w-full mt-4",onClick:()=>k(j),disabled:C>=2||ue,children:ue?"Already Applied":C>=2?"Max Applications Reached":"Apply Now"})]})]},j.id)})})]})})]})}),d.jsx(Mt,{value:"applications",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"My Applications"}),d.jsx(_t,{children:"Track your course application status"})]}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-4",children:[f.map(j=>d.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[O(j.status),d.jsx("span",{className:"text-gray-900",children:j.courseName})]}),d.jsx("div",{className:"text-gray-600 text-sm",children:e.find(C=>C.id===j.institutionId)?.name}),d.jsxs("div",{className:"text-gray-500 text-sm mt-1",children:["Applied: ",new Date(j.createdAt?.seconds*1e3).toLocaleDateString()]})]}),d.jsx(Wr,{variant:j.status==="admitted"?"default":j.status==="rejected"?"destructive":"secondary",children:j.status})]},j.id)),f.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:"No applications yet. Browse courses to get started!"})]})})]})}),d.jsx(Mt,{value:"jobs",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Job Opportunities"}),d.jsx(_t,{children:"Explore career opportunities from partner companies"})]}),d.jsx(at,{children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.map(j=>d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx(Xe,{className:"text-lg",children:j.title}),d.jsx(_t,{children:j.companyName})]}),d.jsx(nf,{className:"w-5 h-5 text-purple-600"})]})}),d.jsxs(at,{children:[d.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[d.jsxs("div",{className:"text-gray-600",children:["Location: ",j.location]}),d.jsxs("div",{className:"text-gray-600",children:["Type: ",j.type]}),d.jsx("div",{className:"text-gray-700",children:j.description})]}),d.jsx(rt,{className:"w-full",onClick:()=>N(j.id),children:"Apply Now"})]})]},j.id)),m.length===0&&d.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:"No job opportunities available at the moment"})]})})]})}),d.jsx(Mt,{value:"profile",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Profile & Documents"}),d.jsx(_t,{children:"Upload your transcripts and certificates for job applications"})]}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"transcript",children:"Academic Transcript"}),d.jsx("div",{className:"mt-2",children:d.jsx(qe,{id:"transcript",type:"file",onChange:j=>P(j.target.value)})}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload your official transcript (PDF format recommended)"})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"certificates",children:"Additional Certificates"}),d.jsx("div",{className:"mt-2",children:d.jsx(qe,{id:"certificates",type:"file",multiple:!0,onChange:j=>$(j.target.value)})}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload any additional certificates or qualifications"})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"work-experience",children:"Work Experience"}),d.jsx(Rh,{id:"work-experience",placeholder:"Describe your work experience...",rows:4})]}),d.jsxs(rt,{children:[d.jsx(TD,{className:"w-4 h-4 mr-2"}),"Save Documents"]})]})})]})})]}),d.jsx(fl,{open:_,onOpenChange:E,children:d.jsxs(pl,{children:[d.jsxs(ml,{children:[d.jsx(gl,{children:"Apply for Course"}),d.jsxs(yl,{children:["Confirm your application for ",b?.name]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{children:"Course Name"}),d.jsx(qe,{value:b?.name||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Faculty"}),d.jsx(qe,{value:b?.faculty||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Personal Statement (Optional)"}),d.jsx(Rh,{placeholder:"Why do you want to study this course?",rows:4})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(rt,{onClick:I,className:"flex-1",children:"Submit Application"}),d.jsx(rt,{variant:"outline",onClick:()=>E(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},Q4=()=>{const{user:n,userProfile:e}=au(),[t,r]=T.useState([]),[o,a]=T.useState([]),[c,f]=T.useState(!1),[p,m]=T.useState(!1),[w,_]=T.useState(null),[E,b]=T.useState([]),[V,R]=T.useState(""),[P,F]=T.useState(""),[$,H]=T.useState(""),[W,J]=T.useState(""),[ee,k]=T.useState(""),[I,D]=T.useState(""),[N,O]=T.useState("");T.useEffect(()=>{j()},[n]);const j=async()=>{if(!n)return;const Q=dr(rn(ht,"jobs"),fn("companyId","==",n.uid)),L=(await Kn(Q)).docs.map(te=>({id:te.id,...te.data()}));r(L);const se=[];for(const te of L){const z=await W4(n.uid,te.id);if(z.success){const Z=await Promise.all(z.data.map(async ie=>{const he=await Zh(ur(ht,"users",ie.studentId)),ve=he.exists()?he.data():null;return{...ie,studentName:ve?.profile?.name||"Unknown",studentEmail:ve?.email||"Unknown",jobTitle:te.title}}));se.push(...Z)}}a(se)},C=async Q=>{if(Q.preventDefault(),!n)return;(await B4({companyId:n.uid,companyName:e?.profile?.companyName||"Unknown Company",title:V,description:P,location:$,type:W,qualifications:{minQualification:ee,requiredSkills:I.split(",").map(L=>L.trim()),yearsOfExperience:parseInt(N)||0}})).success?(ut.success("Job posted successfully"),f(!1),R(""),F(""),H(""),J(""),k(""),D(""),O(""),j()):ut.error("Failed to post job")},ue=Q=>{_(Q);const ae=o.filter(L=>L.jobId===Q.id);b(ae),m(!0)},me=Q=>Math.floor(Math.random()*40)+60;return d.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-gray-900 mb-2",children:"Company Dashboard"}),d.jsx("p",{className:"text-gray-600",children:e?.profile?.companyName||"Manage your company profile"})]}),e?.status==="pending"&&d.jsx(Qe,{className:"mb-6 border-yellow-200 bg-yellow-50",children:d.jsxs(Ye,{children:[d.jsx(Xe,{className:"text-yellow-900",children:"Account Pending Approval"}),d.jsx(_t,{className:"text-yellow-700",children:"Your company account is pending admin approval. You'll be able to post jobs once approved."})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Active Job Postings"}),d.jsx(nf,{className:"h-4 w-4 text-blue-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:t.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Total Applications"}),d.jsx(Hc,{className:"h-4 w-4 text-green-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:o.length})})]}),d.jsxs(Qe,{children:[d.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Xe,{className:"text-sm",children:"Qualified Candidates"}),d.jsx(Hc,{className:"h-4 w-4 text-purple-600"})]}),d.jsx(at,{children:d.jsx("div",{className:"text-gray-900",children:o.filter(Q=>me()>=75).length})})]})]}),d.jsxs(ol,{defaultValue:"jobs",className:"space-y-4",children:[d.jsxs(al,{children:[d.jsx(Ot,{value:"jobs",children:"Job Postings"}),d.jsx(Ot,{value:"applicants",children:"All Applicants"}),d.jsx(Ot,{value:"profile",children:"Company Profile"})]}),d.jsx(Mt,{value:"jobs",children:d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx(Xe,{children:"Manage Job Postings"}),d.jsx(_t,{children:"Post job opportunities and view qualified applicants"})]}),d.jsxs(fl,{open:c,onOpenChange:f,children:[d.jsx(Ah,{asChild:!0,children:d.jsxs(rt,{disabled:e?.status==="pending",children:[d.jsx(xh,{className:"w-4 h-4 mr-2"}),"Post Job"]})}),d.jsxs(pl,{className:"max-w-2xl",children:[d.jsxs(ml,{children:[d.jsx(gl,{children:"Post New Job"}),d.jsx(yl,{children:"Enter job details and requirements"})]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"job-title",children:"Job Title"}),d.jsx(qe,{id:"job-title",value:V,onChange:Q=>R(Q.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"job-description",children:"Job Description"}),d.jsx(Rh,{id:"job-description",value:P,onChange:Q=>F(Q.target.value),rows:4,required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"job-location",children:"Location"}),d.jsx(qe,{id:"job-location",value:$,onChange:Q=>H(Q.target.value),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"job-type",children:"Job Type"}),d.jsxs(cl,{value:W,onValueChange:J,children:[d.jsx(dl,{children:d.jsx(ul,{placeholder:"Select type"})}),d.jsxs(hl,{children:[d.jsx(hn,{value:"full-time",children:"Full Time"}),d.jsx(hn,{value:"part-time",children:"Part Time"}),d.jsx(hn,{value:"contract",children:"Contract"}),d.jsx(hn,{value:"internship",children:"Internship"})]})]})]})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"min-qualification",children:"Minimum Qualification"}),d.jsx(qe,{id:"min-qualification",value:ee,onChange:Q=>k(Q.target.value),placeholder:"e.g., Bachelor's Degree in Computer Science",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"required-skills",children:"Required Skills"}),d.jsx(qe,{id:"required-skills",value:I,onChange:Q=>D(Q.target.value),placeholder:"e.g., Python, React, SQL (comma separated)",required:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{htmlFor:"years-experience",children:"Years of Experience"}),d.jsx(qe,{id:"years-experience",type:"number",value:N,onChange:Q=>O(Q.target.value),placeholder:"0",required:!0})]}),d.jsx(rt,{type:"submit",className:"w-full",children:"Post Job"})]})]})]})]})}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-4",children:[t.map(Q=>{const ae=o.filter(L=>L.jobId===Q.id).length;return d.jsxs(Qe,{children:[d.jsx(Ye,{children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(Xe,{className:"text-lg",children:Q.title}),d.jsxs(_t,{children:[Q.location,"  ",Q.type]})]}),d.jsxs(Wr,{children:[ae," applicants"]})]})}),d.jsxs(at,{children:[d.jsx("p",{className:"text-gray-600 text-sm mb-4",children:Q.description}),d.jsx("div",{className:"flex gap-2",children:d.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>ue(Q),children:[d.jsx(hD,{className:"w-4 h-4 mr-2"}),"View Applicants"]})})]})]},Q.id)}),t.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500",children:'No job postings yet. Click "Post Job" to get started!'})]})})]})}),d.jsx(Mt,{value:"applicants",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"All Applicants"}),d.jsx(_t,{children:"View all qualified applicants across all job postings"})]}),d.jsx(at,{children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Applicant Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Job Position"}),d.jsx(Me,{children:"Match Score"}),d.jsx(Me,{children:"Applied Date"})]})}),d.jsxs(Br,{children:[o.map(Q=>{const ae=me();return d.jsxs(bt,{children:[d.jsx(je,{children:Q.studentName}),d.jsx(je,{children:Q.studentEmail}),d.jsx(je,{children:Q.jobTitle}),d.jsx(je,{children:d.jsxs(Wr,{variant:ae>=80?"default":ae>=70?"secondary":"outline",children:[ae,"%"]})}),d.jsx(je,{children:new Date(Q.createdAt?.seconds*1e3).toLocaleDateString()})]},Q.id)}),o.length===0&&d.jsx(bt,{children:d.jsx(je,{colSpan:5,className:"text-center text-gray-500",children:"No applications received yet"})})]})]})})]})}),d.jsx(Mt,{value:"profile",children:d.jsxs(Qe,{children:[d.jsxs(Ye,{children:[d.jsx(Xe,{children:"Company Profile"}),d.jsx(_t,{children:"Update your company information"})]}),d.jsx(at,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ve,{children:"Company Name"}),d.jsx(qe,{value:e?.profile?.companyName||""})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Industry"}),d.jsx(qe,{value:e?.profile?.industry||""})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Email"}),d.jsx(qe,{value:e?.email||"",disabled:!0})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Phone"}),d.jsx(qe,{value:e?.profile?.phone||""})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Address"}),d.jsx(qe,{value:e?.profile?.address||""})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Company Description"}),d.jsx(Rh,{placeholder:"Tell us about your company...",rows:4})]}),d.jsxs("div",{children:[d.jsx(Ve,{children:"Website"}),d.jsx(qe,{placeholder:"https://www.yourcompany.com"})]}),d.jsx(rt,{children:"Update Profile"})]})})]})})]}),d.jsx(fl,{open:p,onOpenChange:m,children:d.jsxs(pl,{className:"max-w-4xl",children:[d.jsxs(ml,{children:[d.jsxs(gl,{children:["Applicants for ",w?.title]}),d.jsx(yl,{children:"Qualified candidates automatically filtered by the system"})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs(Ur,{children:[d.jsx(zr,{children:d.jsxs(bt,{children:[d.jsx(Me,{children:"Name"}),d.jsx(Me,{children:"Email"}),d.jsx(Me,{children:"Match Score"}),d.jsx(Me,{children:"Status"})]})}),d.jsxs(Br,{children:[E.map(Q=>{const ae=me();return d.jsxs(bt,{children:[d.jsx(je,{children:Q.studentName}),d.jsx(je,{children:Q.studentEmail}),d.jsx(je,{children:d.jsxs(Wr,{variant:ae>=80?"default":"secondary",children:[ae,"% Match"]})}),d.jsx(je,{children:d.jsx(rt,{size:"sm",variant:"outline",children:"View Profile"})})]},Q.id)}),E.length===0&&d.jsx(bt,{children:d.jsx(je,{colSpan:4,className:"text-center text-gray-500",children:"No applicants yet"})})]})]})})]})})]})};var Y4=(n,e,t,r,o,a,c,f)=>{let p=document.documentElement,m=["light","dark"];function w(b){(Array.isArray(n)?n:[n]).forEach(V=>{let R=V==="class",P=R&&a?o.map(F=>a[F]||F):o;R?(p.classList.remove(...P),p.classList.add(a&&a[b]?a[b]:b)):p.setAttribute(V,b)}),_(b)}function _(b){f&&m.includes(b)&&(p.style.colorScheme=b)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)w(r);else try{let b=localStorage.getItem(e)||t,V=c&&b==="system"?E():b;w(V)}catch{}},X4=T.createContext(void 0),J4={setTheme:n=>{},themes:[]},Z4=()=>{var n;return(n=T.useContext(X4))!=null?n:J4};T.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:c,themes:f,nonce:p,scriptProps:m})=>{let w=JSON.stringify([t,e,a,n,f,c,r,o]).slice(1,-1);return T.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${Y4.toString()})(${w})`}})});const eF=({...n})=>{const{theme:e="system"}=Z4();return d.jsx(ZD,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function tF(){const{user:n,userProfile:e,loading:t}=au(),[r,o]=T.useState(null);return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?!n.emailVerified&&e?.role!=="admin"?d.jsx(Pd,{children:d.jsx("div",{className:"max-w-2xl mx-auto p-6 mt-12",children:d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[d.jsx("h2",{className:"text-yellow-900 mb-2",children:"Email Verification Required"}),d.jsx("p",{className:"text-yellow-700 mb-4",children:"Please verify your email address to access your account. Check your inbox for the verification link."}),d.jsx("p",{className:"text-yellow-600 text-sm",children:"Didn't receive the email? Check your spam folder or contact support."})]})})}):e?.status==="pending"&&(e?.role==="company"||e?.role==="institute")?d.jsx(Pd,{children:d.jsx("div",{className:"max-w-2xl mx-auto p-6 mt-12",children:d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[d.jsx("h2",{className:"text-blue-900 mb-2",children:"Account Pending Approval"}),d.jsxs("p",{className:"text-blue-700 mb-4",children:["Your ",e.role," account is currently being reviewed by our administrators. You will receive an email notification once your account is approved."]}),d.jsx("p",{className:"text-blue-600 text-sm",children:"This typically takes 1-2 business days."})]})})}):e?.status==="rejected"?d.jsx(Pd,{children:d.jsx("div",{className:"max-w-2xl mx-auto p-6 mt-12",children:d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[d.jsx("h2",{className:"text-red-900 mb-2",children:"Account Not Approved"}),d.jsx("p",{className:"text-red-700 mb-4",children:"Unfortunately, your account application was not approved. Please contact support for more information."})]})})}):d.jsxs(Pd,{children:[e?.role==="admin"&&d.jsx(q4,{}),e?.role==="institute"&&d.jsx(G4,{}),e?.role==="student"&&d.jsx(K4,{}),e?.role==="company"&&d.jsx(Q4,{})]}):r?d.jsx(c4,{initialMode:r,onBack:()=>o(null)}):d.jsx(eO,{onSelectRole:o})}function nF(){return d.jsxs(Xj,{children:[d.jsx(tF,{}),d.jsx(eF,{})]})}rC.createRoot(document.getElementById("root")).render(d.jsx(nF,{}));
